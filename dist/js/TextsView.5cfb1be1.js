(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["TextsView"],{"121b":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.message?s("div",{attrs:{id:"texts-view"}},[s("div",{attrs:{id:"texts-view-meta"}},[s("div",{staticClass:"texts-view-meta-label"},[e._v("Message sent")]),s("div",{staticClass:"texts-view-meta",domProps:{textContent:e._s(e.message.timestamp)}}),s("div",{staticClass:"texts-view-meta-label"},[e._v("Sent by")]),s("div",{staticClass:"texts-view-meta",domProps:{textContent:e._s(e.message.sender)}}),s("div",{staticClass:"texts-view-meta-label"},[e._v("Sent to")]),s("div",{staticClass:"texts-view-meta"},e._l(e.message.groups,(function(t){return s("div",{domProps:{textContent:e._s(t)}})})),0),s("div",{staticClass:"texts-view-meta-label"},[e._v("Message text")]),s("div",{staticClass:"texts-view-meta",domProps:{textContent:e._s(e.message.message)}})]),s("div",{attrs:{id:"texts-view-deliveries"}},e._l(e.message.deliveries,(function(e){return s("TextsViewDelivery",{key:e.id,attrs:{delivery:e}})})),1)]):s("div",{staticClass:"mt-3 ml-2"},[s("b-spinner",{attrs:{small:""}})],1)},n=[],r=s("a34a"),a=s.n(r),l=(s("b231"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"texts-view-delivery",class:e.classes},[s("div",{staticClass:"texts-view-delivery-meta"},[s("div",{staticClass:"texts-view-delivery-name-num"},[s("div",{staticClass:"texts-view-delivery-name",domProps:{textContent:e._s(e.delivery.recipient)}}),s("div",{staticClass:"texts-view-delivery-num",domProps:{textContent:e._s(e.delivery.number)}})]),s("div",{staticClass:"texts-view-delivery-status-time"},[s("div",{staticClass:"texts-view-delivery-status",class:e.classes,domProps:{textContent:e._s(e.formatStatus)}}),s("div",{staticClass:"texts-view-delivery-time",domProps:{textContent:e._s(e.formatTimestamp)}})])]),e.delivery.responses.length?s("div",{staticClass:"texts-view-delivery-responses"},e._l(e.delivery.responses,(function(t){return s("div",{staticClass:"texts-view-delivery-response"},[s("span",{staticClass:"texts-view-delivery-response-time",domProps:{textContent:e._s(t.timestamp.substr(11,8))}}),s("span",{domProps:{textContent:e._s(t.response)}})])})),0):e._e()])}),d=[],v={props:{delivery:Object},computed:{classes:function(){switch(this.delivery.status){case"queued":return"texts-view-delivery-pending";case"sent":return"texts-view-delivery-sent";case"sending":return"texts-view-delivery-pending";case"delivered":return"texts-view-delivery-delivered";case"undelivered":return"texts-view-delivery-failed";case"failed":return"texts-view-delivery-failed";case"No Cell Phone":return"texts-view-delivery-failed";default:return"texts-view-delivery-pending"}},formatStatus:function(){switch(this.delivery.status){case"queued":return"Queued";case"sending":return"Sending";case"sent":return"Sent";case"delivered":return"Delivered";case"undelivered":return"Not Delivered";case"failed":return"Failed";case"No Cell Phone":return"No Cell Phone";default:return"Pending"}},formatTimestamp:function(){return this.delivery.status&&"No Cell Phone"!==this.delivery.status?"as of ".concat(this.delivery.timestamp.substr(11,8)):""}}},o=v,c=(s("da5f"),s("2877")),u=Object(c["a"])(o,l,d,!1,null,null,null),m=u.exports;function p(e,t,s,i,n,r,a){try{var l=e[r](a),d=l.value}catch(v){return void s(v)}l.done?t(d):Promise.resolve(d).then(i,n)}function f(e){return function(){var t=this,s=arguments;return new Promise((function(i,n){var r=e.apply(t,s);function a(e){p(r,i,n,a,l,"next",e)}function l(e){p(r,i,n,a,l,"throw",e)}a(void 0)}))}}var x={components:{TextsViewDelivery:m},data:function(){return{message:null}},created:function(){this.load()},methods:{load:function(){var e=f(a.a.mark((function e(){return a.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$axios.get("/api/sms/".concat(this.$route.params.id));case 2:this.message=e.sent.data,this.message.deliveries.sort((function(e,t){return e.recipient<t.recipient?-1:e.recipient>t.recipient?1:0})),window.setTimeout(this.load,5e3);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},w=x,y=(s("f9f2"),Object(c["a"])(w,i,n,!1,null,null,null));t["default"]=y.exports},"400b":function(e,t,s){},bfcf:function(e,t,s){},da5f:function(e,t,s){"use strict";var i=s("bfcf"),n=s.n(i);n.a},f9f2:function(e,t,s){"use strict";var i=s("400b"),n=s.n(i);n.a}}]);
//# sourceMappingURL=TextsView.5cfb1be1.js.map