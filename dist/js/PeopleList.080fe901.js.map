{"version":3,"sources":["webpack:///./client/pages/people/PeopleList.vue?f9cb","webpack:///client/pages/people/PeopleList.vue","webpack:///./client/pages/people/PeopleList.vue?46ba","webpack:///./client/pages/people/PeopleList.vue","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./client/pages/people/PeopleList.vue?b811"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","groups","length","directives","name","rawName","value","expression","on","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","val","_value","group","multiple","_l","t","key","id","domProps","_s","_e","staticClass","_v","p","callSign","sortName","b","class","startsWith","email","email2","cellPhone","homePhone","workPhone","r","i","roles","people","staticRenderFns","data","created","$route","query","load","watch","methods","component","module","exports"],"mappings":"qHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,gBAAgB,CAAEN,EAAIO,QAAUP,EAAIO,OAAOC,OAAS,EAAGJ,EAAG,SAAS,CAACK,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOZ,EAAS,MAAEa,WAAW,UAAUP,MAAM,CAAC,GAAK,gBAAgBQ,GAAG,CAAC,OAAS,SAASC,GAAQ,IAAIC,EAAgBC,MAAMC,UAAUC,OAAOC,KAAKL,EAAOM,OAAOC,SAAQ,SAASC,GAAG,OAAOA,EAAEC,YAAWC,KAAI,SAASF,GAAG,IAAIG,EAAM,WAAYH,EAAIA,EAAEI,OAASJ,EAAEX,MAAM,OAAOc,KAAO1B,EAAI4B,MAAMb,EAAOM,OAAOQ,SAAWb,EAAgBA,EAAc,MAAMhB,EAAI8B,GAAI9B,EAAU,QAAE,SAAS+B,GAAG,OAAO3B,EAAG,SAAS,CAAC4B,IAAID,EAAEE,GAAGC,SAAS,CAAC,MAAQH,EAAEE,GAAG,YAAcjC,EAAImC,GAAGJ,EAAErB,YAAW,GAAGV,EAAIoC,KAAMpC,EAAW,QAAEI,EAAG,MAAM,CAACiC,YAAY,QAAQ,CAACjC,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,OAAO,GAAG,CAACF,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,iBAAiB,CAACF,EAAG,MAAM,CAACiC,YAAY,gCAAgC,CAACrC,EAAIsC,GAAG,YAAYlC,EAAG,MAAM,CAACiC,YAAY,iCAAiC,CAACrC,EAAIsC,GAAG,kBAAkBlC,EAAG,MAAM,CAACiC,YAAY,+BAA+B,CAACrC,EAAIsC,GAAG,WAAWtC,EAAI8B,GAAI9B,EAAU,QAAE,SAASuC,GAAG,MAAO,CAACnC,EAAG,MAAM,CAACiC,YAAY,iBAAiB,CAACjC,EAAG,cAAc,CAACE,MAAM,CAAC,GAAM,WAAciC,EAAI,IAAIL,SAAS,CAAC,YAAclC,EAAImC,GAAGI,EAAEC,SAAaD,EAAU,SAAI,KAAQA,EAAU,SAAI,IAAOA,EAAEE,aAAazC,EAAI8B,GAAIS,EAAQ,QAAE,SAASG,GAAG,OAAOtC,EAAG,MAAM,CAACiC,YAAY,eAAeM,MAAMD,EAAEE,WAAW,MAAQ,kBAAoB,mBAAmBV,SAAS,CAAC,YAAclC,EAAImC,GAAGO,UAAS,GAAGtC,EAAG,MAAM,CAACiC,YAAY,kBAAkB,CAAEE,EAAO,MAAEnC,EAAG,MAAM,CAACA,EAAG,IAAI,CAACE,MAAM,CAAC,KAAQ,UAAaiC,EAAO,OAAIL,SAAS,CAAC,YAAclC,EAAImC,GAAGI,EAAEM,YAAY7C,EAAIoC,KAAMG,EAAQ,OAAEnC,EAAG,MAAM,CAACA,EAAG,IAAI,CAACE,MAAM,CAAC,KAAQ,UAAaiC,EAAQ,QAAIL,SAAS,CAAC,YAAclC,EAAImC,GAAGI,EAAEO,aAAa9C,EAAIoC,KAAMG,EAAW,UAAEnC,EAAG,MAAM,CAACiC,YAAY,gBAAgB,CAACjC,EAAG,IAAI,CAACE,MAAM,CAAC,KAAQ,OAAUiC,EAAW,WAAIL,SAAS,CAAC,YAAclC,EAAImC,GAAGI,EAAEQ,cAAc/C,EAAIsC,GAAG,cAActC,EAAIoC,KAAMG,EAAW,UAAEnC,EAAG,MAAM,CAACiC,YAAY,gBAAgB,CAACjC,EAAG,IAAI,CAACE,MAAM,CAAC,KAAQ,OAAUiC,EAAW,WAAIL,SAAS,CAAC,YAAclC,EAAImC,GAAGI,EAAES,cAAchD,EAAIsC,GAAG,cAActC,EAAIoC,KAAMG,EAAW,UAAEnC,EAAG,MAAM,CAACiC,YAAY,gBAAgB,CAACjC,EAAG,IAAI,CAACE,MAAM,CAAC,KAAQ,OAAUiC,EAAW,WAAIL,SAAS,CAAC,YAAclC,EAAImC,GAAGI,EAAEU,cAAcjD,EAAIsC,GAAG,cAActC,EAAIoC,OAAOhC,EAAG,MAAM,CAACiC,YAAY,gBAAgB,CAACrC,EAAI8B,GAAIS,EAAO,OAAE,SAASW,EAAEC,GAAG,OAAO/C,EAAG,MAAM,CAAC4B,IAAImB,EAAEjB,SAAS,CAAC,YAAclC,EAAImC,GAAGe,SAAUX,EAAEa,MAAM5C,OAAgCR,EAAIoC,KAA5BhC,EAAG,MAAM,CAACJ,EAAIsC,GAAG,QAAiB,QAAO,GAA0B,IAAtBtC,EAAIqD,OAAO7C,OAAcJ,EAAG,MAAM,CAACJ,EAAIsC,GAAG,sBAAsBlC,EAAG,MAAM,CAAC8B,SAAS,CAAC,YAAclC,EAAImC,GAAKnC,EAAIqD,OAAa,OAAI,wBAAyB,IACrlFC,EAAkB,G,sWC6CtB,OACEC,KAAM,WAAR,8DACEC,QAFF,WAGIvD,KAAK2B,MAAQ3B,KAAKwD,OAAOC,MAAM9B,OAAS,EAA5C,8BACI3B,KAAK0D,QAEPC,MAAO,CACLhC,MADJ,WAEM,EAAN,qDACM3B,KAAK0D,SAGTE,QAAS,CACP,KADJ,yHAEA,gBAFA,SAGA,2DAHA,OAGA,EAHA,OAGA,KACA,qBACA,qBACA,4BACA,8CACA,8BAEA,gBAVA,0GC1DmW,I,wBCQ/VC,EAAY,eACd,EACA/D,EACAuD,GACA,EACA,KACA,KACA,MAIa,aAAAQ,E,uDCnBfC,EAAOC,QAAU,EAAQ,S,kCCAzB,yBAAsiB,EAAG","file":"js/PeopleList.080fe901.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"people-list\"}},[(_vm.groups && _vm.groups.length > 1)?_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.group),expression:\"group\"}],attrs:{\"id\":\"people-group\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.group=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.groups),function(t){return _c('option',{key:t.id,domProps:{\"value\":t.id,\"textContent\":_vm._s(t.name)}})}),0):_vm._e(),(_vm.loading)?_c('div',{staticClass:\"mt-3\"},[_c('b-spinner',{attrs:{\"small\":\"\"}})],1):[_c('div',{attrs:{\"id\":\"people-table\"}},[_c('div',{staticClass:\"people-person people-heading\"},[_vm._v(\"Person\")]),_c('div',{staticClass:\"people-contact people-heading\"},[_vm._v(\"Contact Info\")]),_c('div',{staticClass:\"people-roles people-heading\"},[_vm._v(\"Roles\")]),_vm._l((_vm.people),function(p){return [_c('div',{staticClass:\"people-person\"},[_c('router-link',{attrs:{\"to\":(\"/people/\" + (p.id))},domProps:{\"textContent\":_vm._s(p.callSign ? ((p.sortName) + \" (\" + (p.callSign) + \")\") : p.sortName)}}),_vm._l((p.badges),function(b){return _c('div',{staticClass:\"people-badge\",class:b.startsWith('No') ? 'people-badge-no' : 'people-badge-yes',domProps:{\"textContent\":_vm._s(b)}})})],2),_c('div',{staticClass:\"people-contact\"},[(p.email)?_c('div',[_c('a',{attrs:{\"href\":(\"mailto:\" + (p.email))},domProps:{\"textContent\":_vm._s(p.email)}})]):_vm._e(),(p.email2)?_c('div',[_c('a',{attrs:{\"href\":(\"mailto:\" + (p.email2))},domProps:{\"textContent\":_vm._s(p.email2)}})]):_vm._e(),(p.cellPhone)?_c('div',{staticClass:\"people-phone\"},[_c('a',{attrs:{\"href\":(\"tel:\" + (p.cellPhone))},domProps:{\"textContent\":_vm._s(p.cellPhone)}}),_vm._v(\"\\n(Cell)\")]):_vm._e(),(p.homePhone)?_c('div',{staticClass:\"people-phone\"},[_c('a',{attrs:{\"href\":(\"tel:\" + (p.homePhone))},domProps:{\"textContent\":_vm._s(p.homePhone)}}),_vm._v(\"\\n(Home)\")]):_vm._e(),(p.workPhone)?_c('div',{staticClass:\"people-phone\"},[_c('a',{attrs:{\"href\":(\"tel:\" + (p.workPhone))},domProps:{\"textContent\":_vm._s(p.workPhone)}}),_vm._v(\"\\n(Work)\")]):_vm._e()]),_c('div',{staticClass:\"people-roles\"},[_vm._l((p.roles),function(r,i){return _c('div',{key:i,domProps:{\"textContent\":_vm._s(r)}})}),(!p.roles.length)?_c('div',[_vm._v(\"â€”\")]):_vm._e()],2)]})],2),(_vm.people.length === 1)?_c('div',[_vm._v(\"1 person listed.\")]):_c('div',{domProps:{\"textContent\":_vm._s(((_vm.people.length) + \" people listed.\"))}})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nPeopleList displays the list of people.\n-->\n\n<template lang=\"pug\">\n#people-list\n  select#people-group(v-if=\"groups && groups.length > 1\" v-model=\"group\")\n    option(v-for=\"t in groups\" :key=\"t.id\" :value=\"t.id\" v-text=\"t.name\")\n  div.mt-3(v-if=\"loading\")\n    b-spinner(small)\n  template(v-else)\n    #people-table\n      .people-person.people-heading Person\n      .people-contact.people-heading Contact Info\n      .people-roles.people-heading Roles\n      template(v-for=\"p in people\")\n        .people-person\n          router-link(:to=\"`/people/${p.id}`\" v-text=\"p.callSign ? `${p.sortName} (${p.callSign})` : p.sortName\")\n          div.people-badge(v-for=\"b in p.badges\" :class=\"b.startsWith('No') ? 'people-badge-no' : 'people-badge-yes'\" v-text=\"b\")\n        .people-contact\n          div(v-if=\"p.email\")\n            a(:href=\"`mailto:${p.email}`\" v-text=\"p.email\")\n          div(v-if=\"p.email2\")\n            a(:href=\"`mailto:${p.email2}`\" v-text=\"p.email2\")\n          .people-phone(v-if=\"p.cellPhone\")\n            a(:href=\"`tel:${p.cellPhone}`\" v-text=\"p.cellPhone\")\n            |\n            | (Cell)\n          .people-phone(v-if=\"p.homePhone\")\n            a(:href=\"`tel:${p.homePhone}`\" v-text=\"p.homePhone\")\n            |\n            | (Home)\n          .people-phone(v-if=\"p.workPhone\")\n            a(:href=\"`tel:${p.workPhone}`\" v-text=\"p.workPhone\")\n            |\n            | (Work)\n        .people-roles\n          div(v-for=\"(r, i) in p.roles\" :key=\"i\" v-text=\"r\")\n          div(v-if=\"!p.roles.length\") &mdash;\n    div(v-if=\"people.length === 1\") 1 person listed.\n    div(v-else v-text=\"`${people.length} people listed.`\")\n</template>\n\n<script>\nimport Cookies from 'js-cookie'\n\nexport default {\n  data: () => ({ group: 0, groups: null, people: null, canAdd: false, loading: false }),\n  created() {\n    this.group = this.$route.query.group || Cookies.get('serv-people-group') || 0\n    this.load()\n  },\n  watch: {\n    group() {\n      Cookies.set('serv-people-group', this.group, { expires: 3650 })\n      this.load()\n    },\n  },\n  methods: {\n    async load() {\n      this.loading = true\n      const data = (await this.$axios.get('/api/people', { params: { group: this.group } })).data\n      this.people = data.people\n      this.canAdd = data.canAdd\n      if (data.viewableGroups.length > 1) {\n        data.viewableGroups.unshift({ id: 0, name: '(all)' })\n        this.groups = data.viewableGroups\n      }\n      this.loading = false\n    },\n  },\n}\n</script>\n\n<style lang=\"stylus\">\n#people-list\n  padding 1.5rem 0.75rem 0.75rem\n#people-table\n  display flex\n  flex-direction column\n  margin-top 0.75rem\n  @media (min-width: 576px)\n    display grid\n    grid auto / 10rem 1fr\n  @media (min-width: 800px)\n    grid auto / 10rem 1fr 1fr\n  @media (min-width: 960px)\n    grid auto / 10rem 21rem 1fr\n.people-heading\n  display none\n  @media (min-width: 576px)\n    display block\n    font-weight bold\n.people-person\n  overflow hidden\n  margin-top 0.25rem\n  padding-left 1.5rem\n  text-indent -1.5rem\n  text-overflow ellipsis\n  white-space nowrap\n  line-height 1.2\n  @media (min-width: 576px)\n    margin-top 0.75rem\n    text-overflow clip\n    white-space normal\n.people-badge\n  display inline-block\n  margin-left 1.5rem\n  padding 0 0.25rem\n  border-radius 4px\n  color white\n  text-indent 0\n  font-size 0.75rem\n.people-badge-no\n  background-color red\n.people-badge-yes\n  background-color green\n.people-contact\n  margin-left 6rem\n  div\n    overflow hidden\n    text-overflow ellipsis\n    white-space nowrap\n  @media (min-width: 576px)\n    margin-top 0.75rem\n    margin-left 0.25rem\n.people-phone\n  font-variant tabular-nums\n.people-roles\n  display none\n  @media (min-width: 800px)\n    display block\n    margin-top 0.75rem\n    margin-left 0.25rem\n    div\n      overflow hidden\n      text-overflow ellipsis\n      white-space nowrap\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PeopleList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PeopleList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PeopleList.vue?vue&type=template&id=fd6f22b4&lang=pug&\"\nimport script from \"./PeopleList.vue?vue&type=script&lang=js&\"\nexport * from \"./PeopleList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PeopleList.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = require(\"regenerator-runtime\");\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PeopleList.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PeopleList.vue?vue&type=style&index=0&lang=stylus&\""],"sourceRoot":""}