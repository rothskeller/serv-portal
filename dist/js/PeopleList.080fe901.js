(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["PeopleList"],{"2ea7":function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"people-list"}},[e.groups&&e.groups.length>1?o("select",{directives:[{name:"model",rawName:"v-model",value:e.group,expression:"group"}],attrs:{id:"people-group"},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.group=t.target.multiple?o:o[0]}}},e._l(e.groups,(function(t){return o("option",{key:t.id,domProps:{value:t.id,textContent:e._s(t.name)}})})),0):e._e(),e.loading?o("div",{staticClass:"mt-3"},[o("b-spinner",{attrs:{small:""}})],1):[o("div",{attrs:{id:"people-table"}},[o("div",{staticClass:"people-person people-heading"},[e._v("Person")]),o("div",{staticClass:"people-contact people-heading"},[e._v("Contact Info")]),o("div",{staticClass:"people-roles people-heading"},[e._v("Roles")]),e._l(e.people,(function(t){return[o("div",{staticClass:"people-person"},[o("router-link",{attrs:{to:"/people/"+t.id},domProps:{textContent:e._s(t.callSign?t.sortName+" ("+t.callSign+")":t.sortName)}}),e._l(t.badges,(function(t){return o("div",{staticClass:"people-badge",class:t.startsWith("No")?"people-badge-no":"people-badge-yes",domProps:{textContent:e._s(t)}})}))],2),o("div",{staticClass:"people-contact"},[t.email?o("div",[o("a",{attrs:{href:"mailto:"+t.email},domProps:{textContent:e._s(t.email)}})]):e._e(),t.email2?o("div",[o("a",{attrs:{href:"mailto:"+t.email2},domProps:{textContent:e._s(t.email2)}})]):e._e(),t.cellPhone?o("div",{staticClass:"people-phone"},[o("a",{attrs:{href:"tel:"+t.cellPhone},domProps:{textContent:e._s(t.cellPhone)}}),e._v("\n(Cell)")]):e._e(),t.homePhone?o("div",{staticClass:"people-phone"},[o("a",{attrs:{href:"tel:"+t.homePhone},domProps:{textContent:e._s(t.homePhone)}}),e._v("\n(Home)")]):e._e(),t.workPhone?o("div",{staticClass:"people-phone"},[o("a",{attrs:{href:"tel:"+t.workPhone},domProps:{textContent:e._s(t.workPhone)}}),e._v("\n(Work)")]):e._e()]),o("div",{staticClass:"people-roles"},[e._l(t.roles,(function(t,n){return o("div",{key:n,domProps:{textContent:e._s(t)}})})),t.roles.length?e._e():o("div",[e._v("â€”")])],2)]}))],2),1===e.people.length?o("div",[e._v("1 person listed.")]):o("div",{domProps:{textContent:e._s(e.people.length+" people listed.")}})]],2)},s=[],a=o("a34a"),r=o.n(a),l=o("a78e"),i=o.n(l);function p(e,t,o,n,s,a,r){try{var l=e[a](r),i=l.value}catch(p){return void o(p)}l.done?t(i):Promise.resolve(i).then(n,s)}function u(e){return function(){var t=this,o=arguments;return new Promise((function(n,s){var a=e.apply(t,o);function r(e){p(a,n,s,r,l,"next",e)}function l(e){p(a,n,s,r,l,"throw",e)}r(void 0)}))}}var d={data:function(){return{group:0,groups:null,people:null,canAdd:!1,loading:!1}},created:function(){this.group=this.$route.query.group||i.a.get("serv-people-group")||0,this.load()},watch:{group:function(){i.a.set("serv-people-group",this.group,{expires:3650}),this.load()}},methods:{load:function(){var e=u(r.a.mark((function e(){var t;return r.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.$axios.get("/api/people",{params:{group:this.group}});case 3:t=e.sent.data,this.people=t.people,this.canAdd=t.canAdd,t.viewableGroups.length>1&&(t.viewableGroups.unshift({id:0,name:"(all)"}),this.groups=t.viewableGroups),this.loading=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},c=d,h=(o("df6d"),o("2877")),v=Object(h["a"])(c,n,s,!1,null,null,null);t["default"]=v.exports},"45fe":function(e,t,o){},a34a:function(e,t,o){e.exports=o("96cf")},df6d:function(e,t,o){"use strict";var n=o("45fe"),s=o.n(n);s.a}}]);
//# sourceMappingURL=PeopleList.080fe901.js.map