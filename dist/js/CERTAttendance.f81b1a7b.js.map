{"version":3,"sources":["webpack:///./client/pages/reports/CERTAttendance.vue?1a47","webpack:///client/pages/reports/CERTAttendance.vue","webpack:///./client/pages/reports/CERTAttendance.vue?ec45","webpack:///./client/pages/reports/CERTAttendance.vue","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./client/pages/reports/CERTAttendance.vue?22b9"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_l","row","rownum","key","cell","colnum","class","headerClass","span","domProps","_s","wrapText","spanStarts","staticRenderFns","props","team","String","dateFrom","dateTo","stats","detail","data","computed","header","forEach","col","methods","text","replace","component","module","exports"],"mappings":"gJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAW,QAAEI,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,OAAO,GAAGH,EAAG,QAAQ,CAACG,MAAM,CAAC,GAAK,mBAAmB,CAACH,EAAG,QAAQJ,EAAIQ,GAAIR,EAAU,QAAE,SAASS,EAAIC,GAAQ,OAAON,EAAG,KAAK,CAACO,IAAID,GAAQV,EAAIQ,GAAG,GAAM,SAASI,EAAKC,GAAQ,OAAOT,EAAG,KAAK,CAACO,IAAIE,EAAOC,MAAMd,EAAIe,YAAYL,EAAQG,GAAQN,MAAM,CAAC,QAAUK,EAAKI,MAAQ,GAAGC,SAAS,CAAC,YAAcjB,EAAIkB,GAAGlB,EAAImB,SAASP,UAAY,MAAK,GAAGR,EAAG,QAAQJ,EAAIQ,GAAIR,EAAQ,MAAE,SAASS,EAAIC,GAAQ,OAAON,EAAG,KAAK,CAACO,IAAID,GAAQV,EAAIQ,GAAG,GAAM,SAASI,EAAKC,GAAQ,OAAOT,EAAG,KAAK,CAACO,IAAIE,EAAOC,MAAMd,EAAIoB,WAAWP,GAAU,gBAAkB,KAAKI,SAAS,CAAC,YAAcjB,EAAIkB,GAAGN,SAAW,MAAK,GAAGR,EAAG,QAAQJ,EAAIQ,GAAIR,EAAU,QAAE,SAASS,EAAIC,GAAQ,OAAON,EAAG,KAAK,CAACO,IAAID,GAAQV,EAAIQ,GAAG,GAAM,SAASI,EAAKC,GAAQ,OAAOT,EAAG,KAAK,CAACO,IAAIE,EAAOC,MAAMd,EAAIoB,WAAWP,GAAU,gBAAkB,KAAKI,SAAS,CAAC,YAAcjB,EAAIkB,GAAGN,SAAW,MAAK,MAC19BS,EAAkB,G,iVCmBtB,OACEC,MAAO,CACLC,KAAMC,OACNC,SAAUD,OACVE,OAAQF,OACRG,MAAOH,OACPI,OAAQJ,QAEVK,KAAM,WAAR,sDACEC,SAAU,CACRV,WADJ,WAEM,IAAN,KACA,IAKM,OAJAnB,KAAK8B,OAAO,GAAGC,SAAQ,SAA7B,GACYpB,EAAKI,OAAMI,EAAWa,IAAO,GACjCA,GAAOrB,EAAKI,MAAQ,KAEfI,IAGX,QApBF,yHAqBA,mFACA,gBAtBA,SAuBA,gDACA,QACA,eACA,uBACA,mBACA,iBACA,mBACA,iBA9BA,OAuBA,EAvBA,OAgCA,KACA,qBACA,iBACA,qBACA,gBApCA,wGAsCEc,QAAS,CACPnB,YADJ,SACA,KACM,OAAN,IAAU,GAAV,iDACA,MAEII,SALJ,SAKA,GACM,OAAOP,EAAKI,KAAO,EAAIJ,EAAKuB,KAAOvB,EAAKuB,KAAKC,QAAQ,IAAK,SChEuS,I,wBCQnWC,EAAY,eACd,EACAtC,EACAsB,GACA,EACA,KACA,KACA,MAIa,aAAAgB,E,8BCnBfC,EAAOC,QAAU,EAAQ,S,kCCAzB,yBAA0iB,EAAG","file":"js/CERTAttendance.f81b1a7b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.loading)?_c('div',{staticClass:\"mt-3\"},[_c('b-spinner',{attrs:{\"small\":\"\"}})],1):_c('table',{attrs:{\"id\":\"cert-att-table\"}},[_c('thead',_vm._l((_vm.header),function(row,rownum){return _c('tr',{key:rownum},_vm._l((row),function(cell,colnum){return _c('td',{key:colnum,class:_vm.headerClass(rownum, colnum),attrs:{\"colspan\":cell.span || 1},domProps:{\"textContent\":_vm._s(_vm.wrapText(cell))}})}),0)}),0),_c('tbody',_vm._l((_vm.body),function(row,rownum){return _c('tr',{key:rownum},_vm._l((row),function(cell,colnum){return _c('td',{key:colnum,class:_vm.spanStarts[colnum] ? 'cert-att-span' : null,domProps:{\"textContent\":_vm._s(cell)}})}),0)}),0),_c('tfoot',_vm._l((_vm.footer),function(row,rownum){return _c('tr',{key:rownum},_vm._l((row),function(cell,colnum){return _c('td',{key:colnum,class:_vm.spanStarts[colnum] ? 'cert-att-span' : null,domProps:{\"textContent\":_vm._s(cell)}})}),0)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nCERTAttendance displays a CERT attendance report.\n-->\n\n<template lang=\"pug\">\ndiv.mt-3(v-if=\"loading\")\n  b-spinner(small)\ntable#cert-att-table(v-else)\n  thead\n    tr(v-for=\"(row, rownum) in header\" :key=\"rownum\")\n      td(v-for=\"(cell, colnum) in row\" :key=\"colnum\" :colspan=\"cell.span || 1\" :class=\"headerClass(rownum, colnum)\" v-text=\"wrapText(cell)\")\n  tbody\n    tr(v-for=\"(row, rownum) in body\" :key=\"rownum\")\n      td(v-for=\"(cell, colnum) in row\" :key=\"colnum\" :class=\"spanStarts[colnum] ? 'cert-att-span' : null\" v-text=\"cell\")\n  tfoot\n    tr(v-for=\"(row, rownum) in footer\" :key=\"rownum\")\n      td(v-for=\"(cell, colnum) in row\" :key=\"colnum\" :class=\"spanStarts[colnum] ? 'cert-att-span' : null\" v-text=\"cell\")\n</template>\n\n<script>\nexport default {\n  props: {\n    team: String,\n    dateFrom: String,\n    dateTo: String,\n    stats: String,\n    detail: String,\n  },\n  data: () => ({ loading: false, header: null, body: null, footer: null }),\n  computed: {\n    spanStarts() {\n      const spanStarts = {}\n      let col = 0\n      this.header[0].forEach(cell => {\n        if (cell.span) spanStarts[col] = true\n        col += cell.span || 1\n      })\n      return spanStarts\n    }\n  },\n  async created() {\n    this.$store.commit('setPage', { title: 'CERT Attendance', subtitle: 'CERT Attendance' })\n    this.loading = true\n    const data = (await this.$axios.get('/api/reports/cert-attendance', {\n      params: {\n        team: this.team,\n        dateFrom: this.dateFrom,\n        dateTo: this.dateTo,\n        stats: this.stats,\n        detail: this.detail,\n        format: 'JSON',\n      }\n    })).data\n    this.header = data.header\n    this.body = data.body\n    this.footer = data.footer\n    this.loading = false\n  },\n  methods: {\n    headerClass(row, col) {\n      if ((row === 0 && col !== 0) || (row !== 0 && this.spanStarts[col])) return 'cert-att-span'\n      else return null\n    },\n    wrapText(cell) {\n      return cell.span > 1 ? cell.text : cell.text.replace('-', '\\n')\n    },\n  },\n}\n</script>\n\n<style lang=\"stylus\">\n#cert-att-table\n  margin-top 1.5rem\n  border-right 2px solid black\n  border-bottom 2px solid black\n  thead\n    td:first-child\n      border-top none\n      border-left none\n    tr:first-child td:not(:first-child)\n      border-top 2px solid black\n      white-space pre\n    tr:first-child td\n      padding 2px 6px\n  tbody\n    border-top 2px solid black\n    border-left 2px solid black\n    tr:nth-child(even)\n      background-color #eee\n  td\n    padding 2px 4px\n    min-width 2rem\n    border-top 1px solid #ccc\n    border-left 1px solid #ccc\n    text-align center\n    &:first-child\n      padding 2px 6px\n      text-align left\n    &.cert-att-span\n      border-left 2px solid black\n  tfoot\n    border-top 2px solid black\n    border-left 2px solid black\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CERTAttendance.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CERTAttendance.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CERTAttendance.vue?vue&type=template&id=247cefd0&lang=pug&\"\nimport script from \"./CERTAttendance.vue?vue&type=script&lang=js&\"\nexport * from \"./CERTAttendance.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CERTAttendance.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = require(\"regenerator-runtime\");\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CERTAttendance.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CERTAttendance.vue?vue&type=style&index=0&lang=stylus&\""],"sourceRoot":""}