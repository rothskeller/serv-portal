(function(e){function t(t){for(var n,o,i=t[0],l=t[1],u=t[2],d=0,p=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);c&&c(t);while(p.length)p.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,i=1;i<a.length;i++){var l=a[i];0!==r[l]&&(n=!1)}n&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={app:0},s=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var c=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"013f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Page",{attrs:{title:"SERV Portal"}},[a("div",{attrs:{id:"login-top"}},[a("div",{attrs:{id:"login-banner"}},[e._v("Please log in.")]),a("div",{attrs:{id:"login-forserv"}},[e._v("This web site is for SERV volunteers only.\nIf you are interested in joining one of the SERV volunteer organizations,\nplease visit Sunnyvale’s "),a("a",{attrs:{href:"https://sunnyvale.ca.gov/government/safety/emergency.htm"}},[e._v("emergency response page")]),e._v(".")]),a("form",{attrs:{id:"login-form"},on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[a("b-form-group",{attrs:{label:"Email address","label-for":"login-email","label-cols-sm":"4"}},[a("b-input",{attrs:{id:"login-email",autocorrect:"off",autocapitalize:"none",autofocus:"",required:"",trim:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("b-form-group",{attrs:{label:"Password","label-for":"login-password","label-cols-sm":"4"}},[a("b-input",{ref:"password",attrs:{id:"login-password",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("div",{attrs:{id:"login-submit-row"}},[a("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Log in")])],1),e.failed?a("div",{attrs:{id:"login-failed"}},[e._v("Login incorrect. Please try again.")]):e._e()],1),a("div",{attrs:{id:"login-reset"}},[a("b-btn",{attrs:{to:"/password-reset"}},[e._v("Reset my password")])],1)])])},r=[],s=a("a34a"),o=a.n(s);function i(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(u){return void a(u)}i.done?t(l):Promise.resolve(l).then(n,r)}function l(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){i(s,n,r,o,l,"next",e)}function l(e){i(s,n,r,o,l,"throw",e)}o(void 0)}))}}var u={data:function(){return{email:"",password:"",failed:!1}},methods:{onSubmit:function(){var e=l(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.email&&this.password){e.next=2;break}return e.abrupt("return");case 2:return t=new FormData,t.append("email",this.email),t.append("password",this.password),e.prev=5,e.next=8,this.$axios.post("/api/login",t);case 8:a=e.sent.data,this.$store.commit("login",a),this.$router.replace(this.$route.query.redirect||"/events"),e.next=19;break;case 13:e.prev=13,e.t0=e["catch"](5),console.error(e.t0),this.failed=!0,this.password="",this.$refs.password.focus();case 19:case"end":return e.stop()}}),e,this,[[5,13]])})));function t(){return e.apply(this,arguments)}return t}()}},c=u,d=(a("c5b4a"),a("2877")),p=Object(d["a"])(c,n,r,!1,null,"cd675560",null);t["default"]=p.exports},"019d":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-form-group",{attrs:{id:"pwentry-password",label:e.label,"label-cols-sm":"auto","label-class":e.labelClass,state:!e.passwordError&&(!!e.passwordSuccess||null),"invalid-feedback":e.passwordError,"valid-feedback":e.passwordSuccess}},[a("div",[a("b-input",{attrs:{id:"pwentry-password1",type:"password",state:e.passwordState},model:{value:e.password1,callback:function(t){e.password1=t},expression:"password1"}}),a("b-input",{staticClass:"mt-2",attrs:{id:"pwentry-password2",type:"password",state:e.passwordState},model:{value:e.password2,callback:function(t){e.password2=t},expression:"password2"}}),e.passwordScore>=0?a("b-progress",{attrs:{id:"pwentry-password-score",height:"0.5rem"}},[a("b-progress-bar",{attrs:{value:100,variant:e.passwordVariant}}),a("b-progress-bar",{attrs:{value:e.passwordScore>0?100:0,variant:e.passwordVariant}}),a("b-progress-bar",{attrs:{value:e.passwordScore>1?100:0,variant:e.passwordVariant}}),a("b-progress-bar",{attrs:{value:e.passwordScore>2?100:0,variant:e.passwordVariant}}),a("b-progress-bar",{attrs:{value:e.passwordScore>3?100:0,variant:e.passwordVariant}})],1):e._e()],1)])},r=[],s=a("580e"),o=a.n(s);function i(e){return c(e)||u(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function c(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}var d={props:{label:String,labelClass:String,deferValidation:Boolean,allowBadPassword:Boolean,passwordHints:Array},data:function(){return{password1:null,password2:null,passwordHints:null,passwordError:null,passwordSuccess:null,passwordScore:-1}},computed:{passwordState:function(){return!(this.password1&&this.passwordScore<3&&!this.allowBadPassword)&&null},passwordVariant:function(){return this.passwordScore>=3?"success":2===this.passwordScore?"warning":"danger"}},watch:{password1:"validate",password2:"validate"},methods:{validate:function(){if(this.deferValidation&&!this.password2||this.password1===this.password2)if(this.password1){var e=o()(this.password1,this.passwordHints);this.passwordScore=e.score,e.feedback?(this.passwordError=[e.feedback.warning].concat(i(e.feedback.suggestions),[this.passwordScore<3?"This password would take ".concat(e.crack_times_display.offline_slow_hashing_1e4_per_second," to crack."):null]).filter((function(e){return!!e})).join("\n"),this.passwordSuccess=this.passwordScore>2?"This password would take ".concat(e.crack_times_display.offline_slow_hashing_1e4_per_second," to crack."):null):this.passwordError=this.passwordSuccess=null}else this.passwordScore=-1,this.passwordError=this.passwordSuccess=null;else this.passwordScore=-1,this.passwordError="These two password entries do not match.",this.passwordSuccess=null;this.password1||this.password2?this.password1!==this.password2?this.$emit("change",null):this.allowBadPassword||this.passwordScore>=3?this.$emit("change",this.password1):this.emit("change",null):this.$emit("change","")}}},p=d,v=(a("e4a1"),a("2877")),h=Object(v["a"])(p,n,r,!1,null,null,null);t["default"]=h.exports},"0619":function(e,t,a){"use strict";var n=a("be131"),r=a.n(n);r.a},"0964":function(e,t,a){},"0fe9":function(e,t,a){},1628:function(e,t,a){var n={"./Main.vue":"3ac4","./base/Page.vue":"2213","./base/PasswordEntry.vue":"019d","./base/SERVGroupDots.vue":"3ebb","./pages/Event.vue":"3a11","./pages/Events.vue":"e640","./pages/Login.vue":"013f","./pages/Logout.vue":"4ab3","./pages/PWReset.vue":"3f65","./pages/PWResetToken.vue":"d43e","./pages/People.vue":"2a8c","./pages/Person.vue":"9350","./pages/Reports.vue":"b439","./pages/Role.vue":"592a","./pages/Roles.vue":"548a","./pages/event/EventAttendance.vue":"f78f","./pages/event/EventEdit.vue":"49a6","./pages/event/EventView.vue":"5c2e","./pages/events/EventsCalendar.vue":"2bbc","./pages/events/EventsList.vue":"8d5a","./pages/reports/CERTAttendance.vue":"fec3","./pages/reports/CERTAttendanceForm.vue":"ea21"};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id="1628"},"1c1b":function(e,t,a){"use strict";var n=a("2db1"),r=a.n(n);r.a},2213:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.$store.state.touch?"touch":"mouse",attrs:{id:"page-top"}},[a("div",{attrs:{id:"page-heading"}},[a("div",{attrs:{id:"page-menu-trigger-box"},on:{click:e.onMenuTrigger}},[e.$store.state.me?a("svg",{staticClass:"bi bi-list",attrs:{id:"page-menu-trigger",viewBox:"0 0 20 20",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{"fill-rule":"evenodd",d:"M4.5 13.5A.5.5 0 015 13h10a.5.5 0 010 1H5a.5.5 0 01-.5-.5zm0-4A.5.5 0 015 9h10a.5.5 0 010 1H5a.5.5 0 01-.5-.5zm0-4A.5.5 0 015 5h10a.5.5 0 010 1H5a.5.5 0 01-.5-.5z","clip-rule":"evenodd"}})]):e._e()]),a("div",{attrs:{id:"page-titlebox"}},[a("div",{attrs:{id:"page-title"},domProps:{textContent:e._s(e.title)}})]),a("div",{attrs:{id:"page-menu-spacer"}})]),a("div",{class:e.menuOpen?"page-menu-open":null,attrs:{id:"page-main"}},[e.$store.state.me?a("div",{attrs:{id:"page-menu"}},[a("div",{attrs:{id:"page-menu-welcome"}},[e._v("Welcome"),a("br"),a("b",{domProps:{textContent:e._s(e.$store.state.me.firstName)}}),a("br"),a("b",{domProps:{textContent:e._s(e.$store.state.me.lastName)}})]),a("b-nav",{attrs:{id:"page-nav",pills:"",vertical:""}},[a("b-nav-item",{attrs:{to:"/events",active:"events"===e.menuItem}},[e._v("Events")]),a("b-nav-item",{attrs:{to:"/people",active:"people"===e.menuItem}},[e._v("People")]),e.$store.state.me.webmaster?a("b-nav-item",{attrs:{to:"/roles",active:"roles"===e.menuItem}},[e._v("Roles")]):e._e(),a("b-nav-item",{attrs:{to:"/reports",active:"reports"===e.menuItem}},[e._v("Reports")]),a("b-nav-item",{attrs:{to:"/people/"+e.$store.state.me.id}},[e._v("Profile")]),a("b-nav-item",{attrs:{to:"/logout"}},[e._v("Logout")])],1)],1):e._e(),a("div",{class:e.noPadding?"page-no-padding":null,attrs:{id:"page-content"}},[e.subtitle?a("div",{attrs:{id:"page-subtitle"},domProps:{textContent:e._s(e.subtitle)}}):e._e(),e._t("default")],2)])])},r=[],s={props:{title:String,subtitle:String,menuItem:String,noPadding:Boolean},data:function(){return{menuOpen:!1}},methods:{onMenuTrigger:function(){this.menuOpen=!this.menuOpen}}},o=s,i=(a("d251"),a("2877")),l=Object(i["a"])(o,n,r,!1,null,null,null);t["default"]=l.exports},"22c2":function(e,t,a){"use strict";var n=a("4344"),r=a.n(n);r.a},"2a8c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Page",{attrs:{title:"People",menuItem:"people"}},[a("div",{attrs:{id:"people-title"}},[e._v("People"),e.roles&&e.roles.length>1?a("select",{directives:[{name:"model",rawName:"v-model",value:e.role,expression:"role"}],attrs:{id:"people-role"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.role=t.target.multiple?a:a[0]}}},e._l(e.roles,(function(t){return a("option",{key:t.id,domProps:{value:t.id,textContent:e._s(t.name)}})})),0):e._e()]),e.loading?a("div",{staticClass:"mt-3"},[a("b-spinner",{attrs:{small:""}})],1):a("table",{attrs:{id:"people-table"}},[a("tr",[a("th",[e._v("Person")]),a("th",[e._v("Contact Info")]),a("th",[e._v("Roles")])]),e._l(e.people,(function(t){return a("tr",{key:t.id},[a("td",[a("router-link",{attrs:{to:"/people/"+t.id},domProps:{textContent:e._s(t.lastName+", "+t.firstName)}})],1),a("td",[a("div",[a("a",{attrs:{href:"mailto:"+t.email},domProps:{textContent:e._s(t.email)}})]),t.phone?a("div",[a("a",{attrs:{href:"tel:"+t.phone},domProps:{textContent:e._s(t.phone)}})]):e._e()]),a("td",[e._l(t.roles,(function(t,n){return a("div",{key:n,domProps:{textContent:e._s(t)}})})),t.roles.length?e._e():a("div",[e._v("—")])],2)])}))],2),e.canAdd?a("div",{staticClass:"mt-3"},[a("b-btn",{attrs:{to:"/people/NEW"}},[e._v("Add Person")])],1):e._e()])},r=[],s=a("a34a"),o=a.n(s);function i(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(u){return void a(u)}i.done?t(l):Promise.resolve(l).then(n,r)}function l(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){i(s,n,r,o,l,"next",e)}function l(e){i(s,n,r,o,l,"throw",e)}o(void 0)}))}}var u={data:function(){return{role:0,roles:null,people:null,canAdd:!1,loading:!1}},created:function(){this.load()},watch:{role:function(){this.load()}},methods:{load:function(){var e=l(o.a.mark((function e(){var t;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.$axios.get("/api/people",{params:{role:this.role}});case 3:t=e.sent.data,this.people=t.people,this.canAdd=t.canAdd,t.viewableRoles.length>1&&(t.viewableRoles.unshift({id:0,name:"(all)"}),this.roles=t.viewableRoles),this.loading=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},c=u,d=(a("f0d3"),a("2877")),p=Object(d["a"])(c,n,r,!1,null,null,null);t["default"]=p.exports},"2bbc":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"events-calendar"}},[a("div",{attrs:{id:"events-calendar-grid"}},[a("div",{staticClass:"events-calendar-arrow",on:{click:e.onYearBackward}},[a("svg",{staticClass:"events-calendar-year-arrow",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[a("path",{attrs:{fill:"currentColor",d:"M34.5 239L228.9 44.7c9.4-9.4 24.6-9.4 33.9 0l22.7 22.7c9.4 9.4 9.4 24.5 0 33.9L131.5 256l154 154.7c9.3 9.4 9.3 24.5 0 33.9l-22.7 22.7c-9.4 9.4-24.6 9.4-33.9 0L34.5 273c-9.3-9.4-9.3-24.6 0-34zm192 34l194.3 194.3c9.4 9.4 24.6 9.4 33.9 0l22.7-22.7c9.4-9.4 9.4-24.5 0-33.9L323.5 256l154-154.7c9.3-9.4 9.3-24.5 0-33.9l-22.7-22.7c-9.4-9.4-24.6-9.4-33.9 0L226.5 239c-9.3 9.4-9.3 24.6 0 34z"}})])]),a("div",{staticClass:"events-calendar-arrow",on:{click:e.onMonthBackward}},[a("svg",{staticClass:"events-calendar-month-arrow",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"}},[a("path",{attrs:{fill:"currentColor",d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"}})])]),a("div",{attrs:{id:"events-calendar-month"},domProps:{textContent:e._s(e.month.format("MMMM YYYY"))}}),a("div",{staticClass:"events-calendar-arrow",on:{click:e.onMonthForward}},[a("svg",{staticClass:"events-calendar-month-arrow",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"}},[a("path",{attrs:{fill:"currentColor",d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"}})])]),a("div",{staticClass:"events-calendar-arrow",attrs:{id:"events-calendar-arrow-last"},on:{click:e.onYearForward}},[a("svg",{staticClass:"events-calendar-year-arrow",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[a("path",{attrs:{fill:"currentColor",d:"M477.5 273L283.1 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.7-22.7c-9.4-9.4-9.4-24.5 0-33.9l154-154.7-154-154.7c-9.3-9.4-9.3-24.5 0-33.9l22.7-22.7c9.4-9.4 24.6-9.4 33.9 0L477.5 239c9.3 9.4 9.3 24.6 0 34zm-192-34L91.1 44.7c-9.4-9.4-24.6-9.4-33.9 0L34.5 67.4c-9.4 9.4-9.4 24.5 0 33.9l154 154.7-154 154.7c-9.3 9.4-9.3 24.5 0 33.9l22.7 22.7c9.4 9.4 24.6 9.4 33.9 0L285.5 273c9.3-9.4 9.3-24.6 0-34z"}})])]),e._l(["S","M","T","W","T","F","S"],(function(t){return a("div",{staticClass:"events-calendar-weekday",domProps:{textContent:e._s(t)}})})),e._l(e.dates,(function(t){return a("div",{staticClass:"events-calendar-day",class:t?null:"empty",on:{mouseover:function(a){return e.onHoverDate(t)},mouseout:e.onNoHoverDate,click:function(a){return e.onClickDate(t)}}},[a("div",{domProps:{textContent:e._s(t?t.date():null)}}),a("div",{staticClass:"events-calendar-day-dots"},[a("SERVGroupDots",{attrs:{groups:e.groupsOn(t)}})],1),e._l(e.eventsOn(t),(function(t){return a("div",{key:t.id,staticClass:"events-calendar-day-event"},[a("SERVGroupDots",{staticClass:"mr-1",attrs:{groups:t.servGroups}}),e.$store.state.touch?a("span",{domProps:{textContent:e._s(t.name)}}):a("b-link",{attrs:{to:"/events/"+t.id,title:t.name},domProps:{textContent:e._s(t.name)}})],1)}))],2)}))],2),e.date?a("div",{attrs:{id:"events-calendar-footer"}},[a("div",{attrs:{id:"events-calendar-date"},domProps:{textContent:e._s(e.date.format("dddd, MMMM D, YYYY"))}}),e._l(e.eventsOn(e.date),(function(t){return a("div",{key:t.id,staticClass:"events-calendar-event"},[a("SERVGroupDots",{staticClass:"mr-1",attrs:{groups:t.servGroups}}),a("b-link",{attrs:{to:"/events/"+t.id},domProps:{textContent:e._s(t.name)}})],1)})),e.eventsOn(e.date).length?e._e():a("div",{staticClass:"events-calendar-event"},[e._v("No events scheduled.")])],2):e._e()])},r=[],s=a("a34a"),o=a.n(s),i=a("c1df"),l=a.n(i);function u(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(u){return void a(u)}i.done?t(l):Promise.resolve(l).then(n,r)}function c(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){u(s,n,r,o,i,"next",e)}function i(e){u(s,n,r,o,i,"throw",e)}o(void 0)}))}}var d={data:function(){return{month:l()(),dates:[],year:null,events:null,date:null,clicked:!1}},mounted:function(){this.newMonth()},methods:{eventsOn:function(e){return e&&this.events[e.format("YYYY-MM-DD")]||[]},groupsOn:function(e){var t={};return this.eventsOn(e).forEach((function(e){e.servGroups.forEach((function(e){t[e]=!0}))})),Object.keys(t)},newMonth:function(){var e=c(o.a.mark((function e(){var t,a,n,r,s,i;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.year&&this.year==this.month.year()){e.next=8;break}return e.next=3,this.$axios.get("/api/events?year=".concat(this.month.year()));case 3:t=e.sent.data,t.canAdd&&this.$emit("canAdd"),a={},t.events.forEach((function(e){a[e.date]||(a[e.date]=[]),a[e.date].push(e)})),this.events=a;case 8:for(n=[],r=this.month.clone().startOf("month"),r.subtract(r.day(),"days"),s=this.month.clone().endOf("month"),s.add(6-s.day(),"days"),i=r;!i.isAfter(s,"day");i=i.clone().add(1,"day"))n.push(i.isSame(this.month,"month")?i:null);this.dates=n,this.date=null,this.clicked=!1;case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),groupToClass:function(e){return e.toLowerCase().replace(" ","-")},onClickDate:function(e){this.clicked=!0,this.date=e},onHoverDate:function(e){this.clicked||(this.date=e)},onMonthBackward:function(){this.month.subtract(1,"month"),this.newMonth()},onMonthForward:function(){this.month.add(1,"month"),this.newMonth()},onNoHoverDate:function(){this.clicked||(this.date=null)},onYearBackward:function(){this.month.subtract(1,"year"),this.newMonth()},onYearForward:function(){this.month.add(1,"year"),this.newMonth()}}},p=d,v=(a("5e71"),a("2877")),h=Object(v["a"])(p,n,r,!1,null,null,null);t["default"]=h.exports},"2db1":function(e,t,a){},"2fbe":function(e,t,a){},"309f":function(e,t,a){},3798:function(e,t,a){},"37cf":function(e,t,a){"use strict";var n=a("2fbe"),r=a.n(n);r.a},"3a11":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Page",{attrs:{title:e.title,menuItem:"events",noPadding:""}},[e.loading?a("div",{staticClass:"mt-3"},[a("b-spinner",{attrs:{small:""}})],1):e.canEdit&&e.canAttendance?a("b-card",{attrs:{id:"event-card","no-body":""}},[a("b-tabs",{attrs:{card:""}},[a("b-tab",{staticClass:"event-tab-pane",attrs:{title:"Details","no-body":""}},[a("EventView",{attrs:{event:e.event}})],1),a("b-tab",{staticClass:"event-tab-pane",attrs:{title:"Edit","no-body":""}},[a("EventEdit",{attrs:{event:e.event,roles:e.roles,venues:e.venues,types:e.types}})],1),a("b-tab",{staticClass:"event-tab-pane",attrs:{title:"Attendance","no-body":""}},[a("EventAttendance",{attrs:{event:e.event,people:e.people}})],1)],1)],1):!e.canEdit&&e.canAttendance?a("b-card",{attrs:{id:"event-card","no-body":""}},[a("b-tabs",{attrs:{card:""}},[a("b-tab",{staticClass:"event-tab-pane",attrs:{title:"Details","no-body":""}},[a("EventView",{attrs:{event:e.event}})],1),a("b-tab",{staticClass:"event-tab-pane",attrs:{title:"Attendance","no-body":""}},[a("EventAttendance",{attrs:{event:e.event,people:e.people}})],1)],1)],1):e.canEdit?a("b-card",{attrs:{id:"event-card","no-body":""}},[a("b-tabs",{attrs:{card:""}},[a("b-tab",{staticClass:"event-tab-pane",attrs:{title:"Details","no-body":""}},[a("EventView",{attrs:{event:e.event}})],1),a("b-tab",{staticClass:"event-tab-pane",attrs:{title:"Edit","no-body":""}},[a("EventEdit",{attrs:{event:e.event,roles:e.roles,venues:e.venues,types:e.types}})],1)],1)],1):a("EventView",{attrs:{event:e.event}})],1)},r=[],s=a("a34a"),o=a.n(s);function i(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(u){return void a(u)}i.done?t(l):Promise.resolve(l).then(n,r)}function l(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){i(s,n,r,o,l,"next",e)}function l(e){i(s,n,r,o,l,"throw",e)}o(void 0)}))}}var u={data:function(){return{loading:!1,title:"Event",canEdit:!1,canAttendance:!1,event:null,roles:null,types:null,venues:null,people:null}},created:function(){var e=l(o.a.mark((function e(){var t;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.$axios.get("/api/events/".concat(this.$route.params.id));case 3:t=e.sent.data,this.canEdit=t.canEdit,this.canAttendance=t.canAttendance,this.event=t.event,this.title=t.event.id?"".concat(t.event.date," ").concat(t.event.name):"New Event",this.roles=t.roles,this.venues=t.venues,this.types=t.types,this.people=t.people,this.loading=!1;case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},c=u,d=(a("22c2"),a("2877")),p=Object(d["a"])(c,n,r,!1,null,null,null);t["default"]=p.exports},"3ac4":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},r=[],s=a("2877"),o={},i=Object(s["a"])(o,n,r,!1,null,null,null);t["default"]=i.exports},"3ebb":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",e._l(e.groups,(function(e){return a("span",{staticClass:"dot",class:"dot-"+e.toLowerCase(),attrs:{title:e}})})),0)},r=[],s={props:{groups:Array}},o=s,i=(a("bd3e"),a("2877")),l=Object(i["a"])(o,n,r,!1,null,null,null);t["default"]=l.exports},"3f65":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Page",{attrs:{title:"SERV Portal"}},[a("div",{attrs:{id:"pwreset-top"}},[a("div",{attrs:{id:"pwreset-banner"}},[e._v("Password Reset")]),e.finished?a("div",{attrs:{id:"pwreset-intro"}},[e._v("We have sent a password reset link to the email address you provided.\nIt is valid for one hour.  Please check you email and follow the link we\nsent to reset your password.")]):[a("div",{attrs:{id:"pwreset-intro"}},[e._v("To reset your password, please enter your email address.  If it's one we\nhave on file, we'll send a password reset link to it.")]),a("form",{attrs:{id:"pwreset-form"},on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[a("b-form-group",{attrs:{label:"Email address","label-for":"pwreset-email","label-cols-sm":"4",state:e.emailState,"invalid-feedback":"This is not a valid email address."}},[a("b-input",{attrs:{id:"pwreset-email",autocorrect:"off",autocapitalize:"none",autofocus:"",required:"",trim:"",state:e.emailState},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("div",{attrs:{id:"pwreset-submit-row"}},[a("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Reset Password")])],1)],1)]],2)])},r=[],s=a("a34a"),o=a.n(s);function i(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(u){return void a(u)}i.done?t(l):Promise.resolve(l).then(n,r)}function l(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){i(s,n,r,o,l,"next",e)}function l(e){i(s,n,r,o,l,"throw",e)}o(void 0)}))}}var u={data:function(){return{email:"",emailState:null,submitted:!1,finished:!1}},watch:{email:"validate"},methods:{onSubmit:function(){var e=l(o.a.mark((function e(){var t;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.submitted=!0,this.validate(),!1!==this.emailState){e.next=4;break}return e.abrupt("return");case 4:return t=new FormData,t.append("email",this.email),e.next=8,this.$axios.post("/api/password-reset",t);case 8:e.sent.data,this.finished=!0;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),validate:function(){this.submitted&&(this.email&&this.email.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/)?this.emailState=null:this.emailState=!1)}}},c=u,d=(a("5519"),a("2877")),p=Object(d["a"])(c,n,r,!1,null,"c018dcbc",null);t["default"]=p.exports},4344:function(e,t,a){},4678:function(e,t,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"73332","./en-il.js":"73332","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id="4678"},"49a6":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{attrs:{id:"event-edit"},on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[a("b-form-group",{attrs:{label:"Event name","label-for":"event-name","label-cols-sm":"auto","label-class":"event-edit-label",state:!e.nameError&&null,"invalid-feedback":e.nameError}},[a("b-input",{attrs:{id:"event-name",autofocus:"",state:!e.nameError&&null,trim:""},model:{value:e.event.name,callback:function(t){e.$set(e.event,"name",t)},expression:"event.name"}})],1),a("b-form-group",{attrs:{label:"Event date","label-for":"event-date","label-cols-sm":"auto","label-class":"event-edit-label",state:!e.dateError&&null,"invalid-feedback":e.dateError}},[a("b-input",{attrs:{id:"event-date",type:"date",state:!e.dateError&&null},model:{value:e.event.date,callback:function(t){e.$set(e.event,"date",t)},expression:"event.date"}})],1),a("b-form-group",{attrs:{label:"Event time","label-cols-sm":"auto","label-class":"event-edit-label",state:!e.timeError&&null,"invalid-feedback":e.timeError}},[a("div",{attrs:{id:"event-time"}},[a("b-input",{attrs:{id:"event-start",type:"time",state:!e.timeError&&null},model:{value:e.event.start,callback:function(t){e.$set(e.event,"start",t)},expression:"event.start"}}),a("span",[e._v("to")]),a("b-input",{attrs:{id:"event-end",type:"time",state:!e.timeError&&null},model:{value:e.event.end,callback:function(t){e.$set(e.event,"end",t)},expression:"event.end"}})],1)]),a("b-form-group",{attrs:{label:"Location","label-for":"event-venue","label-cols-sm":"auto","label-class":"event-edit-label"}},[a("b-select",{attrs:{id:"event-venue",options:e.venues,"text-field":"name","value-field":"id"},scopedSlots:e._u([{key:"first",fn:function(){return[a("b-select-option",{attrs:{value:"0"}},[e._v("TBD")])]},proxy:!0}]),model:{value:e.event.venue.id,callback:function(t){e.$set(e.event.venue,"id",t)},expression:"event.venue.id"}},[a("b-select-option",{attrs:{value:"NEW"}},[e._v("(create a new venue)")])],1)],1),"NEW"===e.event.venue.id?[a("b-form-group",{attrs:{label:"Venue name","label-for":"venue-name","label-cols-sm":"auto","label-class":"event-edit-label",state:!e.venueNameError&&null,"invalid-feedback":e.venueNameError}},[a("b-input",{ref:"venueName",attrs:{id:"venue-name",state:!e.venueNameError&&null,trim:""},model:{value:e.event.venue.name,callback:function(t){e.$set(e.event.venue,"name",t)},expression:"event.venue.name"}})],1),a("b-form-group",{attrs:{label:"Address","label-for":"venue-address","label-cols-sm":"auto","label-class":"event-edit-label",state:!e.venueAddressError&&null,"invalid-feedback":e.venueAddressError}},[a("b-input",{attrs:{id:"venue-address",state:!e.venueAddressError&&null,trim:""},model:{value:e.event.venue.address,callback:function(t){e.$set(e.event.venue,"address",t)},expression:"event.venue.address"}})],1),a("b-form-group",{attrs:{label:"City","label-for":"venue-city","label-cols-sm":"auto","label-class":"event-edit-label",state:!e.venueCityError&&null,"invalid-feedback":e.venueCityError}},[a("b-input",{attrs:{id:"venue-city",state:!e.venueCityError&&null,trim:""},model:{value:e.event.venue.city,callback:function(t){e.$set(e.event.venue,"city",t)},expression:"event.venue.city"}})],1),a("b-form-group",{attrs:{label:"Map URL","label-for":"venue-url","label-cols-sm":"auto","label-class":"event-edit-label",state:!e.venueURLError&&null,"invalid-feedback":e.venueURLError}},[a("b-input",{attrs:{id:"venue-url",state:!e.venueURLError&&null,trim:""},model:{value:e.event.venue.url,callback:function(t){e.$set(e.event.venue,"url",t)},expression:"event.venue.url"}}),a("b-form-text",[e._v("Generate this by opening Google Maps and searching for the venue.\n(Search by the venue’s name rather than its address, if it has a\nname, so that Google’s sidebar of information about the venue\nappears.)  Once the venue is found, zoom out a few steps until the\nnearest freeways are shown — enough to give the viewer an idea of\nwhere in the Bay Area the venue is.  Copy the URL from the browser\naddress bar and paste it here.")])],1)]:e._e(),a("b-form-group",{attrs:{label:"Details","label-for":"event-details","label-cols-sm":"auto","label-class":"event-edit-label"}},[a("b-textarea",{attrs:{id:"event-details",rows:"3"},model:{value:e.event.details,callback:function(t){e.$set(e.event,"details",t)},expression:"event.details"}}),a("b-form-text",[e._v("This may contain HTML <a> tags for links, but no other tags.")])],1),a("b-form-group",{attrs:{label:"Event has these types:",state:!e.typeError&&null,"invalid-feedback":e.typeError}},[a("b-form-checkbox-group",{attrs:{stacked:"",options:e.types},model:{value:e.event.types,callback:function(t){e.$set(e.event,"types",t)},expression:"event.types"}})],1),a("b-form-group",{attrs:{label:"Event is for these roles:",state:!e.rolesError&&null,"invalid-feedback":e.rolesError}},[a("b-form-checkbox-group",{attrs:{stacked:"",options:e.roles,"text-field":"name","value-field":"id"},model:{value:e.event.roles,callback:function(t){e.$set(e.event,"roles",t)},expression:"event.roles"}})],1),a("div",{staticClass:"mt-3"},[a("b-btn",{attrs:{type:"submit",variant:"primary",disabled:!e.valid},domProps:{textContent:e._s(e.event.id?"Save Event":"Create Event")}}),a("b-btn",{staticClass:"ml-2",on:{click:e.onCancel}},[e._v("Cancel")]),e.event.id?a("b-btn",{staticClass:"ml-5",attrs:{variant:"danger"},on:{click:e.onDelete}},[e._v("Delete Event")]):e._e()],1)],2)},r=[],s=a("a34a"),o=a.n(s);function i(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(u){return void a(u)}i.done?t(l):Promise.resolve(l).then(n,r)}function l(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){i(s,n,r,o,l,"next",e)}function l(e){i(s,n,r,o,l,"throw",e)}o(void 0)}))}}var u={props:{event:null,roles:null,venues:null,types:null},data:function(){return{submitted:!1,dateError:null,timeError:null,nameError:null,duplicateName:null,venueNameError:null,venueAddressError:null,venueCityError:null,venueURLError:null,typeError:null,rolesError:null,valid:!0}},watch:{"event.name":"validate","event.date":"validate","event.start":"validate","event.end":"validate","event.venue.name":"validate","event.venue.address":"validate","event.venue.city":"validate","event.venue.url":"validate","event.types":"validate","event.roles":"validate","event.venue.id":function(){var e=this;"NEW"===this.event.venue.id&&(this.event.venue.name=this.event.venue.address=this.event.venue.city=this.event.venue.url="",this.validate(),this.$nextTick((function(){e.$refs.venueName.focus()})))}},methods:{onCancel:function(){this.$router.go(-1)},onDelete:function(){var e=l(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$bvModal.msgBoxConfirm("Are you sure you want to delete this event?  All associated data, including attendance records, will be permanently lost.",{title:"Delete Event",headerBgVariant:"danger",headerTextVariant:"white",okTitle:"Delete",okVariant:"danger",cancelTitle:"Keep"}).catch((function(e){}));case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:return a=new FormData,a.append("delete","true"),e.next=9,this.$axios.post("/api/events/".concat(this.$route.params.id),a);case 9:this.$router.push({path:"/events",params:{year:this.event.date.substr(0,4)}});case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onSubmit:function(){var e=l(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.submitted=!0,this.validate(),this.valid){e.next=4;break}return e.abrupt("return");case 4:return t=new FormData,t.append("name",this.event.name),t.append("date",this.event.date),t.append("start",this.event.start),t.append("end",this.event.end),t.append("venue",this.event.venue.id),"NEW"===this.event.venue.id&&(t.append("venueName",this.event.venue.name),t.append("venueAddress",this.event.venue.address),t.append("venueCity",this.event.venue.city),t.append("venueURL",this.event.venue.url)),t.append("details",this.event.details),this.event.types.forEach((function(e){t.append("type",e)})),this.event.roles.forEach((function(e){t.append("role",e)})),e.next=16,this.$axios.post("/api/events/".concat(this.$route.params.id),t);case 16:a=e.sent.data,a&&a.nameError?this.duplicateName={date:this.event.date,name:this.event.name}:this.$router.push({path:"/events",params:{year:this.event.date.substr(0,4)}});case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),validate:function(){this.submitted&&(this.event.name?this.duplicateName&&this.duplicateName.date===this.event.date&&this.duplicateName.name===this.event.name?this.nameError="Another event on this date has this name.":this.nameError=this.duplicateName=null:this.nameError="The event name is required.",this.event.date?this.event.date.match(/^20\d\d-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/)?this.dateError=null:this.dateError="This is not a valid date.":this.dateError="The event date is required.",this.event.start&&this.event.end?this.event.start.match(/^(?:[01][0-9]|2[0-3]):[0-5][0-9]$/)?this.event.end.match(/^(?:[01][0-9]|2[0-3]):[0-5][0-9]$/)?this.event.end<this.event.start?this.timeError="The end time must come after the start time.":this.timeError=null:this.timeError="The end time is not valid.":this.timeError="The start time is not valid.":this.timeError="The event times are required.","NEW"===this.event.venue.id?(this.event.venue.name?this.venueNameError=null:this.venueNameError="The venue name is required.",this.event.venue.address?this.venueAddressError=null:this.venueAddressError="The venue address is required.",this.event.venue.city?this.venueCityError=null:this.venueCityError="The venue city is required.",this.event.venue.url&&!this.event.venue.url.startsWith("https://www.google.com/maps/")?this.venueURLError="The venue map URL must start with https://www.google.com/maps/.":this.venueURLError=null):this.venueNameError=this.venueAddressError=this.venueCityError=this.venueURLError=null,this.event.types.length?this.typeError=null:this.typeError="At least one event type is required.",this.event.roles.length?this.rolesError=null:this.rolesError="At least one role must be selected.",this.valid=!this.nameError&&!this.dateError&&!this.timeError&&!this.venueNameError&&!this.venueAddressError&&!this.venueCityError&&!this.venueURLError&&!this.typeError&&!this.rolesError)}}},c=u,d=(a("e1f5"),a("2877")),p=Object(d["a"])(c,n,r,!1,null,null,null);t["default"]=p.exports},"4ab3":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Page",{attrs:{title:"Logout",subtitle:"Logging out...",menuItem:"logout"}})},r=[],s=a("a34a"),o=a.n(s);function i(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(u){return void a(u)}i.done?t(l):Promise.resolve(l).then(n,r)}function l(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){i(s,n,r,o,l,"next",e)}function l(e){i(s,n,r,o,l,"throw",e)}o(void 0)}))}}var u={created:function(){var e=l(o.a.mark((function e(){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$axios.post("/api/logout");case 2:this.$store.commit("login",null),this.$router.replace("/login");case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},c=u,d=a("2877"),p=Object(d["a"])(c,n,r,!1,null,null,null);t["default"]=p.exports},5121:function(e,t,a){},"548a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Page",{attrs:{title:"Roles",subtitle:"Roles",menuItem:"roles"}},[e.loading?a("div",{staticClass:"mt-3"},[a("b-spinner",{attrs:{small:""}})],1):a("table",{attrs:{id:"roles-table"}},[a("tr",[a("th",[e._v("Role")]),a("th",[e._v("SERV Groups")])]),e._l(e.roles,(function(t){return a("tr",{key:t.id},[a("td",[a("b-link",{attrs:{to:"/roles/"+t.id},domProps:{textContent:e._s(t.name)}})],1),a("td",{domProps:{textContent:e._s(t.servGroups.join(", "))}})])}))],2),a("div",{staticClass:"mt-3"},[a("b-btn",{attrs:{to:"/roles/NEW"}},[e._v("Add Role")])],1)])},r=[],s=a("a34a"),o=a.n(s);function i(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(u){return void a(u)}i.done?t(l):Promise.resolve(l).then(n,r)}function l(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){i(s,n,r,o,l,"next",e)}function l(e){i(s,n,r,o,l,"throw",e)}o(void 0)}))}}var u={data:function(){return{loading:!1,roles:null}},created:function(){var e=l(o.a.mark((function e(){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.$axios.get("/api/roles");case 3:this.roles=e.sent.data,this.loading=!1;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},c=u,d=(a("37cf"),a("2877")),p=Object(d["a"])(c,n,r,!1,null,null,null);t["default"]=p.exports},"54a5":function(e,t,a){},5519:function(e,t,a){"use strict";var n=a("57d7"),r=a.n(n);r.a},"56d7":function(e,t,a){"use strict";a.r(t);a("744f"),a("6c7b"),a("7514"),a("20d6"),a("1c4c"),a("6762"),a("cadf"),a("e804"),a("55dd"),a("d04f"),a("c8ce"),a("217b"),a("7f7f"),a("f400"),a("7f25"),a("536b"),a("d9ab"),a("f9ab"),a("32d7"),a("25c9"),a("9f3c"),a("042e"),a("c7c6"),a("f4ff"),a("049f"),a("7872"),a("a69f"),a("0b21"),a("6c1a"),a("c7c62"),a("84b4"),a("c5f6"),a("2e37"),a("fca0"),a("7cdf"),a("ee1d"),a("b1b1"),a("87f3"),a("9278"),a("5df2"),a("04ff"),a("f751"),a("4504"),a("fee7"),a("ffc1"),a("0d6d"),a("9986"),a("8e6e"),a("25db"),a("e4f7"),a("b9a1"),a("64d5"),a("9aea"),a("db97"),a("66c8"),a("57f0"),a("165b"),a("456d"),a("cf6a"),a("fd24"),a("8615"),a("551c"),a("097d"),a("df1b"),a("2397"),a("88ca"),a("ba16"),a("d185"),a("ebde"),a("2d34"),a("f6b3"),a("2251"),a("c698"),a("a19f"),a("9253"),a("9275"),a("3b2b"),a("3846"),a("4917"),a("a481"),a("28a5"),a("386d"),a("6b54"),a("4f7f"),a("8a81"),a("ac4d"),a("8449"),a("9c86"),a("fa83"),a("48c0"),a("a032"),a("aef6"),a("d263"),a("6c37"),a("9ec8"),a("5695"),a("2fdb"),a("d0b0"),a("5df3"),a("b54a"),a("f576"),a("ed50"),a("788d"),a("14b9"),a("f386"),a("f559"),a("1448"),a("673e"),a("242a"),a("c66f"),a("b05c"),a("34ef"),a("6aa2"),a("15ac"),a("af56"),a("b6e4"),a("9c29"),a("63d9"),a("4dda"),a("10ad"),a("c02b"),a("4795"),a("130f"),a("ac6a"),a("96cf"),a("bba4"),a("8103"),a("0cdd");var n=a("2b0e"),r=a("5f5b");a("ab8b"),a("2dd8");n["default"].use(r["a"]);var s=a("bc3a"),o=a.n(s),i=a("8c4f"),l=a("2f62");n["default"].use(l["a"]);var u=new l["a"].Store({state:{me:null,started:!1,eventsYear:null,touch:!1},mutations:{login:function(e,t){e.me=t,e.started=!0},eventsYear:function(e,t){e.eventsYear=t},setTouch:function(e,t){e.touch=t}},actions:{}});try{var c=window.matchMedia("(pointer:coarse),(hover:none),(-moz-touch-enabled:1)");u.commit("setTouch",c.matches),c.addListener((function(e){u.commit("setTouch",e.matches)}))}catch(N){console.error("Touch detection:",N)}var d=u,p=a("fec3"),v=a("3a11"),h=a("e640"),f=a("013f"),m=a("4ab3"),b=a("2a8c"),w=a("9350"),g=a("3f65"),y=a("d43e"),E=a("b439"),x=a("592a"),_=a("548a");n["default"].use(i["a"]);var k=new i["a"]({mode:"history",base:"/",routes:[{path:"/",redirect:"/events"},{path:"/events",component:h["default"]},{path:"/events/:id",component:v["default"]},{path:"/login",component:f["default"],meta:{publicAccess:!0,allow401:!0}},{path:"/logout",component:m["default"]},{path:"/password-reset",component:g["default"],meta:{publicAccess:!0}},{path:"/password-reset/:token",component:y["default"],meta:{publicAccess:!0}},{path:"/people",component:b["default"]},{path:"/people/:id",component:w["default"]},{path:"/reports",component:E["default"]},{path:"/reports/cert-attendance",component:p["default"],props:function(e){return e.query}},{path:"/roles",component:_["default"]},{path:"/roles/:id",component:x["default"]}]});k.beforeEach((function(e,t,a){d.state.me||e.matched.some((function(e){return e.meta.publicAccess}))?a():a({path:"/login",query:{redirect:e.fullPath}})}));var j=k,C={xsrfCookieName:"auth"},P=o.a.create(C);P.interceptors.response.use((function(e){return e}),(function(e){return!(e.response&&401===e.response.status&&j&&j.currentRoute)||e.request.headers&&e.request.headers["X-SERV-Startup"]||j.currentRoute.matched.some((function(e){return e.meta.allow401}))||(d.commit("login",null),j.replace({path:"/login",query:{redirect:j.currentRoute.fullPath}})),Promise.reject(e)})),Plugin.install=function(e,t){e.axios=P,window.axios=P,Object.defineProperties(e.prototype,{axios:{get:function(){return P}},$axios:{get:function(){return P}}})},n["default"].use(Plugin);Plugin;n["default"].config.productionTip=!1;var $=a("1628");$.keys().forEach((function(e){var t=$(e),a=e.split("/").pop().replace(/\.vue$/,"");n["default"].component(a,t.default||t)})),n["default"].axios.get("/api/login",{headers:{"X-SERV-Startup":!0}}).then((function(e){d.commit("login",e.data)})).catch((function(){d.commit("login",null)})).finally((function(){new n["default"]({store:d,router:j,render:function(e){return e("Main")}}).$mount("#app")}))},"57d7":function(e,t,a){},"57dd":function(e,t,a){"use strict";var n=a("309f"),r=a.n(n);r.a},"592a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Page",{attrs:{title:e.title,subtitle:e.subtitle,menuItem:"roles"}},[e.loading?a("div",{staticClass:"mt-3"},[a("b-spinner",{attrs:{small:""}})],1):a("form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[a("b-form-group",{attrs:{label:"Role name","label-for":"role-name","label-cols-sm":"auto","label-class":"role-label",state:!e.nameError&&null,"invalid-feedback":e.nameError}},[a("b-input",{attrs:{id:"role-name",autofocus:"",state:!e.nameError&&null,trim:""},model:{value:e.role.name,callback:function(t){e.$set(e.role,"name",t)},expression:"role.name"}})],1),a("b-form-group",{attrs:{label:"Holder label","label-for":"role-holder-label","label-cols-sm":"auto","label-class":"role-label"}},[a("b-input",{attrs:{id:"role-holder-label",trim:""},model:{value:e.role.memberLabel,callback:function(t){e.$set(e.role,"memberLabel",t)},expression:"role.memberLabel"}})],1),a("b-form-group",{attrs:{label:"Attributes","label-cols-sm":"auto","label-class":"role-label pt-0"}},[a("div",[a("b-checkbox",{model:{value:e.role.implyOnly,callback:function(t){e.$set(e.role,"implyOnly",t)},expression:"role.implyOnly"}},[e._v("Role can only be implied, not assigned")]),a("b-checkbox",{model:{value:e.role.individual,callback:function(t){e.$set(e.role,"individual",t)},expression:"role.individual"}},[e._v("Role can only be held by one person")])],1)]),a("b-form-group",{attrs:{label:"This role is associated with these SERV groups:"}},[a("b-checkbox-group",{attrs:{stacked:"",options:e.servGroups},model:{value:e.role.servGroups,callback:function(t){e.$set(e.role,"servGroups",t)},expression:"role.servGroups"}})],1),a("b-form-group",{attrs:{label:"This role has the following privileges on other roles:"}},[a("table",{attrs:{id:"role-aprivs"}},[a("tr",[a("th"),a("th",[e._v("Holds")]),a("th",[e._v("View")]),a("th",[e._v("Assign")]),a("th",[e._v("Events")])]),e._l(e.privs,(function(t){return a("tr",{key:t.id},[a("td",{domProps:{textContent:e._s(t.id===e.role.id&&e.newr?"(new role)":t.name)}}),a("td",[a("b-checkbox",{attrs:{checked:t.actor.holdsRole,disabled:!t.actor.holdsRoleEnabled},on:{change:function(a){return e.onChangePriv(t,"actor","holdsRole")}}})],1),a("td",[a("b-checkbox",{attrs:{checked:t.actor.viewHolders,disabled:!t.actor.viewHoldersEnabled},on:{change:function(a){return e.onChangePriv(t,"actor","viewHolders")}}})],1),a("td",[a("b-checkbox",{attrs:{checked:t.actor.assignRole,disabled:!t.actor.assignRoleEnabled},on:{change:function(a){return e.onChangePriv(t,"actor","assignRole")}}})],1),a("td",[a("b-checkbox",{attrs:{checked:t.actor.manageEvents,disabled:!t.actor.manageEventsEnabled},on:{change:function(a){return e.onChangePriv(t,"actor","manageEvents")}}})],1)])}))],2)]),a("b-form-group",{attrs:{label:"These other roles have the following privileges on this role:"}},[a("table",{attrs:{id:"role-tprivs"}},[a("tr",[a("th"),a("th",[e._v("Holds")]),a("th",[e._v("View")]),a("th",[e._v("Assign")]),a("th",[e._v("Events")])]),e._l(e.privs,(function(t){return[t.id!==e.role.id?a("tr",{key:t.id},[a("td",{domProps:{textContent:e._s(t.name)}}),a("td",[a("b-checkbox",{attrs:{checked:t.target.holdsRole,disabled:!t.target.holdsRoleEnabled},on:{change:function(a){return e.onChangePriv(t,"target","holdsRole")}}})],1),a("td",[a("b-checkbox",{attrs:{checked:t.target.viewHolders,disabled:!t.target.viewHoldersEnabled},on:{change:function(a){return e.onChangePriv(t,"target","viewHolders")}}})],1),a("td",[a("b-checkbox",{attrs:{checked:t.target.assignRole,disabled:!t.target.assignRoleEnabled},on:{change:function(a){return e.onChangePriv(t,"target","assignRole")}}})],1),a("td",[a("b-checkbox",{attrs:{checked:t.target.manageEvents,disabled:!t.target.manageEventsEnabled},on:{change:function(a){return e.onChangePriv(t,"target","manageEvents")}}})],1)]):e._e()]}))],2)]),a("div",{staticClass:"mt-3"},[a("b-btn",{attrs:{type:"submit",variant:"primary",disabled:!e.valid},domProps:{textContent:e._s(e.newr?"Create Role":"Save Role")}}),a("b-btn",{staticClass:"ml-2",on:{click:e.onCancel}},[e._v("Cancel")]),e.role.id?a("b-btn",{staticClass:"ml-5",attrs:{variant:"danger"},on:{click:e.onDelete}},[e._v("Delete Role")]):e._e()],1)],1)])},r=[],s=a("a34a"),o=a.n(s);function i(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(u){return void a(u)}i.done?t(l):Promise.resolve(l).then(n,r)}function l(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){i(s,n,r,o,l,"next",e)}function l(e){i(s,n,r,o,l,"throw",e)}o(void 0)}))}}var u={data:function(){return{loading:!1,origName:null,role:null,servGroups:null,privs:null,nameError:null,duplicateName:null,submitted:!1,valid:!0}},created:function(){var e=l(o.a.mark((function e(){var t;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.$axios.get("/api/roles/".concat(this.$route.params.id));case 3:t=e.sent.data,this.role=t.role,this.servGroups=t.servGroups,this.privs=t.privs,this.origName=this.role.name,this.loading=!1;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),computed:{newr:function(){return"NEW"===this.$route.params.id},subtitle:function(){return this.newr?"Create Role":"Edit Role"},title:function(){return this.newr?"New Role":this.origName?"Role: ".concat(this.origName):"Edit Role"}},watch:{"role.name":function(e,t){this.role.memberLabel===t&&(this.role.memberLabel=e),this.validate()},"role.servGroup":"validate"},methods:{onCancel:function(){this.$router.go(-1)},onChangePriv:function(){var e=l(o.a.mark((function e(t,a,n){var r;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t[a][n]=!t[a][n],r=new FormData,this.privs.forEach((function(e){r.append("a:holdsRole-".concat(e.id),e.actor.holdsRole),r.append("a:viewHolders-".concat(e.id),e.actor.viewHolders),r.append("a:assignRole-".concat(e.id),e.actor.assignRole),r.append("a:manageEvents-".concat(e.id),e.actor.manageEvents),r.append("t:holdsRole-".concat(e.id),e.target.holdsRole),r.append("t:viewHolders-".concat(e.id),e.target.viewHolders),r.append("t:assignRole-".concat(e.id),e.target.assignRole),r.append("t:manageEvents-".concat(e.id),e.target.manageEvents)})),e.next=5,this.$axios.post("/api/roles/".concat(this.$route.params.id,"/reloadPrivs"),r);case 5:this.privs=e.sent.data;case 6:case"end":return e.stop()}}),e,this)})));function t(t,a,n){return e.apply(this,arguments)}return t}(),onDelete:function(){var e=l(o.a.mark((function e(){var t;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new FormData,t.append("delete","true"),e.next=4,this.$axios.post("/api/roles/".concat(this.$route.params.id),t);case 4:this.$router.push("/roles");case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),onSubmit:function(){var e=l(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.submitted=!0,this.validate(),this.valid){e.next=4;break}return e.abrupt("return");case 4:return t=new FormData,t.append("name",this.role.name),t.append("memberLabel",this.role.memberLabel),this.role.servGroups.forEach((function(e){t.append("servGroup",e)})),t.append("implyOnly",this.role.implyOnly),t.append("individual",this.role.individual),this.privs.forEach((function(e){t.append("a:holdsRole-".concat(e.id),e.actor.holdsRole),t.append("a:viewHolders-".concat(e.id),e.actor.viewHolders),t.append("a:assignRole-".concat(e.id),e.actor.assignRole),t.append("a:manageEvents-".concat(e.id),e.actor.manageEvents),t.append("t:holdsRole-".concat(e.id),e.target.holdsRole),t.append("t:viewHolders-".concat(e.id),e.target.viewHolders),t.append("t:assignRole-".concat(e.id),e.target.assignRole),t.append("t:manageEvents-".concat(e.id),e.target.manageEvents)})),e.next=13,this.$axios.post("/api/roles/".concat(this.$route.params.id),t);case 13:a=e.sent.data,a||this.$router.push("/roles"),a.duplicateName&&(this.duplicateName=this.role.name),this.validate();case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),validate:function(){this.submitted&&(this.role.name?this.duplicateName===this.role.name?this.nameError="A different team has this name.":this.nameError=null:this.nameError="The role name is required.",this.valid=!this.nameError)}}},c=u,d=(a("b17a"),a("2877")),p=Object(d["a"])(c,n,r,!1,null,null,null);t["default"]=p.exports},"5c2e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"event-view"}},[a("div",{attrs:{id:"event-view-name"},domProps:{textContent:e._s(e.event.name)}}),e.typesGroups?a("div",{attrs:{id:"event-view-types-groups"},domProps:{textContent:e._s(e.typesGroups)}}):e._e(),a("div",{attrs:{id:"event-view-date-time"},domProps:{textContent:e._s(e.dateTimeFmt)}}),a("div",{attrs:{id:"event-view-venue"}},[a("div",{attrs:{id:"event-view-venue-name"},domProps:{textContent:e._s(e.event.venue?e.event.venue.name:"Location TBD")}}),e.event.venue?a("div",{attrs:{id:"event-view-venue-address"}},[a("span",{domProps:{textContent:e._s(e.event.venue.address)}}),e.event.venue.city?a("span",{domProps:{textContent:e._s(", "+e.event.venue.city)}}):e._e(),e.event.venue.url?a("span",{attrs:{id:"event-view-venue-map"}},[e._v(" ("),a("a",{attrs:{target:"_blank",href:e.event.venue.url}},[e._v("map")]),e._v(")")]):e._e()]):e._e()]),e.event.details?a("div",{attrs:{id:"event-view-details"},domProps:{innerHTML:e._s(e.event.details)}}):e._e()])},r=[],s=a("c1df"),o=a.n(s),i={props:{event:Object},computed:{dateTimeFmt:function(){var e=o()(this.event.date,"YYYY-MM-DD"),t=o()(this.event.start,"HH:mm"),a=o()(this.event.end,"HH:mm");return t.format("a")!==a.format("a")?"".concat(e.format("dddd, MMMM D, YYYY"),"\n").concat(t.format("h:mma")," to ").concat(a.format("h:mma")):"".concat(e.format("dddd, MMMM D, YYYY"),"\n").concat(t.format("h:mm")," to ").concat(a.format("h:mma"))},typesGroups:function(){return this.event.types.length&&this.event.servGroups.length?"".concat(this.event.types.join(", ")," for ").concat(this.event.servGroups.join(", ")):this.event.servGroups.length?this.event.servGroups.join(", "):this.event.types.length?this.event.types.join(", "):null}}},l=i,u=(a("fec5"),a("2877")),c=Object(u["a"])(l,n,r,!1,null,null,null);t["default"]=c.exports},"5e71":function(e,t,a){"use strict";var n=a("f023"),r=a.n(n);r.a},"755c":function(e,t,a){"use strict";var n=a("f0f1"),r=a.n(n);r.a},"77a4":function(e,t,a){},"7c64":function(e,t,a){},"81da":function(e,t,a){},"83ab":function(e,t,a){},8738:function(e,t,a){},"8d5a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"events-list"}},[a("div",{attrs:{id:"events-list-title"}},[e._v("Events in\n"),a("select",{directives:[{name:"model",rawName:"v-model",value:e.year,expression:"year"}],attrs:{id:"events-list-year"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.year=t.target.multiple?a:a[0]}}},e._l(e.years,(function(t){return a("option",{key:t,domProps:{value:t,textContent:e._s(t)}})})),0)]),e.loading?a("div",{attrs:{id:"events-list-spinner"}},[a("b-spinner",{attrs:{small:""}})],1):a("div",{attrs:{id:"events-list-table"}},[e._m(0),e._l(e.events,(function(t){return a("tr",{key:t.id},[a("td",{domProps:{textContent:e._s(t.date+" "+t.start)}}),a("td",[a("SERVGroupDots",{staticClass:"mr-1",attrs:{groups:t.servGroups}}),a("router-link",{attrs:{to:"/events/"+t.id},domProps:{textContent:e._s(t.name)}})],1),a("td",[t.venue&&t.venue.url?a("a",{attrs:{target:"_blank",href:t.venue.url},domProps:{textContent:e._s(t.venue.name)}}):t.venue?a("span",{domProps:{textContent:e._s(t.venue.name)}}):a("span",[e._v("TBD")])])])}))],2)])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tr",[a("th",[e._v("Date")]),a("th",[e._v("Event")]),a("th",[e._v("Location")])])}],s=a("a34a"),o=a.n(s),i=a("5a3a"),l=a.n(i);function u(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(u){return void a(u)}i.done?t(l):Promise.resolve(l).then(n,r)}function c(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){u(s,n,r,o,i,"next",e)}function i(e){u(s,n,r,o,i,"throw",e)}o(void 0)}))}}var d={data:function(){return{year:null,years:l()(2019,(new Date).getFullYear()+2),events:null,loading:!0}},created:function(){this.year=this.$route.params.year||this.$store.state.eventsYear||(new Date).getFullYear()},watch:{year:function(){this.$store.commit("eventsYear",this.year),this.load()}},methods:{load:function(){var e=c(o.a.mark((function e(){var t;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.$axios.get("/api/events?year=".concat(this.year));case 3:t=e.sent.data,t.canAdd&&this.$emit("canAdd"),this.events=t.events,this.loading=!1;case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},p=d,v=(a("c42b"),a("2877")),h=Object(v["a"])(p,n,r,!1,null,null,null);t["default"]=h.exports},"8dbf":function(e,t,a){},9350:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Page",{attrs:{title:e.title,subtitle:e.subtitle,menuItem:"people"}},[e.loading?a("div",{staticClass:"mt-3"},[a("b-spinner",{attrs:{small:""}})],1):a("form",{staticClass:"mt-3",on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[a("b-form-group",{attrs:{label:"First name","label-for":"person-firstName","label-cols-sm":"auto","label-class":"person-label",state:!e.firstNameError&&null,"invalid-feedback":e.firstNameError}},[a("b-input",{attrs:{id:"person-firstName",autofocus:"",plaintext:!e.canEditInfo,state:!e.firstNameError&&null,trim:""},model:{value:e.person.firstName,callback:function(t){e.$set(e.person,"firstName",t)},expression:"person.firstName"}})],1),a("b-form-group",{attrs:{label:"Last name","label-for":"person-lastName","label-cols-sm":"auto","label-class":"person-label",state:!e.lastNameError&&null,"invalid-feedback":e.lastNameError}},[a("b-input",{attrs:{id:"person-lastName",plaintext:!e.canEditInfo,state:!e.lastNameError&&null,trim:""},model:{value:e.person.lastName,callback:function(t){e.$set(e.person,"lastName",t)},expression:"person.lastName"}})],1),a("b-form-group",{attrs:{label:"Email address","label-for":"person-email","label-cols-sm":"auto","label-class":"person-label",state:!e.emailError&&null,"invalid-feedback":e.emailError}},[a("b-input",{attrs:{id:"person-email",plaintext:!e.canEditInfo,state:!e.emailError&&null,trim:""},model:{value:e.person.email,callback:function(t){e.$set(e.person,"email",t)},expression:"person.email"}})],1),a("b-form-group",{attrs:{label:"Phone number","label-for":"person-phone","label-cols-sm":"auto","label-class":"person-label",state:!e.phoneError&&null,"invalid-feedback":e.phoneError}},[a("b-input",{attrs:{id:"person-phone",plaintext:!e.canEditInfo,state:!e.phoneError&&null,trim:""},model:{value:e.person.phone,callback:function(t){e.$set(e.person,"phone",t)},expression:"person.phone"}})],1),e.canEditInfo?a("PasswordEntry",{attrs:{label:"Change password",labelClass:"person-label",deferValidation:!e.submitted,allowBadPassword:e.allowBadPassword,passwordHints:e.myPasswordHints},on:{change:e.onPasswordChange}}):e._e(),a("b-form-group",{attrs:{label:e.rolesLabel,state:!e.rolesError&&null,"invalid-feedback":e.rolesError}},[a("div",e._l(e.roles,(function(t){return a("b-checkbox",{key:t.id,attrs:{disabled:!t.enabled},model:{value:t.held,callback:function(a){e.$set(t,"held",a)},expression:"role.held"}},[e._v(e._s(t.memberLabel||t.name))])})),1)]),e.canEditInfo?a("div",{staticClass:"mt-3"},[a("b-btn",{attrs:{type:"submit",variant:"primary",disabled:!e.valid},domProps:{textContent:e._s(e.submitLabel)}}),a("b-btn",{staticClass:"ml-2",on:{click:e.onCancel}},[e._v("Cancel")])],1):e._e()],1)])},r=[],s=a("a34a"),o=a.n(s);a("580e");function i(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(u){return void a(u)}i.done?t(l):Promise.resolve(l).then(n,r)}function l(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){i(s,n,r,o,l,"next",e)}function l(e){i(s,n,r,o,l,"throw",e)}o(void 0)}))}}function u(e){return p(e)||d(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function p(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}var v={data:function(){return{loading:!1,person:null,roles:null,password:"",canEditInfo:!1,allowBadPassword:!1,firstNameError:null,lastNameError:null,duplicateName:null,emailError:null,duplicateEmail:null,phoneError:null,passwordHints:null,rolesError:null,submitted:!1}},computed:{me:function(){return this.$route.params.id==this.$store.state.me.id},newp:function(){return"NEW"===this.$route.params.id},myPasswordHints:function(){var e=u(this.passwordHints);return this.person.firstName&&e.push(this.person.firstName),this.person.lastName&&e.push(this.person.lastName),this.person.email&&e.push(this.person.email),this.person.phone&&e.push(this.person.phone),e},rolesLabel:function(){return this.me?"You hold these roles:":this.new?"This person will hold these roles:":"This person holds these roles:"},submitLabel:function(){return this.me?"Save Changes":this.newp?"Create Person":"Save Person"},subtitle:function(){return this.me?"Edit Profile":this.newp?"New Person":"Edit Person"},title:function(){return this.person&&this.person.id?"".concat(this.person.firstName," ").concat(this.person.lastName):this.newp?"New Person":"Edit Person"},valid:function(){return!this.firstNameError&&!this.lastNameError&&!this.emailError&&!this.phoneError&&!this.rolesError&&null!==this.password}},created:function(){var e=l(o.a.mark((function e(){var t;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.$axios.get("/api/people/".concat(this.$route.params.id));case 3:t=e.sent.data,this.canEditInfo=t.canEditInfo,this.allowBadPassword=t.allowBadPassword,this.person=t.person,this.passwordHints=t.passwordHints,this.roles=t.roles,this.loading=!1;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),watch:{"person.firstName":"validate","person.lastName":"validate","person.email":"validate","person.phone":"validate"},methods:{onCancel:function(){this.$router.go(-1)},onPasswordChange:function(e){this.password=e},onSubmit:function(){var e=l(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.submitted=!0,this.validate(),this.valid){e.next=4;break}return e.abrupt("return");case 4:return t=new FormData,t.append("firstName",this.person.firstName),t.append("lastName",this.person.lastName),t.append("email",this.person.email),t.append("phone",this.person.phone),this.password&&t.append("password",this.password),this.roles.filter((function(e){return e.held&&e.enabled})).forEach((function(e){t.append("role",e.id)})),e.next=13,this.$axios.post("/api/people/".concat(this.$route.params.id),t);case 13:a=e.sent.data,a?(a.duplicateName&&(this.duplicateName={firstName:this.person.firstName,lastName:this.person.lastName}),a.duplicateEmail&&(this.duplicateEmail=this.person.email),this.validate()):this.$router.push("/people");case 15:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),validate:function(){this.submitted&&(this.person.firstName?this.firstNameError=null:this.firstNameError="A first name is required.",this.person.lastName?this.duplicateName&&this.person.firstName==this.duplicateName.firstName&&this.person.lastName==this.duplicateName.lastName?this.lastNameError="A different person has this name.":this.lastNameError=null:this.lastNameError="A last name is required.",this.person.email?this.person.email.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/)?this.person.email===this.duplicateEmail?this.emailError="This email address is in use by another person.":this.emailError=null:this.emailError="This is not a valid email address.":this.emailError="An email address is required.",this.person.phone&&10!==this.person.phone.replace(/[^0-9]/g,"").length?this.phoneError="A valid phone number must have 10 digits.":this.phoneError=null,this.newp&&!this.roles.some((function(e){return e.held}))?this.rolesError="At least one role must be selected.":this.rolesError=null)}}},h=v,f=(a("c1c8"),a("2877")),m=Object(f["a"])(h,n,r,!1,null,null,null);t["default"]=m.exports},b17a:function(e,t,a){"use strict";var n=a("54a5"),r=a.n(n);r.a},b439:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Page",{attrs:{title:"Reports",menuItem:"reports"}},[e.loading?a("div",{staticClass:"mt-3"},[a("b-spinner",{attrs:{small:""}})],1):[a("CERTAttendanceForm",e._b({},"CERTAttendanceForm",e.certAtt,!1))]],2)},r=[],s=a("a34a"),o=a.n(s);function i(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(u){return void a(u)}i.done?t(l):Promise.resolve(l).then(n,r)}function l(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){i(s,n,r,o,l,"next",e)}function l(e){i(s,n,r,o,l,"throw",e)}o(void 0)}))}}var u={data:function(){return{loading:!1,certAtt:null}},created:function(){var e=l(o.a.mark((function e(){var t;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.$axios.get("/api/reports");case 3:t=e.sent.data,this.certAtt=t.certAttendance,this.loading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},c=u,d=(a("c33c"),a("2877")),p=Object(d["a"])(c,n,r,!1,null,null,null);t["default"]=p.exports},b599:function(e,t,a){},bd3e:function(e,t,a){"use strict";var n=a("83ab"),r=a.n(n);r.a},be131:function(e,t,a){},c1c8:function(e,t,a){"use strict";var n=a("5121"),r=a.n(n);r.a},c33c:function(e,t,a){"use strict";var n=a("0fe9"),r=a.n(n);r.a},c42b:function(e,t,a){"use strict";var n=a("8738"),r=a.n(n);r.a},c5b4a:function(e,t,a){"use strict";var n=a("77a4"),r=a.n(n);r.a},d251:function(e,t,a){"use strict";var n=a("b599"),r=a.n(n);r.a},d43e:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Page",{attrs:{title:"SERV Portal"}},[a("div",{attrs:{id:"pwreset-token-top"}},[a("div",{attrs:{id:"pwreset-token-banner"}},[e._v("Password Reset")]),e.invalid?[a("div",{attrs:{id:"pwreset-token-intro"}},[e._v("This password reset link is invalid or has expired.")]),a("div",{attrs:{id:"pwreset-token-reset"}},[a("a",{staticClass:"btn btn-secondary",attrs:{href:"/login/start-reset"}},[e._v("Try Again")])])]:e.hints?[a("div",{attrs:{id:"pwreset-token-intro"}},[e._v("Please provide a new password.")]),a("form",{attrs:{id:"pwreset-token-form"},on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[a("PasswordEntry",{attrs:{label:"Password","label-class":"pwreset-token-label",deferValidation:!e.submitted,allowBadPassword:!1,passwordHints:e.hints},on:{change:e.onPasswordChange}}),a("div",{attrs:{id:"pwreset-token-submit-row"}},[a("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Reset Password")])],1)],1)]:a("div",{staticClass:"mt-3 text-center"},[a("b-spinner",{attrs:{small:""}})],1)],2)])},r=[],s=a("a34a"),o=a.n(s);function i(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(u){return void a(u)}i.done?t(l):Promise.resolve(l).then(n,r)}function l(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){i(s,n,r,o,l,"next",e)}function l(e){i(s,n,r,o,l,"throw",e)}o(void 0)}))}}var u={data:function(){return{hints:null,invalid:!1,password:"",submitted:!1}},created:function(){var e=l(o.a.mark((function e(){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$axios.get("/api/password-reset/".concat(this.$route.params.token));case 3:this.hints=e.sent.data,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),this.invalid=!0;case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}(),methods:{onPasswordChange:function(e){this.password=e},onSubmit:function(){var e=l(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.submitted=!0,this.password){e.next=3;break}return e.abrupt("return");case 3:return t=new FormData,t.append("password",this.password),e.next=7,this.$axios.post("/api/password-reset/".concat(this.$route.params.token),t);case 7:a=e.sent.data,this.$store.commit("login",a),this.$router.replace("/events");case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},c=u,d=(a("1c1b"),a("2877")),p=Object(d["a"])(c,n,r,!1,null,"7ec8a4ca",null);t["default"]=p.exports},e1af:function(e,t,a){"use strict";var n=a("0964"),r=a.n(n);r.a},e1f5:function(e,t,a){"use strict";var n=a("8dbf"),r=a.n(n);r.a},e4a1:function(e,t,a){"use strict";var n=a("81da"),r=a.n(n);r.a},e640:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Page",{attrs:{title:"Events",menuItem:"events",noPadding:""}},[a("b-card",{attrs:{id:"events-card","no-body":""}},[a("b-tabs",{attrs:{card:""},scopedSlots:e._u([e.canAdd?{key:"tabs-end",fn:function(){return[a("b-nav-item",{attrs:{to:"/events/NEW"}},[e._v("Add Event")])]},proxy:!0}:null],null,!0),model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("b-tab",{staticClass:"events-tab-pane",attrs:{title:"Calendar","no-body":""}},[a("EventsCalendar",{on:{canAdd:function(t){e.canAdd=!0}}})],1),a("b-tab",{staticClass:"events-tab-pane",attrs:{title:"List","no-body":""}},[a("EventsList",{on:{canAdd:function(t){e.canAdd=!0}}})],1)],1)],1)],1)},r=[],s=a("a78e"),o=a.n(s),i={data:function(){return{tab:0,canAdd:!1}},mounted:function(){this.tab="1"===o.a.get("serv-events-list")?1:0},watch:{tab:function(){o.a.set("serv-events-list",this.tab,{expires:3650})}}},l=i,u=(a("e1af"),a("2877")),c=Object(u["a"])(l,n,r,!1,null,null,null);t["default"]=c.exports},ea21:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{attrs:{id:"cert-att-form"},on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[a("div",{staticClass:"report-title"},[e._v("CERT Attendance Report")]),a("b-form-group",{attrs:{label:"Report on team","label-cols-sm":"auto","label-class":"cert-att-label"}},[a("b-form-radio-group",{staticClass:"cert-att-radio-group",attrs:{options:e.teamList},model:{value:e.team,callback:function(t){e.team=t},expression:"team"}})],1),a("b-form-group",{attrs:{label:"Date range","label-cols-sm":"auto","label-class":"cert-att-label",state:!e.dateError&&null,"invalid-feedback":e.dateError}},[a("b-form-input",{attrs:{id:"cert-att-date-from",type:"date",state:!e.dateError&&null},model:{value:e.dateFromI,callback:function(t){e.dateFromI=t},expression:"dateFromI"}}),e._v("\nthrough\n"),a("b-form-input",{attrs:{id:"cert-att-date-to",type:"date",state:!e.dateError&&null},model:{value:e.dateToI,callback:function(t){e.dateToI=t},expression:"dateToI"}})],1),a("b-form-group",{attrs:{label:"Statistics by","label-cols-sm":"auto","label-class":"cert-att-label"}},[a("b-form-radio-group",{staticClass:"cert-att-radio-group",attrs:{options:e.statsList},model:{value:e.stats,callback:function(t){e.stats=t},expression:"stats"}})],1),a("b-form-group",{attrs:{label:"Show detail","label-cols-sm":"auto","label-class":"cert-att-label"}},[a("b-form-radio-group",{staticClass:"cert-att-radio-group",attrs:{options:e.detailList},model:{value:e.detail,callback:function(t){e.detail=t},expression:"detail"}})],1),a("div",{staticClass:"mt-3"},[a("b-btn",{attrs:{type:"submit",variant:"primary",disabled:!!e.dateError}},[e._v("Generate Report")])],1)],1)},r=[],s=["Alpha","Bravo","Both"],o=[{value:"count",text:"Number of Events"},{value:"hours",text:"Cumulative Hours"}],i=[{value:"date",text:"Show by date"},{value:"month",text:"Show by month"},{value:"total",text:"Show totals only"}],l=/^20\d\d-(?:0[1-9]|1[012])-(?:0[1-9]|[12][0-9]|3[01])$/,u={props:{dateFrom:String,dateTo:String},data:function(){return{teamList:s,statsList:o,detailList:i,team:"Both",dateFromI:null,dateToI:null,stats:"count",detail:"month",dateError:null}},created:function(){this.dateFromI=this.dateFrom,this.dateToI=this.dateTo},watch:{dateFromI:"checkDates",dateToI:"checkDates"},methods:{checkDates:function(){this.dateFromI&&this.dateToI?this.dateFromI.match(l)&&this.dateToI.match(l)?this.dateFromI>this.dateToI?this.dateError="The starting date must be before the ending date.":this.dateError=null:this.dateError="Valid dates have the form YYYY-MM-DD.":this.dateError="Starting and ending dates are required."},onSubmit:function(){this.dateError||this.$router.push({path:"/reports/cert-attendance",query:{team:this.team,dateFrom:this.dateFromI,dateTo:this.dateToI,stats:this.stats,detail:this.detail}})}}},c=u,d=(a("755c"),a("2877")),p=Object(d["a"])(c,n,r,!1,null,null,null);t["default"]=p.exports},f023:function(e,t,a){},f0d3:function(e,t,a){"use strict";var n=a("7c64"),r=a.n(n);r.a},f0f1:function(e,t,a){},f78f:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{attrs:{id:"event-attendance"},on:{submit:function(t){return t.preventDefault(),e.onSave(t)}}},[a("b-form-group",{attrs:{label:"This event was attended by:"}},[a("b-form-checkbox-group",{attrs:{id:"event-attend-group",stacked:"",options:e.people,"text-field":"name","value-field":"id"},model:{value:e.attendees,callback:function(t){e.attendees=t},expression:"attendees"}})],1),a("div",{staticClass:"mt-3"},[a("b-btn",{attrs:{type:"submit",variant:"primary"}},[e._v("Save Attendance")]),a("b-btn",{staticClass:"ml-2",on:{click:e.onCancel}},[e._v("Cancel")])],1)],1)},r=[],s=a("a34a"),o=a.n(s);function i(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(u){return void a(u)}i.done?t(l):Promise.resolve(l).then(n,r)}function l(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){i(s,n,r,o,l,"next",e)}function l(e){i(s,n,r,o,l,"throw",e)}o(void 0)}))}}var u={props:{event:null,people:null},data:function(){return{attendees:null}},mounted:function(){var e=this,t=[];this.people.forEach((function(a){e.$set(a,"name","".concat(a.lastName,", ").concat(a.firstName)),a.attended&&t.push(a.id)})),this.attendees=t},methods:{onCancel:function(){this.$router.go(-1)},onSave:function(){var e=l(o.a.mark((function e(){var t;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=new FormData,this.attendees.forEach((function(e){t.append("person",e)})),e.next=4,this.$axios.post("/api/events/".concat(this.$route.params.id,"/attendance"),t);case 4:this.$router.push({path:"/events",params:{year:this.event.date.substr(0,4)}});case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},c=u,d=(a("57dd"),a("2877")),p=Object(d["a"])(c,n,r,!1,null,null,null);t["default"]=p.exports},fec3:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Page",{attrs:{title:"CERT Attendance",subtitle:"CERT Attendance",menuItem:"reports"}},[e.loading?a("div",{staticClass:"mt-3"},[a("b-spinner",{attrs:{small:""}})],1):a("table",{attrs:{id:"cert-att-table"}},[a("thead",e._l(e.header,(function(t,n){return a("tr",{key:n},e._l(t,(function(t,r){return a("td",{key:r,class:e.headerClass(n,r),attrs:{colspan:t.span||1},domProps:{textContent:e._s(e.wrapText(t))}})})),0)})),0),a("tbody",e._l(e.body,(function(t,n){return a("tr",{key:n},e._l(t,(function(t,n){return a("td",{key:n,class:e.spanStarts[n]?"cert-att-span":null,domProps:{textContent:e._s(t)}})})),0)})),0),a("tfoot",e._l(e.footer,(function(t,n){return a("tr",{key:n},e._l(t,(function(t,n){return a("td",{key:n,class:e.spanStarts[n]?"cert-att-span":null,domProps:{textContent:e._s(t)}})})),0)})),0)])])},r=[],s=a("a34a"),o=a.n(s);function i(e,t,a,n,r,s,o){try{var i=e[s](o),l=i.value}catch(u){return void a(u)}i.done?t(l):Promise.resolve(l).then(n,r)}function l(e){return function(){var t=this,a=arguments;return new Promise((function(n,r){var s=e.apply(t,a);function o(e){i(s,n,r,o,l,"next",e)}function l(e){i(s,n,r,o,l,"throw",e)}o(void 0)}))}}var u={props:{team:String,dateFrom:String,dateTo:String,stats:String,detail:String},data:function(){return{loading:!1,header:null,body:null,footer:null}},computed:{spanStarts:function(){var e={},t=0;return this.header[0].forEach((function(a){a.span&&(e[t]=!0),t+=a.span||1})),e}},created:function(){var e=l(o.a.mark((function e(){var t;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.$axios.get("/api/reports/cert-attendance",{params:{team:this.team,dateFrom:this.dateFrom,dateTo:this.dateTo,stats:this.stats,detail:this.detail,format:"JSON"}});case 3:t=e.sent.data,this.header=t.header,this.body=t.body,this.footer=t.footer,this.loading=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{headerClass:function(e,t){return 0===e&&0!==t||0!==e&&this.spanStarts[t]?"cert-att-span":null},wrapText:function(e){return e.span>1?e.text:e.text.replace("-","\n")}}},c=u,d=(a("0619"),a("2877")),p=Object(d["a"])(c,n,r,!1,null,null,null);t["default"]=p.exports},fec5:function(e,t,a){"use strict";var n=a("3798"),r=a.n(n);r.a}});
//# sourceMappingURL=app.2dfdb5d5.js.map