(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["PWResetToken"],{"17b0":function(t,s,r){"use strict";var a=function(){var t=this,s=t.$createElement,r=t._self._c||s;return r("div",{class:t.$store.state.touch?"touch":"mouse",attrs:{id:"page-top"}},[r("div",{attrs:{id:"page-heading"}},[r("div",{attrs:{id:"page-menu-spacer"}}),r("div",{attrs:{id:"page-titlebox"}},[r("div",{attrs:{id:"page-title"},domProps:{textContent:t._s(t.title)}})]),r("div",{attrs:{id:"page-menu-spacer"}})]),r("div",{staticClass:"page-no-menu",attrs:{id:"page-content"}},[t._t("default")],2)])},e=[],n={props:{title:String}},o=n,i=r("2877"),d=Object(i["a"])(o,a,e,!1,null,null,null);s["a"]=d.exports},3700:function(t,s,r){"use strict";var a=r("ba12"),e=r.n(a);e.a},7171:function(t,s,r){"use strict";r.r(s);var a=function(){var t=this,s=t.$createElement,r=t._self._c||s;return r("PublicPage",{attrs:{title:"SERV Portal"}},[r("div",{attrs:{id:"pwreset-token-top"}},[r("div",{attrs:{id:"pwreset-token-banner"}},[t._v("Password Reset")]),t.invalid?[r("div",{attrs:{id:"pwreset-token-intro"}},[t._v("This password reset link is invalid or has expired.")]),r("div",{attrs:{id:"pwreset-token-reset"}},[r("a",{staticClass:"btn btn-secondary",attrs:{href:"/login/start-reset"}},[t._v("Try Again")])])]:t.hints?[r("div",{attrs:{id:"pwreset-token-intro"}},[t._v("Please provide a new password.")]),r("form",{attrs:{id:"pwreset-token-form"},on:{submit:function(s){return s.preventDefault(),t.onSubmit(s)}}},[r("PasswordEntry",{attrs:{label:"Password","label-class":"pwreset-token-label",deferValidation:!t.submitted,allowBadPassword:!1,passwordHints:t.hints},on:{change:t.onPasswordChange}}),r("div",{attrs:{id:"pwreset-token-submit-row"}},[r("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Reset Password")])],1)],1)]:r("div",{staticClass:"mt-3 text-center"},[r("b-spinner",{attrs:{small:""}})],1)],2)])},e=[],n=r("a34a"),o=r.n(n),i=r("a5a6"),d=r("17b0");function c(t,s,r,a,e,n,o){try{var i=t[n](o),d=i.value}catch(c){return void r(c)}i.done?s(d):Promise.resolve(d).then(a,e)}function p(t){return function(){var s=this,r=arguments;return new Promise((function(a,e){var n=t.apply(s,r);function o(t){c(n,a,e,o,i,"next",t)}function i(t){c(n,a,e,o,i,"throw",t)}o(void 0)}))}}var l={components:{PasswordEntry:i["a"],PublicPage:d["a"]},data:function(){return{hints:null,invalid:!1,password:"",submitted:!1}},created:function(){var t=p(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.$axios.get("/api/password-reset/".concat(this.$route.params.token));case 3:this.hints=t.sent.data,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),this.invalid=!0;case 9:case"end":return t.stop()}}),t,this,[[0,6]])})));function s(){return t.apply(this,arguments)}return s}(),methods:{onPasswordChange:function(t){this.password=t},onSubmit:function(){var t=p(o.a.mark((function t(){var s,r;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.submitted=!0,this.password){t.next=3;break}return t.abrupt("return");case 3:return s=new FormData,s.append("password",this.password),t.next=7,this.$axios.post("/api/password-reset/".concat(this.$route.params.token),s);case 7:r=t.sent.data,this.$store.commit("login",r),this.$router.replace("/events");case 10:case"end":return t.stop()}}),t,this)})));function s(){return t.apply(this,arguments)}return s}()}},u=l,w=(r("8fa6"),r("2877")),h=Object(w["a"])(u,a,e,!1,null,"a8a5b50a",null);s["default"]=h.exports},7451:function(t,s,r){},"8fa6":function(t,s,r){"use strict";var a=r("7451"),e=r.n(a);e.a},a34a:function(t,s,r){t.exports=r("96cf")},a5a6:function(t,s,r){"use strict";var a,e=function(){var t=this,s=t.$createElement,r=t._self._c||s;return r("b-form-group",{attrs:{id:"pwentry-password",label:t.label,"label-cols-sm":"auto","label-class":t.labelClass,state:!t.passwordError&&(!!t.passwordSuccess||null),"invalid-feedback":t.passwordError,"valid-feedback":t.passwordSuccess}},[r("div",[r("b-input",{attrs:{id:"pwentry-password1",type:"password",state:t.passwordState},model:{value:t.password1,callback:function(s){t.password1=s},expression:"password1"}}),r("b-input",{staticClass:"mt-2",attrs:{id:"pwentry-password2",type:"password",state:t.passwordState},model:{value:t.password2,callback:function(s){t.password2=s},expression:"password2"}}),t.passwordScore>=0?r("b-progress",{attrs:{id:"pwentry-password-score",height:"0.5rem"}},[r("b-progress-bar",{attrs:{value:100,variant:t.passwordVariant}}),r("b-progress-bar",{attrs:{value:t.passwordScore>0?100:0,variant:t.passwordVariant}}),r("b-progress-bar",{attrs:{value:t.passwordScore>1?100:0,variant:t.passwordVariant}}),r("b-progress-bar",{attrs:{value:t.passwordScore>2?100:0,variant:t.passwordVariant}}),r("b-progress-bar",{attrs:{value:t.passwordScore>3?100:0,variant:t.passwordVariant}})],1):t._e()],1)])},n=[],o=r("a34a"),i=r.n(o);function d(t){return l(t)||p(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function p(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function l(t){if(Array.isArray(t)){for(var s=0,r=new Array(t.length);s<t.length;s++)r[s]=t[s];return r}}function u(t,s,r,a,e,n,o){try{var i=t[n](o),d=i.value}catch(c){return void r(c)}i.done?s(d):Promise.resolve(d).then(a,e)}function w(t){return function(){var s=this,r=arguments;return new Promise((function(a,e){var n=t.apply(s,r);function o(t){u(n,a,e,o,i,"next",t)}function i(t){u(n,a,e,o,i,"throw",t)}o(void 0)}))}}var h={props:{label:String,labelClass:String,deferValidation:Boolean,allowBadPassword:Boolean,passwordHints:Array},data:function(){return{password1:null,password2:null,passwordError:null,passwordSuccess:null,passwordScore:-1}},created:function(){a=r.e("zxcvbn").then(r.t.bind(null,"580e",7))},computed:{passwordState:function(){return!(this.password1&&this.passwordScore<3&&!this.allowBadPassword)&&null},passwordVariant:function(){return this.passwordScore>=3?"success":2===this.passwordScore?"warning":"danger"}},watch:{password1:"validate",password2:"validate"},methods:{validate:function(){var t=w(i.a.mark((function t(){var s;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.deferValidation&&!this.password2||this.password1===this.password2){t.next=6;break}this.passwordScore=-1,this.passwordError="These two password entries do not match.",this.passwordSuccess=null,t.next=18;break;case 6:if(!this.password1){t.next=16;break}return t.next=9,a;case 9:t.t0=this.password1,t.t1=this.passwordHints,s=t.sent.default(t.t0,t.t1),this.passwordScore=s.score,s.feedback?(this.passwordError=[s.feedback.warning].concat(d(s.feedback.suggestions),[this.passwordScore<3?"This password would take ".concat(s.crack_times_display.offline_slow_hashing_1e4_per_second," to crack."):null]).filter((function(t){return!!t})).join("\n"),this.passwordSuccess=this.passwordScore>2?"This password would take ".concat(s.crack_times_display.offline_slow_hashing_1e4_per_second," to crack."):null):this.passwordError=this.passwordSuccess=null,t.next=18;break;case 16:this.passwordScore=-1,this.passwordError=this.passwordSuccess=null;case 18:this.password1||this.password2?this.password1!==this.password2?this.$emit("change",null):this.allowBadPassword||this.passwordScore>=3?this.$emit("change",this.password1):this.$emit("change",null):this.$emit("change","");case 19:case"end":return t.stop()}}),t,this)})));function s(){return t.apply(this,arguments)}return s}()}},f=h,v=(r("3700"),r("2877")),b=Object(v["a"])(f,e,n,!1,null,null,null);s["a"]=b.exports},ba12:function(t,s,r){}}]);
//# sourceMappingURL=PWResetToken.c809b2a4.js.map