{"version":3,"sources":["webpack:///./client/base/EventTypeDots.vue?17ea","webpack:///client/base/EventTypeDots.vue","webpack:///./client/base/EventTypeDots.vue?3ddf","webpack:///./client/base/EventTypeDots.vue","webpack:///./client/pages/events/EventsCalendar.vue?7f98","webpack:///client/pages/events/EventsCalendar.vue","webpack:///./client/pages/events/EventsCalendar.vue?5a47","webpack:///./client/pages/events/EventsCalendar.vue","webpack:///./client/pages/events/EventsCalendar.vue?8c6e","webpack:///./client/base/EventTypeDots.vue?c167"],"names":["render","_vm","this","_h","$createElement","_c","_self","_l","type","staticClass","class","typeToClass","attrs","staticRenderFns","props","types","Array","methods","toLowerCase","replace","component","on","onYearBackward","onMonthBackward","domProps","_s","month","format","onMonthForward","onYearForward","w","date","$event","onHoverDate","onNoHoverDate","onClickDate","typesOn","eventsOn","event","key","id","$store","state","name","e","length","_e","_v","components","data","mounted","newMonth","events","forEach","Object","keys","groupToClass","subtract","add"],"mappings":"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","file":"js/EventsCalendar.3b1b3f2e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',_vm._l((_vm.types),function(type){return _c('span',{staticClass:\"dot\",class:(\"dot-\" + (_vm.typeToClass(type))),attrs:{\"title\":type}})}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nEventTypeDots displays a set of appropriately colored dots for a set of event\ntypes.\n-->\n\n<template lang=\"pug\">\nspan\n  span.dot(v-for=\"type in types\" :class=\"`dot-${typeToClass(type)}`\" :title=\"type\")\n</template>\n\n<script>\nexport default {\n  props: {\n    types: Array,\n  },\n  methods: {\n    typeToClass(type) {\n      return type.toLowerCase().replace(/ /g, '-')\n    },\n  },\n}\n</script>\n\n<style lang=\"stylus\">\n.dot\n  display inline-block\n  margin 0 0 0 2px\n  width 10px\n  height 10px\n  border-radius 50%\n  &:first-child\n    margin 0\n.dot-incident\n  background-color #e6194b // red\n.dot-civic-event\n  background-color #f032e6 // magenta\n.dot-drill\n  background-color #f58231 // orange\n.dot-continuing-education\n  border 2px solid #4363d8 // blue circle\n.dot-training\n  background-color #4363d8 // blue\n.dot-class\n  background-color #3cb44b // green\n.dot-work-event\n  border 2px solid #a9a9a9 // gray circle\n.dot-meeting\n  background-color #a9a9a9 // gray\n.dot-party\n  background-color #e6beff // lavender\n  // colors taken from https://sashat.me/2017/01/11/list-of-20-simple-distinct-colors/\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventTypeDots.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventTypeDots.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventTypeDots.vue?vue&type=template&id=2aa7ff1f&lang=pug&\"\nimport script from \"./EventTypeDots.vue?vue&type=script&lang=js&\"\nexport * from \"./EventTypeDots.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EventTypeDots.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"events-calendar\"}},[_c('div',{attrs:{\"id\":\"events-calendar-grid\"}},[_c('div',{attrs:{\"id\":\"events-calendar-heading\"}},[_c('div',{staticClass:\"events-calendar-arrow\",on:{\"click\":_vm.onYearBackward}},[_c('svg',{staticClass:\"events-calendar-year-arrow\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M34.5 239L228.9 44.7c9.4-9.4 24.6-9.4 33.9 0l22.7 22.7c9.4 9.4 9.4 24.5 0 33.9L131.5 256l154 154.7c9.3 9.4 9.3 24.5 0 33.9l-22.7 22.7c-9.4 9.4-24.6 9.4-33.9 0L34.5 273c-9.3-9.4-9.3-24.6 0-34zm192 34l194.3 194.3c9.4 9.4 24.6 9.4 33.9 0l22.7-22.7c9.4-9.4 9.4-24.5 0-33.9L323.5 256l154-154.7c9.3-9.4 9.3-24.5 0-33.9l-22.7-22.7c-9.4-9.4-24.6-9.4-33.9 0L226.5 239c-9.3 9.4-9.3 24.6 0 34z\"}})])]),_c('div',{staticClass:\"events-calendar-arrow\",on:{\"click\":_vm.onMonthBackward}},[_c('svg',{staticClass:\"events-calendar-month-arrow\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 320 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z\"}})])]),_c('div',{attrs:{\"id\":\"events-calendar-month\"},domProps:{\"textContent\":_vm._s(_vm.month.format('MMMM YYYY'))}}),_c('div',{staticClass:\"events-calendar-arrow\",on:{\"click\":_vm.onMonthForward}},[_c('svg',{staticClass:\"events-calendar-month-arrow\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 320 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z\"}})])]),_c('div',{staticClass:\"events-calendar-arrow\",attrs:{\"id\":\"events-calendar-arrow-last\"},on:{\"click\":_vm.onYearForward}},[_c('svg',{staticClass:\"events-calendar-year-arrow\",attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M477.5 273L283.1 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.7-22.7c-9.4-9.4-9.4-24.5 0-33.9l154-154.7-154-154.7c-9.3-9.4-9.3-24.5 0-33.9l22.7-22.7c9.4-9.4 24.6-9.4 33.9 0L477.5 239c9.3 9.4 9.3 24.6 0 34zm-192-34L91.1 44.7c-9.4-9.4-24.6-9.4-33.9 0L34.5 67.4c-9.4 9.4-9.4 24.5 0 33.9l154 154.7-154 154.7c-9.3 9.4-9.3 24.5 0 33.9l22.7 22.7c9.4 9.4 24.6 9.4 33.9 0L285.5 273c9.3-9.4 9.3-24.6 0-34z\"}})])])]),_vm._l((['S','M','T','W','T','F','S']),function(w){return _c('div',{staticClass:\"events-calendar-weekday\",domProps:{\"textContent\":_vm._s(w)}})}),_vm._l((_vm.dates),function(date){return _c('div',{staticClass:\"events-calendar-day\",class:date ? null : 'empty',on:{\"mouseover\":function($event){return _vm.onHoverDate(date)},\"mouseout\":_vm.onNoHoverDate,\"click\":function($event){return _vm.onClickDate(date)}}},[_c('div',{domProps:{\"textContent\":_vm._s(date ? date.date() : null)}}),_c('div',{staticClass:\"events-calendar-day-dots\"},[_c('EventTypeDots',{attrs:{\"types\":_vm.typesOn(date)}})],1),_vm._l((_vm.eventsOn(date)),function(event){return _c('div',{key:event.id,staticClass:\"events-calendar-day-event\"},[_c('EventTypeDots',{staticClass:\"mr-1\",attrs:{\"types\":event.types}}),(_vm.$store.state.touch)?_c('span',{domProps:{\"textContent\":_vm._s(event.name)}}):_c('b-link',{attrs:{\"to\":(\"/events/\" + (event.id)),\"title\":event.name},domProps:{\"textContent\":_vm._s(event.name)}})],1)})],2)})],2),(_vm.date)?_c('div',{attrs:{\"id\":\"events-calendar-footer\"}},[_c('div',{attrs:{\"id\":\"events-calendar-date\"},domProps:{\"textContent\":_vm._s(_vm.date.format('dddd, MMMM D, YYYY'))}}),_vm._l((_vm.eventsOn(_vm.date)),function(e){return _c('div',{key:e.id,staticClass:\"events-calendar-event\"},[_c('EventTypeDots',{staticClass:\"mr-1\",attrs:{\"types\":e.types}}),_c('b-link',{attrs:{\"to\":(\"/events/\" + (e.id))},domProps:{\"textContent\":_vm._s(e.name)}})],1)}),(!_vm.eventsOn(_vm.date).length)?_c('div',{staticClass:\"events-calendar-event\"},[_vm._v(\"No events scheduled.\")]):_vm._e()],2):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nEventsCalendar displays the events in a calendar form.\n-->\n\n<template lang=\"pug\">\n#events-calendar\n  #events-calendar-grid\n    #events-calendar-heading\n      .events-calendar-arrow(@click=\"onYearBackward\")\n        svg.events-calendar-year-arrow(xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\")\n          path(fill=\"currentColor\" d=\"M34.5 239L228.9 44.7c9.4-9.4 24.6-9.4 33.9 0l22.7 22.7c9.4 9.4 9.4 24.5 0 33.9L131.5 256l154 154.7c9.3 9.4 9.3 24.5 0 33.9l-22.7 22.7c-9.4 9.4-24.6 9.4-33.9 0L34.5 273c-9.3-9.4-9.3-24.6 0-34zm192 34l194.3 194.3c9.4 9.4 24.6 9.4 33.9 0l22.7-22.7c9.4-9.4 9.4-24.5 0-33.9L323.5 256l154-154.7c9.3-9.4 9.3-24.5 0-33.9l-22.7-22.7c-9.4-9.4-24.6-9.4-33.9 0L226.5 239c-9.3 9.4-9.3 24.6 0 34z\")\n      .events-calendar-arrow(@click=\"onMonthBackward\")\n        svg.events-calendar-month-arrow(xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\")\n          path(fill=\"currentColor\" d=\"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z\")\n      #events-calendar-month(v-text=\"month.format('MMMM YYYY')\")\n      .events-calendar-arrow(@click=\"onMonthForward\")\n        svg.events-calendar-month-arrow(xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\")\n          path(fill=\"currentColor\" d=\"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z\")\n      #events-calendar-arrow-last.events-calendar-arrow(@click=\"onYearForward\")\n        svg.events-calendar-year-arrow(xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\")\n          path(fill=\"currentColor\" d=\"M477.5 273L283.1 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.7-22.7c-9.4-9.4-9.4-24.5 0-33.9l154-154.7-154-154.7c-9.3-9.4-9.3-24.5 0-33.9l22.7-22.7c9.4-9.4 24.6-9.4 33.9 0L477.5 239c9.3 9.4 9.3 24.6 0 34zm-192-34L91.1 44.7c-9.4-9.4-24.6-9.4-33.9 0L34.5 67.4c-9.4 9.4-9.4 24.5 0 33.9l154 154.7-154 154.7c-9.3 9.4-9.3 24.5 0 33.9l22.7 22.7c9.4 9.4 24.6 9.4 33.9 0L285.5 273c9.3-9.4 9.3-24.6 0-34z\")\n    .events-calendar-weekday(v-for=\"w in ['S','M','T','W','T','F','S']\" v-text=\"w\")\n    .events-calendar-day(v-for=\"date in dates\" :class=\"date ? null : 'empty'\" @mouseover=\"onHoverDate(date)\" @mouseout=\"onNoHoverDate\" @click=\"onClickDate(date)\")\n      div(v-text=\"date ? date.date() : null\")\n      .events-calendar-day-dots\n        EventTypeDots(:types=\"typesOn(date)\")\n      .events-calendar-day-event(v-for=\"event in eventsOn(date)\" :key=\"event.id\")\n        EventTypeDots.mr-1(:types=\"event.types\")\n        span(v-if=\"$store.state.touch\" v-text=\"event.name\")\n        b-link(v-else :to=\"`/events/${event.id}`\" :title=\"event.name\" v-text=\"event.name\")\n  #events-calendar-footer(v-if=\"date\")\n    #events-calendar-date(v-text=\"date.format('dddd, MMMM D, YYYY')\")\n    .events-calendar-event(v-for=\"e in eventsOn(date)\" :key=\"e.id\")\n      EventTypeDots.mr-1(:types=\"e.types\")\n      b-link(:to=\"`/events/${e.id}`\" v-text=\"e.name\")\n    .events-calendar-event(v-if=\"!eventsOn(date).length\") No events scheduled.\n</template>\n\n<script>\nimport moment from 'moment-mini'\nimport EventTypeDots from '@/base/EventTypeDots'\n\nexport default {\n  components: { EventTypeDots },\n  data: () => ({\n    month: moment(),\n    dates: [],\n    year: null,\n    events: null,\n    date: null,\n    clicked: false,\n  }),\n  mounted() {\n    this.newMonth()\n  },\n  methods: {\n    eventsOn(date) {\n      return date ? this.events[date.format('YYYY-MM-DD')] || [] : []\n    },\n    typesOn(date) {\n      const types = {}\n      this.eventsOn(date).forEach(e => { e.types.forEach(t => { types[t] = true }) })\n      return Object.keys(types)\n    },\n    async newMonth() {\n      if (!this.year || this.year != this.month.year()) {\n        const data = (await this.$axios.get(`/api/events?year=${this.month.year()}`)).data\n        if (data.canAdd) this.$emit('canAdd')\n        const events = {}\n        data.events.forEach(e => {\n          if (!events[e.date]) events[e.date] = []\n          events[e.date].push(e)\n        })\n        this.events = events\n      }\n      const dates = []\n      const start = this.month.clone().startOf('month')\n      start.subtract(start.day(), 'days')\n      const end = this.month.clone().endOf('month')\n      end.add(6 - end.day(), 'days')\n      for (let date = start; !date.isAfter(end, 'day'); date = date.clone().add(1, 'day')) {\n        dates.push(date.isSame(this.month, 'month') ? date : null)\n      }\n      this.dates = dates\n      this.date = null\n      this.clicked = false\n    },\n    groupToClass(group) { return group.toLowerCase().replace(' ', '-') },\n    onClickDate(date) { this.clicked = true, this.date = date },\n    onHoverDate(date) { if (!this.clicked) this.date = date },\n    onMonthBackward() {\n      this.month.subtract(1, 'month')\n      this.newMonth()\n    },\n    onMonthForward() {\n      this.month.add(1, 'month')\n      this.newMonth()\n    },\n    onNoHoverDate() { if (!this.clicked) this.date = null },\n    onYearBackward() {\n      this.month.subtract(1, 'year')\n      this.newMonth()\n    },\n    onYearForward() {\n      this.month.add(1, 'year')\n      this.newMonth()\n    },\n  },\n}\n</script>\n\n<style lang=\"stylus\">\nsidebarWidth = 7rem // width of the sidebar that appears on screens wider than labelThreshold\ndotsMaxWidth = 360px // maximum width of the calendar when in dots mode\nlabelThreshold = 576px // threshold where we switch from dots mode to label mode\nminTouch = 40px // minimum touchable size\narrowSize = minTouch // width and height of arrow boxes\nprintMargin = 1rem // margin around calendar when printing\n#events-calendar\n  display flex\n  flex-direction column\n  align-items center\n  @media print\n    padding printMargin\n#events-calendar-grid\n  display grid\n  justify-content center\n  margin-top 0.5rem\n  max-width dotsMaxWidth\n  width 100%\n  grid unquote('auto / repeat(7, 14.2857%)')\n  @media (min-width: labelThreshold)\n    max-width none\n    border-left 1px solid #eee\n  @media print\n    border-top 1px solid #eee\n#events-calendar-heading\n  display flex\n  grid-area 1 / 1 / 2 / 8\n.events-calendar-arrow\n  display flex\n  flex none\n  justify-content center\n  align-items center\n  width arrowSize\n  height arrowSize\n  cursor pointer\n  user-select none\n  &:hover\n    background-color #efefef\n#events-calendar-arrow-last\n  @media (min-width: labelThreshold)\n    border-right 1px solid #eee\n.events-calendar-year-arrow\n  width 1rem\n  @media print\n    display none\n.events-calendar-month-arrow\n  width 0.625rem\n  @media print\n    display none\n#events-calendar-month\n  display block\n  flex auto\n  align-self center\n  text-align center\n  white-space nowrap\n  font-size 1.2rem // lets longest month and year fit at 320px width\n.events-calendar-weekday\n  margin-top 0.5rem\n  padding 0 0 1rem\n  color #888\n  text-align center\n  line-height 1\n  @media (min-width: labelThreshold)\n    border-top 1px solid #eee\n    border-right 1px solid #eee\n    border-bottom 1px solid #eee\n.events-calendar-day\n  padding 0 0 1rem\n  min-height 3rem\n  text-align center\n  line-height 1\n  &:hover\n    background-color #efefef\n    &.empty\n      background-color white\n  @media (min-width: labelThreshold)\n    min-height calc(1rem + 3 * 0.875rem + 1rem)\n    border-right 1px solid #eee\n    border-bottom 1px solid #eee\n    color #888\n.events-calendar-day-dots\n  @media (min-width: labelThreshold)\n    display none\n.events-calendar-day-event\n  display none\n  overflow hidden\n  margin 0 0.25rem\n  text-align left\n  text-overflow ellipsis\n  white-space nowrap\n  font-size 0.875rem\n  line-height 1.2\n  @media (min-width: labelThreshold)\n    display block\n    color #000\n  @media print\n    a\n      color #000\n      text-decoration none\n#events-calendar-footer\n  padding 0 0.75rem\n  max-width dotsMaxWidth\n  width 100%\n  @media (min-width: labelThreshold)\n    padding 0.75rem\n    .mouse &\n      display none\n#events-calendar-date\n  font-weight bold\n.events-calendar-event\n  .touch &\n    margin 'calc((%s - 1.5rem) / 2) 0' % minTouch\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventsCalendar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventsCalendar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventsCalendar.vue?vue&type=template&id=5ea5ec24&lang=pug&\"\nimport script from \"./EventsCalendar.vue?vue&type=script&lang=js&\"\nexport * from \"./EventsCalendar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EventsCalendar.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventsCalendar.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventsCalendar.vue?vue&type=style&index=0&lang=stylus&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventTypeDots.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventTypeDots.vue?vue&type=style&index=0&lang=stylus&\""],"sourceRoot":""}