(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["PersonHours"],{"00c0":function(t,e,n){},"0296":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.unregistered?n("div",{staticClass:"mt-3 ml-2",staticStyle:{"max-width":"600px"}},[t._v("You are not currently registered as a City of Sunnyvale volunteer.  We\nappreciate your volunteer efforts, but we cannot record your hours until you\nare registered.  To do so, please fill out\n"),n("a",{attrs:{href:"https://www.volgistics.com/ex/portal.dll/ap?AP=929478828",target:"_blank"}},[t._v("this form")]),t._v(".  In the “City employee status or referral” box, please enter"),n("pre",{staticClass:"ml-4 mt-3"},[t._v("Rebecca Elizondo\nDepartment of Public Safety")]),t._v("and the names of the organizations you're volunteering for (CERT, LISTOS,\nSNAP, and/or SARES).  Come back a week or so later and we should have your\nregistration on file.  If you have any difficulties with this, please\ncontact Rebecca at RElizondo@sunnyvale.ca.gov.")]):t.months?n("form",{attrs:{id:"person-hours"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[t._l(t.months,(function(e){return n("div",{staticClass:"person-hours"},[n("div",{staticClass:"person-hours-heading",domProps:{textContent:t._s("Volunteer Hours for "+e.month)}}),n("table",{staticClass:"person-hours-table"},[t._l(e.events,(function(e){return n("tr",[n("td",{staticClass:"person-hours-event",domProps:{textContent:t._s(t.eventText(e))}}),n("td",[n("input",{staticClass:"person-hours-time",attrs:{type:"number",min:"0",step:"0.5"},domProps:{value:t.eventTime(e)},on:{change:function(n){return t.setEventTime(e,n)}}})])])})),n("tr",[n("td",{staticClass:"person-hours-total-label"},[t._v("TOTAL")]),n("td",[n("div",{staticClass:"person-hours-total-time",domProps:{textContent:t._s(t.totalHours(e))}})])])],2)])})),n("div",{staticClass:"mt-3"},[n("b-btn",{attrs:{type:"submit",variant:"primary"}},[t._v("Save Hours")]),n("b-btn",{staticClass:"ml-2",on:{click:t.onCancel}},[t._v("Cancel")])],1)],2):n("div",{staticClass:"mt-3 ml-2"},[n("b-spinner",{attrs:{small:""}})],1)},a=[],s=n("a34a"),o=n.n(s);function i(t,e,n,r,a,s,o){try{var i=t[s](o),u=i.value}catch(c){return void n(c)}i.done?e(u):Promise.resolve(u).then(r,a)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var s=t.apply(e,n);function o(t){i(s,r,a,o,u,"next",t)}function u(t){i(s,r,a,o,u,"throw",t)}o(void 0)}))}}var c={props:{onLoadPerson:Function},data:function(){return{months:null,unregistered:!1}},created:function(){var t=u(o.a.mark((function t(){var e;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.get("/api/people/".concat(this.$route.params.id,"/hours"));case 2:e=t.sent.data,e?this.months=e.months:this.unregistered=!0;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{eventText:function(t){return t.placeholder?t.name:"".concat(t.date," ").concat(t.name)},eventTime:function(t){return 0===t.minutes?"":Math.floor(t.minutes/30)/2},onCancel:function(){this.$router.go(-1)},onSubmit:function(){var t=u(o.a.mark((function t(){var e;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=new FormData,this.months.forEach((function(t){t.events.forEach((function(t){e.append("e".concat(t.id),t.minutes)}))})),t.next=4,this.$axios.post("/api/people/".concat(this.$route.params.id,"/hours"),e);case 4:this.$router.push("/people/".concat(this.$route.params.id));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setEventTime:function(t,e){t.minutes=60*e.target.value},totalHours:function(t){var e=t.events.reduce((function(t,e){return t+e.minutes}),0);return Math.floor(e/30)/2}}},l=c,p=(n("5cba"),n("2877")),v=Object(p["a"])(l,r,a,!1,null,null,null);e["default"]=v.exports},"17b0":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$store.state.touch?"touch":"mouse",attrs:{id:"page-top"}},[n("div",{attrs:{id:"page-heading"}},[n("div",{attrs:{id:"page-menu-spacer"}}),n("div",{attrs:{id:"page-titlebox"}},[n("div",{attrs:{id:"page-title"},domProps:{textContent:t._s(t.title)}})]),n("div",{attrs:{id:"page-menu-spacer"}})]),n("div",{staticClass:"page-no-menu",attrs:{id:"page-content"}},[t._t("default")],2)])},a=[],s={props:{title:String}},o=s,i=n("2877"),u=Object(i["a"])(o,r,a,!1,null,null,null);e["a"]=u.exports},"48ce":function(t,e,n){},"5cba":function(t,e,n){"use strict";var r=n("48ce"),a=n.n(r);a.a},"8bfc":function(t,e,n){"use strict";var r=n("00c0"),a=n.n(r);a.a},a34a:function(t,e,n){t.exports=n("96cf")},d975:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("PublicPage",{attrs:{title:t.title}},[t.saved?n("div",{staticClass:"mt-3 ml-2"},[n("div",[t._v("Your volunteer hours have been saved.  Thank you for volunteering!")]),n("div",{staticClass:"mt-3"},[n("b-btn",{attrs:{to:"/",variant:"primary"}},[t._v("Go to Login Page")])],1)]):t.notFound?n("div",{staticClass:"mt-3 ml-2"},[n("div",[t._v("The link you used is not valid or has expired.")]),n("div",{staticClass:"mt-3"},[n("b-btn",{attrs:{to:"/",variant:"primary"}},[t._v("Go to Login Page")])],1)]):t.unregistered?n("div",{staticClass:"mt-3 ml-2",staticStyle:{"max-width":"600px"}},[t._v("You are not currently registered as a City of Sunnyvale volunteer.  We\nappreciate your volunteer efforts, but we cannot record your hours until you\nare registered.  To do so, please fill out\n"),n("a",{attrs:{href:"https://www.volgistics.com/ex/portal.dll/ap?AP=929478828",target:"_blank"}},[t._v("this form")]),t._v(".  In the “City employee status or referral” box, please enter"),n("pre",{staticClass:"ml-4 mt-3"},[t._v("Rebecca Elizondo\nDepartment of Public Safety")]),t._v("and the names of the organizations you're volunteering for (CERT, LISTOS,\nSNAP, and/or SARES).  Come back a week or so later and we should have your\nregistration on file.  If you have any difficulties with this, please\ncontact Rebecca at RElizondo@sunnyvale.ca.gov.")]):t.months?n("form",{attrs:{id:"person-hours"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[t._l(t.months,(function(e){return n("div",{staticClass:"person-hours"},[n("div",{staticClass:"person-hours-heading",domProps:{textContent:t._s("Volunteer Hours for "+e.month)}}),n("table",{staticClass:"person-hours-table"},[t._l(e.events,(function(e){return n("tr",[n("td",{staticClass:"person-hours-event",domProps:{textContent:t._s(t.eventText(e))}}),n("td",[n("input",{staticClass:"person-hours-time",attrs:{type:"number",min:"0",step:"0.5"},domProps:{value:t.eventTime(e)},on:{change:function(n){return t.setEventTime(e,n)}}})])])})),n("tr",[n("td",{staticClass:"person-hours-total-label"},[t._v("TOTAL")]),n("td",[n("div",{staticClass:"person-hours-total-time",domProps:{textContent:t._s(t.totalHours(e))}})])])],2)])})),n("div",{staticClass:"mt-3"},[n("b-btn",{attrs:{type:"submit",variant:"primary"}},[t._v("Save Hours")])],1)],2):n("div",{staticClass:"mt-3 ml-2"},[n("b-spinner",{attrs:{small:""}})],1)])},a=[],s=n("a34a"),o=n.n(s),i=n("17b0");function u(t,e,n,r,a,s,o){try{var i=t[s](o),u=i.value}catch(c){return void n(c)}i.done?e(u):Promise.resolve(u).then(r,a)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var s=t.apply(e,n);function o(t){u(s,r,a,o,i,"next",t)}function i(t){u(s,r,a,o,i,"throw",t)}o(void 0)}))}}var l={components:{PublicPage:i["a"]},data:function(){return{months:null,notFound:!1,saved:!1,title:"Volunteer Hours",unregistered:!1}},created:function(){var t=c(o.a.mark((function t(){var e;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$axios.get("/api/people/".concat(this.$route.params.id,"/hours")).catch((function(t){if(t.response&&404===t.response.status)return null;throw t}));case 2:e=t.sent,e?e.data?(this.months=e.data.months,this.title=e.data.name):this.unregistered=!0:this.notFound=!0;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{eventText:function(t){return t.placeholder?t.name:"".concat(t.date," ").concat(t.name)},eventTime:function(t){return 0===t.minutes?"":Math.floor(t.minutes/30)/2},onSubmit:function(){var t=c(o.a.mark((function t(){var e;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=new FormData,this.months.forEach((function(t){t.events.forEach((function(t){e.append("e".concat(t.id),t.minutes)}))})),t.next=4,this.$axios.post("/api/people/".concat(this.$route.params.id,"/hours"),e);case 4:this.saved=!0;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setEventTime:function(t,e){t.minutes=60*e.target.value},totalHours:function(t){var e=t.events.reduce((function(t,e){return t+e.minutes}),0);return Math.floor(e/30)/2}}},p=l,v=(n("8bfc"),n("2877")),d=Object(v["a"])(p,r,a,!1,null,null,null);e["default"]=d.exports}}]);
//# sourceMappingURL=PersonHours.33fef8b3.js.map