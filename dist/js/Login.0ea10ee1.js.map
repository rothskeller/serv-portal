{"version":3,"sources":["webpack:///./client/base/PublicPage.vue?783f","webpack:///client/base/PublicPage.vue","webpack:///./client/base/PublicPage.vue?bf24","webpack:///./client/base/PublicPage.vue","webpack:///./client/pages/Login.vue?79f6","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./client/pages/Login.vue?5c34","webpack:///client/pages/Login.vue","webpack:///./client/pages/Login.vue?63c9","webpack:///./client/pages/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","class","$store","state","touch","attrs","domProps","_s","title","staticClass","_t","staticRenderFns","props","String","component","module","exports","_v","on","$event","preventDefault","onSubmit","model","value","callback","$$v","email","expression","ref","password","_e","components","data","methods"],"mappings":"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","file":"js/Login.0ea10ee1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.$store.state.touch ? 'touch' : 'mouse',attrs:{\"id\":\"page-top\"}},[_c('div',{attrs:{\"id\":\"page-heading\"}},[_c('div',{attrs:{\"id\":\"page-menu-spacer\"}}),_c('div',{attrs:{\"id\":\"page-titlebox\"}},[_c('div',{attrs:{\"id\":\"page-title\"},domProps:{\"textContent\":_vm._s(_vm.title)}})]),_c('div',{attrs:{\"id\":\"page-menu-spacer\"}})]),_c('div',{staticClass:\"page-no-menu\",attrs:{\"id\":\"page-content\"}},[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nPublicPage is a minimal version of the page structure in MainMenu.vue, used for\npublic (nonauthenticated) pages.\n-->\n\n<template lang=\"pug\">\n#page-top(:class=\"$store.state.touch ? 'touch' : 'mouse'\")\n  #page-heading\n    #page-menu-spacer\n    #page-titlebox\n      #page-title(v-text=\"title\")\n    #page-menu-spacer\n  #page-content.page-no-menu\n    slot\n</template>\n\n<script>\nexport default {\n  props: {\n    title: String,\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PublicPage.vue?vue&type=template&id=e7dc1af8&lang=pug&\"\nimport script from \"./PublicPage.vue?vue&type=script&lang=js&\"\nexport * from \"./PublicPage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&lang=stylus&\"","module.exports = require(\"regenerator-runtime\");\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('PublicPage',{attrs:{\"title\":\"Sunnyvale SERV\"}},[_c('div',{attrs:{\"id\":\"login-top\"}},[_c('div',{attrs:{\"id\":\"login-banner\"}},[_vm._v(\"Please log in.\")]),_c('div',{attrs:{\"id\":\"login-forserv\"}},[_vm._v(\"This web site is for SERV volunteers only.\\nIf you are interested in joining one of the SERV volunteer organizations,\\nplease visit Sunnyvale’s \"),_c('a',{attrs:{\"href\":\"https://sunnyvale.ca.gov/government/safety/emergency.htm\"}},[_vm._v(\"emergency response page\")]),_vm._v(\".\")]),_c('div',{attrs:{\"id\":\"login-browserwarn\"}},[_vm._v(\"Your browser is out of date and lacks features needed by this web site.\\nThe site may not look or behave correctly.\")]),_c('form',{attrs:{\"id\":\"login-form\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[_c('b-form-group',{attrs:{\"label\":\"Email address\",\"label-for\":\"login-email\",\"label-cols-sm\":\"4\"}},[_c('b-input',{attrs:{\"id\":\"login-email\",\"autocorrect\":\"off\",\"autocapitalize\":\"none\",\"autofocus\":\"\",\"required\":\"\",\"trim\":\"\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Password\",\"label-for\":\"login-password\",\"label-cols-sm\":\"4\"}},[_c('b-input',{ref:\"password\",attrs:{\"id\":\"login-password\",\"type\":\"password\"},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('div',{attrs:{\"id\":\"login-submit-row\"}},[_c('b-button',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Log in\")])],1),(_vm.failed)?_c('div',{attrs:{\"id\":\"login-failed\"}},[_vm._v(\"Login incorrect. Please try again.\")]):_vm._e()],1),_c('div',{attrs:{\"id\":\"login-reset\"}},[_c('b-btn',{attrs:{\"to\":\"/password-reset\"}},[_vm._v(\"Reset my password\")])],1),_c('b-link',{attrs:{\"id\":\"login-policies\",\"to\":\"/policies\"}},[_vm._v(\"Site Policies / Legal Stuff\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nLogin displays the login page.\n-->\n\n<template lang=\"pug\">\nPublicPage(title=\"Sunnyvale SERV\")\n  #login-top\n    #login-banner Please log in.\n    #login-forserv\n      | This web site is for SERV volunteers only.\n      | If you are interested in joining one of the SERV volunteer organizations,\n      | please visit Sunnyvale’s <a href=\"https://sunnyvale.ca.gov/government/safety/emergency.htm\">emergency response&nbsp;page</a>.\n    #login-browserwarn\n      | Your browser is out of date and lacks features needed by this web site.\n      | The site may not look or behave correctly.\n    form#login-form(@submit.prevent=\"onSubmit\")\n      b-form-group(label=\"Email address\" label-for=\"login-email\" label-cols-sm=\"4\")\n        b-input#login-email(autocorrect=\"off\" autocapitalize=\"none\" autofocus required trim v-model=\"email\")\n      b-form-group(label=\"Password\" label-for=\"login-password\" label-cols-sm=\"4\")\n        b-input#login-password(ref=\"password\" type=\"password\" v-model=\"password\")\n      #login-submit-row\n        b-button(type=\"submit\" variant=\"primary\") Log in\n      #login-failed(v-if=\"failed\") Login incorrect. Please try again.\n    #login-reset\n      b-btn(to=\"/password-reset\") Reset my password\n    b-link#login-policies(to=\"/policies\") Site Policies / Legal Stuff\n</template>\n\n<script>\nimport PublicPage from '@/base/PublicPage'\n\nexport default {\n  components: { PublicPage },\n  data: () => ({ email: '', password: '', failed: false }),\n  methods: {\n    async onSubmit() {\n      if (!this.email || !this.password) return\n      const body = new (FormData)\n      body.append('username', this.email)\n      body.append('password', this.password)\n      try {\n        const data = (await this.$axios.post('/api/login', body)).data\n        this.$store.commit('login', data)\n        this.$router.replace(this.$route.query.redirect || '/')\n      } catch (err) {\n        console.error(err)\n        this.failed = true\n        this.password = ''\n        this.$refs.password.focus()\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"stylus\">\n#login-top\n  display flex\n  flex-direction column\n  margin 0 auto\n  padding 0 0.75rem\n  min-height calc(100vh - 3rem - 40px)\n  max-width 0.75rem + 7rem + 20rem + 0.75rem\n  // #login-top.padding-left .form-label.width #login-email.max-width #login-top.padding-right\n#login-banner\n  margin-top 1rem\n  text-align center\n  font-weight bold\n  font-size 1.5rem\n#login-forserv\n  margin-top 0.5rem\n  font-size 0.9rem\n  line-height 1.2\n#login-browserwarn\n  margin-top 0.5rem\n  padding 2px 4px\n  background-color red\n  color white\n  line-height 1.2\n  @supports (display: grid)\n    display none\n#login-form\n  margin-top 1.5rem\n#login-submit-row\n  margin 1rem 0 2rem\n  text-align center\n#login-failed\n  color red\n  text-align center\n#login-reset\n  margin-top 1rem\n  text-align center\n#login-policies\n  display flex\n  flex 1 1 auto\n  flex-direction column\n  justify-content flex-end\n  align-self center\n  margin-top 3rem\n  text-decoration none\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=e827d1f6&lang=pug&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}