{"version":3,"sources":["webpack:///./client/pages/roles/RoleEdit.vue?dc94","webpack:///client/pages/roles/RoleEdit.vue","webpack:///./client/pages/roles/RoleEdit.vue?6bcc","webpack:///./client/pages/roles/RoleEdit.vue","webpack:///./client/base/Privileges.vue?5c13","webpack:///client/base/Privileges.vue","webpack:///./client/base/Privileges.vue?5589","webpack:///./client/base/Privileges.vue","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./client/base/Privileges.vue?6f3e","webpack:///./client/pages/roles/RoleEdit.vue?9e93"],"names":["render","_vm","this","_h","$createElement","_c","_self","role","attrs","on","$event","preventDefault","onSubmit","nameError","model","value","callback","$$v","$set","expression","_v","staticClass","directives","name","rawName","modifiers","_l","g","i","domProps","_s","privs","valid","newr","onCancel","onDelete","_e","staticRenderFns","components","props","onLoadRole","Function","data","computed","watch","methods","validate","submitted","component","member","toggleMember","roster","toggleRoster","contact","toggleContact","admin","toggleAdmin","events","toggleEvents","texts","toggleTexts","emails","toggleEmails","bcc","toggleBCC","Object","prop","event","$emit","np","module","exports"],"mappings":"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","file":"js/RoleEdit.5e001978.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.role)?_c('div',{staticClass:\"mt-3 ml-2\"},[_c('b-spinner',{attrs:{\"small\":\"\"}})],1):_c('form',{attrs:{\"id\":\"role-edit\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[_c('b-form-group',{attrs:{\"label\":\"Role name\",\"label-for\":\"role-name\",\"label-cols-sm\":\"auto\",\"label-class\":\"role-edit-label\",\"state\":_vm.nameError ? false : null,\"invalid-feedback\":_vm.nameError}},[_c('b-input',{attrs:{\"id\":\"role-edit-name\",\"autofocus\":\"\",\"state\":_vm.nameError ? false : null,\"trim\":\"\"},model:{value:(_vm.role.name),callback:function ($$v) {_vm.$set(_vm.role, \"name\", $$v)},expression:\"role.name\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Flags\",\"label-cols-sm\":\"auto\",\"label-class\":\"role-edit-label pt-0\"}},[_c('div',{attrs:{\"id\":\"role-edit-flags\"}},[_c('b-checkbox',{model:{value:(_vm.role.individual),callback:function ($$v) {_vm.$set(_vm.role, \"individual\", $$v)},expression:\"role.individual\"}},[_vm._v(\"Individual (one person only)\")])],1)]),_c('div',{attrs:{\"id\":\"role-edit-privs\"}},[_c('div',{staticClass:\"role-edit-group role-edit-heading\"},[_vm._v(\"Group\")]),_c('div',{staticClass:\"role-edit-privs role-edit-heading\"},[_vm._v(\"Privileges (\"),_c('b-link',{directives:[{name:\"b-modal\",rawName:\"v-b-modal.role-edit-priv-key\",modifiers:{\"role-edit-priv-key\":true}}],attrs:{\"href\":\"#\"}},[_vm._v(\"Key\")]),_vm._v(\")\"),_c('b-modal',{attrs:{\"id\":\"role-edit-priv-key\",\"title\":\"Privileges Key\",\"ok-only\":\"\"}},[_c('div',{attrs:{\"id\":\"role-edit-priv-key-body\"}},[_c('div',{staticClass:\"mb-2\"},[_vm._v(\"M = Role conveys membership in group\")]),_c('div',[_vm._v(\"R = Role allows viewing group roster\")]),_c('div',[_vm._v(\"C = Role allows viewing contact info of group members\")]),_c('div',[_vm._v(\"A = Role allows administration of group (adding/removing members)\")]),_c('div',[_vm._v(\"E = Role allows management of events for group\")]),_c('div',[_vm._v(\"T = Role allows sending text messages to group\")])])])],1),_vm._l((_vm.privs),function(g,i){return [_c('div',{staticClass:\"role-edit-group\",domProps:{\"textContent\":_vm._s(g.name)}}),_c('Privileges',{staticClass:\"role-edit-privs\",model:{value:(_vm.privs[i]),callback:function ($$v) {_vm.$set(_vm.privs, i, $$v)},expression:\"privs[i]\"}})]})],2),_c('div',{staticClass:\"mt-3\"},[_c('b-btn',{attrs:{\"type\":\"submit\",\"variant\":\"primary\",\"disabled\":!_vm.valid},domProps:{\"textContent\":_vm._s(_vm.newr ? 'Create Role' : 'Save Role')}}),_c('b-btn',{staticClass:\"ml-2\",on:{\"click\":_vm.onCancel}},[_vm._v(\"Cancel\")]),(_vm.canDelete)?_c('b-btn',{staticClass:\"ml-5\",attrs:{\"variant\":\"danger\"},on:{\"click\":_vm.onDelete}},[_vm._v(\"Delete Role\")]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nRoleEdit displays the role viewing/editing page.\n-->\n\n<template lang=\"pug\">\ndiv.mt-3.ml-2(v-if=\"!role\")\n  b-spinner(small)\nform#role-edit(v-else @submit.prevent=\"onSubmit\")\n  b-form-group(label=\"Role name\" label-for=\"role-name\" label-cols-sm=\"auto\" label-class=\"role-edit-label\" :state=\"nameError ? false : null\" :invalid-feedback=\"nameError\")\n    b-input#role-edit-name(autofocus :state=\"nameError ? false : null\" trim v-model=\"role.name\")\n  b-form-group(label=\"Flags\" label-cols-sm=\"auto\" label-class=\"role-edit-label pt-0\")\n    #role-edit-flags\n      b-checkbox(v-model=\"role.individual\") Individual (one person only)\n  #role-edit-privs\n    .role-edit-group.role-edit-heading Group\n    .role-edit-privs.role-edit-heading\n      | Privileges (\n      b-link(href=\"#\" v-b-modal.role-edit-priv-key) Key\n      | )\n      b-modal#role-edit-priv-key(title=\"Privileges Key\" ok-only)\n        #role-edit-priv-key-body\n          div.mb-2 M = Role conveys membership in group\n          div R = Role allows viewing group roster\n          div C = Role allows viewing contact info of group members\n          div A = Role allows administration of group (adding/removing members)\n          div E = Role allows management of events for group\n          div T = Role allows sending text messages to group\n    template(v-for=\"(g, i) in privs\")\n      .role-edit-group(v-text=\"g.name\")\n      Privileges.role-edit-privs(v-model=\"privs[i]\")\n  div.mt-3\n    b-btn(type=\"submit\" variant=\"primary\" :disabled=\"!valid\" v-text=\"newr ? 'Create Role' : 'Save Role'\")\n    b-btn.ml-2(@click=\"onCancel\") Cancel\n    b-btn.ml-5(v-if=\"canDelete\" variant=\"danger\" @click=\"onDelete\") Delete Role\n</template>\n\n<script>\nimport Privileges from '@/base/Privileges'\n\nexport default {\n  components: { Privileges },\n  props: {\n    onLoadRole: Function,\n  },\n  data: () => ({\n    role: null,\n    privs: null,\n    canDelete: false,\n    submitted: false,\n    nameError: null,\n    duplicateName: null,\n  }),\n  computed: {\n    newr() { return this.$route.params.id === 'NEW' },\n    valid() { return !this.nameError },\n  },\n  watch: {\n    'role.name': 'validate',\n  },\n  async created() {\n    const data = (await this.$axios.get(`/api/roles/${this.$route.params.id}`)).data\n    this.role = data.role\n    this.privs = data.privs\n    this.canDelete = data.canDelete\n    this.onLoadRole(this.role)\n  },\n  methods: {\n    onCancel() { this.$router.go(-1) },\n    async onDelete() {\n      const resp = await this.$bvModal.msgBoxConfirm(\n        'Are you sure you want to delete this role?  All associated data, including privileges and memberships, will be permanently lost.', {\n        title: 'Delete Role', headerBgVariant: 'danger', headerTextVariant: 'white',\n        okTitle: 'Delete', okVariant: 'danger', cancelTitle: 'Keep',\n      }).catch(err => { })\n      if (!resp) return\n      const body = new FormData\n      body.append('delete', 'true')\n      await this.$axios.post(`/api/roles/${this.$route.params.id}`, body)\n      this.$router.push('/roles')\n    },\n    async onSubmit() {\n      this.submitted = true\n      this.validate()\n      if (!this.valid) return\n      const body = new FormData\n      body.append('name', this.role.name)\n      body.append('individual', this.role.individual)\n      this.privs.forEach(g => {\n        if (g.member) body.append(`member:${g.id}`, true)\n        if (g.roster) body.append(`roster:${g.id}`, true)\n        if (g.contact) body.append(`contact:${g.id}`, true)\n        if (g.admin) body.append(`admin:${g.id}`, true)\n        if (g.events) body.append(`events:${g.id}`, true)\n        if (g.texts) body.append(`texts:${g.id}`, true)\n        if (g.emails) body.append(`emails:${g.id}`, true)\n        if (g.bcc) body.append(`bcc:${g.id}`, true)\n      })\n      const resp = (await this.$axios.post(`/api/roles/${this.$route.params.id}`, body)).data\n      if (resp && resp.duplicateName)\n        this.duplicateName = this.role.name\n      else\n        this.$router.push('/roles')\n    },\n    validate() {\n      if (!this.submitted) return\n      if (!this.role.name)\n        this.nameError = 'The role name is required.'\n      else if (this.duplicateName && this.duplicateName === this.role.name)\n        this.nameError = 'Another role has this name.'\n      else\n        this.nameError = null\n    },\n  },\n}\n</script>\n\n<style lang=\"stylus\">\n#role-edit\n  padding 1.5rem 0.75rem\n.role-edit-label\n  width 7rem\n#role-edit-name, #role-edit-flags\n  min-width 14rem\n  max-width 20rem\n#role-edit-privs\n  display grid\n  grid auto / 1fr\n  @media (min-width: 450px)\n    justify-content start\n    grid auto / auto min-content\n.role-edit-heading\n  display none\n  @media (min-width: 450px)\n    display block\n    font-weight bold\n.role-edit-group\n  overflow hidden\n  margin-top 0.75rem\n  min-width 0\n  text-overflow ellipsis\n  white-space nowrap\n  @media (min-width: 450px)\n    align-self center\n    margin-top 0\n    margin-right 0.75rem\n#role-edit-priv-key-body\n  line-height 1.2\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoleEdit.vue?vue&type=template&id=3837adf8&lang=pug&\"\nimport script from \"./RoleEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./RoleEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RoleEdit.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"privileges\"},[_c('b-btn',{staticClass:\"mr-2\",attrs:{\"variant\":_vm.privs.member ? 'primary' : 'outline-primary',\"size\":\"sm\"},on:{\"click\":_vm.toggleMember}},[_vm._v(\"M\")]),_c('b-btn-group',{attrs:{\"size\":\"sm\"}},[_c('b-btn',{attrs:{\"variant\":_vm.privs.roster ? 'primary' : 'outline-primary',\"size\":\"sm\"},on:{\"click\":_vm.toggleRoster}},[_vm._v(\"R\")]),_c('b-btn',{attrs:{\"variant\":_vm.privs.contact ? 'primary' : 'outline-primary',\"size\":\"sm\"},on:{\"click\":_vm.toggleContact}},[_vm._v(\"C\")]),_c('b-btn',{attrs:{\"variant\":_vm.privs.admin ? 'primary' : 'outline-primary',\"size\":\"sm\"},on:{\"click\":_vm.toggleAdmin}},[_vm._v(\"A\")]),_c('b-btn',{attrs:{\"variant\":_vm.privs.events ? 'primary' : 'outline-primary',\"size\":\"sm\"},on:{\"click\":_vm.toggleEvents}},[_vm._v(\"E\")]),_c('b-btn',{attrs:{\"variant\":_vm.privs.texts ? 'primary' : 'outline-primary',\"size\":\"sm\"},on:{\"click\":_vm.toggleTexts}},[_vm._v(\"T\")]),_c('b-btn',{attrs:{\"variant\":_vm.privs.emails ? 'primary' : 'outline-primary',\"size\":\"sm\"},on:{\"click\":_vm.toggleEmails}},[_vm._v(\"@\")]),_c('b-btn',{attrs:{\"variant\":_vm.privs.bcc ? 'primary' : 'outline-primary',\"size\":\"sm\"},on:{\"click\":_vm.toggleBCC}},[_vm._v(\"@\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nPrivileges displays the privilege choices for a role acting on a group.\n-->\n\n<template lang=\"pug\">\n.privileges\n  b-btn.mr-2(\n    :variant=\"privs.member ? 'primary' : 'outline-primary'\"\n    size=\"sm\"\n    @click=\"toggleMember\"\n  ) M\n  b-btn-group(size=\"sm\")\n    b-btn(\n      :variant=\"privs.roster ? 'primary' : 'outline-primary'\"\n      size=\"sm\"\n      @click=\"toggleRoster\"\n    ) R\n    b-btn(\n      :variant=\"privs.contact ? 'primary' : 'outline-primary'\"\n      size=\"sm\"\n      @click=\"toggleContact\"\n    ) C\n    b-btn(\n      :variant=\"privs.admin ? 'primary' : 'outline-primary'\"\n      size=\"sm\"\n      @click=\"toggleAdmin\"\n    ) A\n    b-btn(\n      :variant=\"privs.events ? 'primary' : 'outline-primary'\"\n      size=\"sm\"\n      @click=\"toggleEvents\"\n    ) E\n    b-btn(\n      :variant=\"privs.texts ? 'primary' : 'outline-primary'\"\n      size=\"sm\"\n      @click=\"toggleTexts\"\n    ) T\n    b-btn(\n      :variant=\"privs.emails ? 'primary' : 'outline-primary'\"\n      size=\"sm\"\n      @click=\"toggleEmails\"\n    ) @\n    b-btn(\n      :variant=\"privs.bcc ? 'primary' : 'outline-primary'\"\n      size=\"sm\"\n      @click=\"toggleBCC\"\n    ) @\n</template>\n\n<script>\nexport default {\n  props: {\n    privs: Object,\n  },\n  model: {\n    prop: 'privs',\n    event: 'change',\n  },\n  methods: {\n    toggleMember() {\n      this.$emit('change', { ...this.privs, member: !this.privs.member })\n    },\n    toggleRoster() {\n      const np = { ...this.privs, roster: !this.privs.roster }\n      if (!np.roster)\n        np.contact = np.admin = np.events = np.texts = false\n      this.$emit('change', np)\n    },\n    toggleContact() {\n      const np = { ...this.privs, contact: !this.privs.contact }\n      if (np.contact)\n        np.roster = true\n      else\n        np.texts = false\n      this.$emit('change', np)\n    },\n    toggleAdmin() {\n      const np = { ...this.privs, admin: !this.privs.admin }\n      if (np.admin)\n        np.roster = true\n      this.$emit('change', np)\n    },\n    toggleEvents() {\n      const np = { ...this.privs, events: !this.privs.events }\n      if (np.events)\n        np.roster = true\n      this.$emit('change', np)\n    },\n    toggleTexts() {\n      const np = { ...this.privs, texts: !this.privs.texts }\n      if (np.texts)\n        np.roster = np.contact = true\n      this.$emit('change', np)\n    },\n    toggleEmails() {\n      this.$emit('change', { ...this.privs, emails: !this.privs.emails })\n    },\n    toggleBCC() {\n      this.$emit('change', { ...this.privs, bcc: !this.privs.bcc })\n    },\n  },\n}\n</script>\n\n<style lang=\"stylus\">\n.privileges\n  margin 0.125rem 0\n  white-space nowrap\n  .btn-outline-primary:hover\n    background-color #fff\n    color #007bff\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Privileges.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Privileges.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Privileges.vue?vue&type=template&id=43091e38&lang=pug&\"\nimport script from \"./Privileges.vue?vue&type=script&lang=js&\"\nexport * from \"./Privileges.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Privileges.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = require(\"regenerator-runtime\");\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Privileges.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Privileges.vue?vue&type=style&index=0&lang=stylus&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleEdit.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleEdit.vue?vue&type=style&index=0&lang=stylus&\""],"sourceRoot":""}