{"version":3,"sources":["webpack:///./client/pages/event/EventAttendancePerson.vue?b72f","webpack:///./client/pages/event/EventAttendance.vue?90f8","webpack:///./client/pages/event/EventAttendancePerson.vue?b4c7","webpack:///client/pages/event/EventAttendancePerson.vue","webpack:///./client/pages/event/EventAttendancePerson.vue?206f","webpack:///./client/pages/event/EventAttendancePerson.vue","webpack:///client/pages/event/EventAttendance.vue","webpack:///./client/pages/event/EventAttendance.vue?414b","webpack:///./client/pages/event/EventAttendance.vue","webpack:///./client/pages/event/EventAttendance.vue?29ed"],"names":["render","_vm","this","_h","$createElement","_c","_self","event","attrs","on","$event","preventDefault","onSave","staticClass","_v","model","value","callback","$$v","setType","expression","setHours","_l","p","key","id","onTogglePerson","onCancel","staticRenderFns","$emit","person","class","classes","domProps","_s","label","sortName","props","Object","computed","attended","minutes","component","components","onLoadEvent","Function","data","methods","type"],"mappings":"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","file":"js/EventAttendance.0a80ab59.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventAttendancePerson.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventAttendancePerson.vue?vue&type=style&index=0&lang=stylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.event)?_c('div',{staticClass:\"mt-3 ml-2\"},[_c('b-spinner',{attrs:{\"small\":\"\"}})],1):_c('form',{attrs:{\"id\":\"event-attendance\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.onSave($event)}}},[_c('b-form',{attrs:{\"id\":\"event-attend-settings\",\"inline\":\"\"}},[_c('label',{staticClass:\"mr-2\",attrs:{\"for\":\"event-attend-type\"}},[_vm._v(\"Set attendance for:\")]),_c('b-form-select',{staticClass:\"mr-4\",attrs:{\"id\":\"event-attend-type\"},model:{value:(_vm.setType),callback:function ($$v) {_vm.setType=$$v},expression:\"setType\"}},[_c('option',{attrs:{\"value\":\"Volunteer\"}},[_vm._v(\"Volunteer\")]),_c('option',{attrs:{\"value\":\"Student\"}},[_vm._v(\"Student\")]),_c('option',{attrs:{\"value\":\"Audit\"}},[_vm._v(\"Auditor\")])]),_c('label',{staticClass:\"mr-2\",attrs:{\"for\":\"event-attend-hours\"}},[_vm._v(\"Hours:\")]),_c('b-form-input',{attrs:{\"id\":\"event-attend-hours\",\"type\":\"number\",\"min\":\"0\",\"max\":\"24\",\"step\":\"0.5\"},model:{value:(_vm.setHours),callback:function ($$v) {_vm.setHours=$$v},expression:\"setHours\"}})],1),_c('div',{attrs:{\"id\":\"event-attend-group\"}},_vm._l((_vm.people),function(p){return _c('EventAttendancePerson',{key:p.id,attrs:{\"person\":p},on:{\"toggle\":_vm.onTogglePerson}})}),1),_c('div',{attrs:{\"id\":\"event-attend-submit\"}},[_c('b-btn',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Save Attendance\")]),_c('b-btn',{staticClass:\"ml-2\",on:{\"click\":_vm.onCancel}},[_vm._v(\"Cancel\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"event-attend-person\",on:{\"click\":function($event){return _vm.$emit('toggle', _vm.person)}}},[_c('span',{class:_vm.classes,domProps:{\"textContent\":_vm._s(_vm.label)}}),_c('span',{domProps:{\"textContent\":_vm._s(_vm.person.sortName)}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nEventAttendancePerson displays the entry for a single person on the attendance\npage for an event.\n-->\n\n<template lang=\"pug\">\n.event-attend-person(@click=\"$emit('toggle', person)\")\n  span(:class=\"classes\" v-text=\"label\")\n  span(v-text=\"person.sortName\")\n</template>\n\n<script>\nexport default {\n  props: {\n    person: Object,\n  },\n  computed: {\n    classes() {\n      if (!this.person.attended) return 'event-attend-person-absent'\n      else return 'event-attend-person-' + this.person.attended.type.toLowerCase()\n    },\n    label() {\n      if (!this.person.attended) return ''\n      if (!this.person.attended.minutes)\n        return this.person.attended.type.substr(0, 1)\n      let label = Math.floor(this.person.attended.minutes / 60)\n      if (this.person.attended.minutes % 60 !== 0)\n        label += 'Â½'\n      return label\n    },\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n.event-attend-person\n  margin-right 0.75rem\n.event-attend-person-absent\n  display inline-block\n  margin-right 0.25rem\n  width 3rem\n  border-radius 4px\n  color white\n  text-align center\n  line-height 1.2\n.event-attend-person-volunteer\n  @extend .event-attend-person-absent\n  background-color #4363d8\n.event-attend-person-student\n  @extend .event-attend-person-absent\n  background-color #3cb44b\n.event-attend-person-audit\n  @extend .event-attend-person-absent\n  background-color #a9a9a9\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventAttendancePerson.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventAttendancePerson.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventAttendancePerson.vue?vue&type=template&id=68a37bcb&lang=pug&\"\nimport script from \"./EventAttendancePerson.vue?vue&type=script&lang=js&\"\nexport * from \"./EventAttendancePerson.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EventAttendancePerson.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\nEventAttendance shows and allows changes to the attendance for an event.\n-->\n\n<template lang=\"pug\">\ndiv.mt-3.ml-2(v-if=\"!event\")\n  b-spinner(small)\nform#event-attendance(v-else @submit.prevent=\"onSave\")\n  b-form#event-attend-settings(inline)\n    label.mr-2(for=\"event-attend-type\") Set attendance for:\n    b-form-select#event-attend-type.mr-4(v-model=\"setType\")\n      option(value=\"Volunteer\") Volunteer\n      option(value=\"Student\") Student\n      option(value=\"Audit\") Auditor\n    label.mr-2(for=\"event-attend-hours\") Hours:\n    b-form-input#event-attend-hours(v-model=\"setHours\" type=\"number\" min=\"0\" max=\"24\" step=\"0.5\")\n  #event-attend-group\n    EventAttendancePerson(v-for=\"p in people\" :key=\"p.id\" :person=\"p\" @toggle=\"onTogglePerson\")\n  #event-attend-submit\n    b-btn(type=\"submit\" variant=\"primary\") Save Attendance\n    b-btn.ml-2(@click=\"onCancel\") Cancel\n</template>\n\n<script>\nimport moment from 'moment-mini'\nimport EventAttendancePerson from './EventAttendancePerson'\n\nexport default {\n  components: { EventAttendancePerson },\n  props: {\n    onLoadEvent: Function,\n  },\n  data: () => ({\n    event: null,\n    people: null,\n    setType: 'Volunteer',\n    setHours: 1.0,\n  }),\n  async created() {\n    const data = (await this.$axios.get(`/api/events/${this.$route.params.id}?attendance=1`)).data\n    this.event = data.event\n    this.people = data.people\n    this.setHours = moment(this.event.end, 'HH:mm').diff(moment(this.event.start, 'HH:mm'), 'hours', true)\n    this.onLoadEvent(this.event)\n  },\n  methods: {\n    onCancel() { this.$router.go(-1) },\n    async onSave() {\n      const body = new FormData\n      this.people.forEach(p => {\n        if (p.attended) {\n          body.append('person', p.id)\n          body.append('type', p.attended.type)\n          body.append('minutes', p.attended.minutes)\n        }\n      })\n      await this.$axios.post(`/api/events/${this.$route.params.id}/attendance`, body)\n      this.$router.push(`/events/${this.$route.params.id}`)\n    },\n    onTogglePerson(person) {\n      if (person.attended && person.attended.type === this.setType) person.attended = false\n      else person.attended = { type: this.setType, minutes: 60 * this.setHours }\n    },\n  },\n}\n</script>\n\n<style lang=\"stylus\">\n#event-attendance\n  padding 1.5rem 0.75rem\n  @media (min-width: 576px)\n    display grid\n    height 100%\n    grid max-content 1fr max-content / 100%\n#event-attend-settings\n  margin-bottom 0.75rem\n  @media print\n    display none\n#event-attend-hours\n  max-width 5rem\n@media (min-width: 576px)\n  #event-attend-group\n    display flex\n    flex-direction column\n    flex-wrap wrap\n    align-content flex-start\n    min-height 0\n    .custom-checkbox\n      margin-right 1.5rem\n#event-attend-submit\n  margin-top 0.75rem\n  @media print\n    display none\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventAttendance.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventAttendance.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventAttendance.vue?vue&type=template&id=7ff9f78f&lang=pug&\"\nimport script from \"./EventAttendance.vue?vue&type=script&lang=js&\"\nexport * from \"./EventAttendance.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EventAttendance.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventAttendance.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventAttendance.vue?vue&type=style&index=0&lang=stylus&\""],"sourceRoot":""}