{"version":3,"sources":["webpack:///./client/pages/texts/TextsView.vue?5754","webpack:///./client/pages/texts/TextsViewDelivery.vue?e081","webpack:///client/pages/texts/TextsViewDelivery.vue","webpack:///./client/pages/texts/TextsViewDelivery.vue?d9cd","webpack:///./client/pages/texts/TextsViewDelivery.vue","webpack:///client/pages/texts/TextsView.vue","webpack:///./client/pages/texts/TextsView.vue?cca2","webpack:///./client/pages/texts/TextsView.vue","webpack:///./client/pages/texts/TextsViewDelivery.vue?76e0","webpack:///./client/pages/texts/TextsView.vue?30ab"],"names":["render","_vm","this","_h","$createElement","_c","_self","message","attrs","staticClass","_v","domProps","_s","timestamp","sender","_l","g","d","key","id","staticRenderFns","class","classes","delivery","recipient","number","formatStatus","formatTimestamp","responses","r","substr","response","_e","props","Object","computed","status","component","components","data","created","load","methods"],"mappings":"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","file":"js/TextsView.d21bdf46.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.message)?_c('div',{staticClass:\"mt-3 ml-2\"},[_c('b-spinner',{attrs:{\"small\":\"\"}})],1):_c('div',{attrs:{\"id\":\"texts-view\"}},[_c('div',{attrs:{\"id\":\"texts-view-meta\"}},[_c('div',{staticClass:\"texts-view-meta-label\"},[_vm._v(\"Message sent\")]),_c('div',{staticClass:\"texts-view-meta\",domProps:{\"textContent\":_vm._s(_vm.message.timestamp)}}),_c('div',{staticClass:\"texts-view-meta-label\"},[_vm._v(\"Sent by\")]),_c('div',{staticClass:\"texts-view-meta\",domProps:{\"textContent\":_vm._s(_vm.message.sender)}}),_c('div',{staticClass:\"texts-view-meta-label\"},[_vm._v(\"Sent to\")]),_c('div',{staticClass:\"texts-view-meta\"},_vm._l((_vm.message.groups),function(g){return _c('div',{domProps:{\"textContent\":_vm._s(g)}})}),0),_c('div',{staticClass:\"texts-view-meta-label\"},[_vm._v(\"Message text\")]),_c('div',{staticClass:\"texts-view-meta\",domProps:{\"textContent\":_vm._s(_vm.message.message)}})]),_c('div',{attrs:{\"id\":\"texts-view-deliveries\"}},_vm._l((_vm.message.deliveries),function(d){return _c('TextsViewDelivery',{key:d.id,attrs:{\"delivery\":d}})}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"texts-view-delivery\",class:_vm.classes},[_c('div',{staticClass:\"texts-view-delivery-meta\"},[_c('div',{staticClass:\"texts-view-delivery-name-num\"},[_c('div',{staticClass:\"texts-view-delivery-name\",domProps:{\"textContent\":_vm._s(_vm.delivery.recipient)}}),_c('div',{staticClass:\"texts-view-delivery-num\",domProps:{\"textContent\":_vm._s(_vm.delivery.number)}})]),_c('div',{staticClass:\"texts-view-delivery-status-time\"},[_c('div',{staticClass:\"texts-view-delivery-status\",class:_vm.classes,domProps:{\"textContent\":_vm._s(_vm.formatStatus)}}),_c('div',{staticClass:\"texts-view-delivery-time\",domProps:{\"textContent\":_vm._s(_vm.formatTimestamp)}})])]),(_vm.delivery.responses.length)?_c('div',{staticClass:\"texts-view-delivery-responses\"},_vm._l((_vm.delivery.responses),function(r){return _c('div',{staticClass:\"texts-view-delivery-response\"},[_c('span',{staticClass:\"texts-view-delivery-response-time\",domProps:{\"textContent\":_vm._s(r.timestamp.substr(11, 8))}}),_c('span',{domProps:{\"textContent\":_vm._s(r.response)}})])}),0):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nTextsViewDelivery displays the delivery record for one recipient of an outgoing\nmessage.\n-->\n\n<template lang=\"pug\">\n.texts-view-delivery(:class=\"classes\")\n  .texts-view-delivery-meta\n    .texts-view-delivery-name-num\n      .texts-view-delivery-name(v-text=\"delivery.recipient\")\n      .texts-view-delivery-num(v-text=\"delivery.number\")\n    .texts-view-delivery-status-time\n      .texts-view-delivery-status(:class=\"classes\" v-text=\"formatStatus\")\n      .texts-view-delivery-time(v-text=\"formatTimestamp\")\n  .texts-view-delivery-responses(v-if=\"delivery.responses.length\")\n    .texts-view-delivery-response(v-for=\"r in delivery.responses\")\n      span.texts-view-delivery-response-time(v-text=\"r.timestamp.substr(11, 8)\")\n      span(v-text=\"r.response\")\n</template>\n\n<script>\nexport default {\n  props: {\n    delivery: Object,\n  },\n  computed: {\n    classes() {\n      switch (this.delivery.status) {\n        case 'queued': return 'texts-view-delivery-pending'\n        case 'sent': return 'texts-view-delivery-sent'\n        case 'sending': return 'texts-view-delivery-pending'\n        case 'delivered': return 'texts-view-delivery-delivered'\n        case 'undelivered': return 'texts-view-delivery-failed'\n        case 'failed': return 'texts-view-delivery-failed'\n        case 'No Cell Phone': return 'texts-view-delivery-failed'\n        default: return 'texts-view-delivery-pending'\n      }\n    },\n    formatStatus() {\n      switch (this.delivery.status) {\n        case 'queued': return 'Queued'\n        case 'sending': return 'Sending'\n        case 'sent': return 'Sent'\n        case 'delivered': return 'Delivered'\n        case 'undelivered': return 'Not Delivered'\n        case 'failed': return 'Failed'\n        case 'No Cell Phone': return 'No Cell Phone'\n        default: return 'Pending'\n      }\n    },\n    formatTimestamp() { return this.delivery.status ? `as of ${this.delivery.timestamp.substr(11, 8)}` : '' },\n  },\n}\n</script>\n\n<style lang=\"stylus\">\n.texts-view-delivery\n  margin-top 0.5rem\n  padding 0.25rem\n  max-width 400px\n  border 2px solid #ccc\n  border-radius 8px\n  @media (min-width: 752px)\n    margin-right 0.5rem\n    min-width 300px\n.texts-view-delivery-meta\n  display flex\n  justify-content space-between\n  align-items flex-start\n  line-height 1.2\n.texts-view-delivery-name-num\n  flex 1 1 0\n  min-width 1px\n.texts-view-delivery-name\n  color black\n  font-weight bold\n.texts-view-delivery-num\n  color #888\n  font-size 0.75rem\n.texts-view-delivery-status-time\n  flex 1 1 0\n  min-width 1px\n  text-align right\n.texts-view-delivery-status\n  font-weight bold\n.texts-view-delivery-time\n  color #888\n  font-size 0.75rem\n.texts-view-delivery-pending\n  border-color #888\n  color #888\n.texts-view-delivery-failed\n  border-color #e6194b\n  color #e6194b\n.texts-view-delivery-delivered\n  border-color #3cb44b\n  color #3cb44b\n.texts-view-delivery-sent\n  border-color #9a6324\n  color #9a6324\n.texts-view-delivery-responses\n  margin-top 0.25rem\n  color black\n.texts-view-delivery-response\n  padding-left 2rem\n  text-indent -2rem\n.texts-view-delivery-response-time\n  color #888\n  &::before\n    content '['\n  &::after\n    content '] '\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextsViewDelivery.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextsViewDelivery.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextsViewDelivery.vue?vue&type=template&id=3990deca&lang=pug&\"\nimport script from \"./TextsViewDelivery.vue?vue&type=script&lang=js&\"\nexport * from \"./TextsViewDelivery.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TextsViewDelivery.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<!--\nTextsView displays the status of an outgoing text message, including its\ndeliveries and replies.\n-->\n\n<template lang=\"pug\">\ndiv.mt-3.ml-2(v-if=\"!message\")\n  b-spinner(small)\n#texts-view(v-else)\n  #texts-view-meta\n    .texts-view-meta-label Message sent\n    .texts-view-meta(v-text=\"message.timestamp\")\n    .texts-view-meta-label Sent by\n    .texts-view-meta(v-text=\"message.sender\")\n    .texts-view-meta-label Sent to\n    .texts-view-meta\n      div(v-for=\"g in message.groups\" v-text=\"g\")\n    .texts-view-meta-label Message text\n    .texts-view-meta(v-text=\"message.message\")\n  #texts-view-deliveries\n    TextsViewDelivery(v-for=\"d in message.deliveries\" :key=\"d.id\" :delivery=\"d\")\n</template>\n\n<script>\nimport moment from 'moment-mini'\nimport TextsViewDelivery from './TextsViewDelivery'\n\nexport default {\n  components: { TextsViewDelivery },\n  data: () => ({ message: null }),\n  created() {\n    this.load()\n  },\n  methods: {\n    async load() {\n      this.message = (await this.$axios.get(`/api/sms/${this.$route.params.id}`)).data\n      this.message.deliveries.sort((a, b) => (a.recipient < b.recipient ? -1 : a.recipient > b.recipient ? +1 : 0))\n      window.setTimeout(this.load, 5000)\n    },\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n#texts-view\n  margin 0.75rem\n  @media (min-width: 752px)\n    display flex\n    flex-direction column\n    overflow auto\n    height calc(100vh - 4.75rem - 41px)\n    // 40px title bar\n    // 3.25rem + 1px tab bar\n    // 1.5rem tab margin\n#texts-view-meta\n  display flex\n  flex none\n  flex-wrap wrap\n  line-height 1.2\n.texts-view-meta-label\n  width 8rem\n.texts-view-meta\n  width calc(100vw - 9.5rem)\n  @media (min-width: 576px)\n    width calc(100vw - 16.5rem)\n#texts-view-deliveries\n  margin-top 1rem\n  @media (min-width: 752px)\n    display flex\n    flex 1 1 0\n    flex-direction column\n    flex-wrap wrap\n    align-content flex-start\n    min-height 1rem\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextsView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextsView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TextsView.vue?vue&type=template&id=66bbcdea&lang=pug&\"\nimport script from \"./TextsView.vue?vue&type=script&lang=js&\"\nexport * from \"./TextsView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TextsView.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextsViewDelivery.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextsViewDelivery.vue?vue&type=style&index=0&lang=stylus&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextsView.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextsView.vue?vue&type=style&index=0&lang=stylus&\""],"sourceRoot":""}