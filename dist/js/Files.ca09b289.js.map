{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./client/pages/Files.vue?d92e","webpack:///client/pages/Files.vue","webpack:///./client/pages/Files.vue?0108","webpack:///./client/pages/Files.vue","webpack:///./client/pages/Files.vue?eb26"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","folder","attrs","on","onDrop","onDragOver","staticClass","parent","id","_v","_s","name","_e","_l","child","key","$event","onHoverFolder","onEditFolder","canEdit","hoverFolder","doc","onHoverDocument","onEditDocument","hoverDocument","endsWith","$route","params","onAddFolder","onAddDocument","editFolder","onEditFolderShown","onEditFolderOK","scopedSlots","_u","fn","ref","ok","cancel","hide","onDeleteFolder","preventDefault","doEditFolder","editFolderNameError","model","value","callback","$$v","editFolderName","expression","allowedGroups","editFolderGroup","allowedParents","editFolderParent","editDocument","onEditDocumentShown","onEditDocumentOK","onDeleteDocument","doEditDocument","editDocumentNameError","editDocumentName","editDocumentFilesError","editDocumentFiles","editDocumentFolder","staticRenderFns","extension","path","dot","substr","data","computed","filter","p","ignoreAbove","indent","created","loadFolder","watch","methods","children","find","body","append","$bvModal","show","group","$refs","focus","component"],"mappings":"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","file":"js/Files.ca09b289.js","sourcesContent":["module.exports = require(\"regenerator-runtime\");\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.folder)?_c('div',[_c('b-spinner',{attrs:{\"small\":\"\"}})],1):_c('div',{attrs:{\"id\":\"files\"},on:{\"drop\":_vm.onDrop,\"dragover\":_vm.onDragOver}},[(_vm.folder.id)?_c('div',{staticClass:\"files-line\"},[_c('div',{staticClass:\"files-icon\"},[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z\"}})])]),_c('b-link',{staticClass:\"files-name\",attrs:{\"to\":(\"/files/\" + (_vm.folder.parent ? _vm.folder.parent.id : 0))}},[_vm._v(_vm._s(_vm.folder.parent ? _vm.folder.parent.name : 'Files'))])],1):_vm._e(),_vm._l((_vm.folder.children),function(child){return _c('div',{key:(\"f\" + (child.id)),staticClass:\"files-line\",on:{\"mouseover\":function($event){return _vm.onHoverFolder(child.id)},\"mouseout\":function($event){return _vm.onHoverFolder(0)}}},[_c('div',{staticClass:\"files-icon\",on:{\"click\":function($event){return _vm.onEditFolder(child)}}},[(_vm.folder.canEdit && _vm.hoverFolder === child.id)?_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 576 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z\"}})]):_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z\"}})])]),_c('b-link',{staticClass:\"files-name\",attrs:{\"to\":(\"/files/\" + (child.id))}},[_vm._v(_vm._s(child.name))])],1)}),_vm._l((_vm.folder.documents),function(doc){return _c('div',{key:(\"d\" + (doc.id)),staticClass:\"files-line\",on:{\"mouseover\":function($event){return _vm.onHoverDocument(doc.id)},\"mouseout\":function($event){return _vm.onHoverDocument(0)}}},[_c('div',{staticClass:\"files-icon\",on:{\"click\":function($event){return _vm.onEditDocument(doc)}}},[(_vm.folder.canEdit && _vm.hoverDocument === doc.id)?_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 576 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z\"}})]):(doc.name.endsWith('.docx') || doc.name.endsWith('.doc'))?_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 384 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm220.1-208c-5.7 0-10.6 4-11.7 9.5-20.6 97.7-20.4 95.4-21 103.5-.2-1.2-.4-2.6-.7-4.3-.8-5.1.3.2-23.6-99.5-1.3-5.4-6.1-9.2-11.7-9.2h-13.3c-5.5 0-10.3 3.8-11.7 9.1-24.4 99-24 96.2-24.8 103.7-.1-1.1-.2-2.5-.5-4.2-.7-5.2-14.1-73.3-19.1-99-1.1-5.6-6-9.7-11.8-9.7h-16.8c-7.8 0-13.5 7.3-11.7 14.8 8 32.6 26.7 109.5 33.2 136 1.3 5.4 6.1 9.1 11.7 9.1h25.2c5.5 0 10.3-3.7 11.6-9.1l17.9-71.4c1.5-6.2 2.5-12 3-17.3l2.9 17.3c.1.4 12.6 50.5 17.9 71.4 1.3 5.3 6.1 9.1 11.6 9.1h24.7c5.5 0 10.3-3.7 11.6-9.1 20.8-81.9 30.2-119 34.5-136 1.9-7.6-3.8-14.9-11.6-14.9h-15.8z\"}})]):(doc.name.endsWith('.pdf'))?_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 384 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm250.2-143.7c-12.2-12-47-8.7-64.4-6.5-17.2-10.5-28.7-25-36.8-46.3 3.9-16.1 10.1-40.6 5.4-56-4.2-26.2-37.8-23.6-42.6-5.9-4.4 16.1-.4 38.5 7 67.1-10 23.9-24.9 56-35.4 74.4-20 10.3-47 26.2-51 46.2-3.3 15.8 26 55.2 76.1-31.2 22.4-7.4 46.8-16.5 68.4-20.1 18.9 10.2 41 17 55.8 17 25.5 0 28-28.2 17.5-38.7zm-198.1 77.8c5.1-13.7 24.5-29.5 30.4-35-19 30.3-30.4 35.7-30.4 35zm81.6-190.6c7.4 0 6.7 32.1 1.8 40.8-4.4-13.9-4.3-40.8-1.8-40.8zm-24.4 136.6c9.7-16.9 18-37 24.7-54.7 8.3 15.1 18.9 27.2 30.1 35.5-20.8 4.3-38.9 13.1-54.8 19.2zm131.6-5s-5 6-37.3-7.8c35.1-2.6 40.9 5.4 37.3 7.8z\"}})]):(doc.name.endsWith('.ppt') || doc.name.endsWith('.pptx'))?_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 384 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm72-60V236c0-6.6 5.4-12 12-12h69.2c36.7 0 62.8 27 62.8 66.3 0 74.3-68.7 66.5-95.5 66.5V404c0 6.6-5.4 12-12 12H132c-6.6 0-12-5.4-12-12zm48.5-87.4h23c7.9 0 13.9-2.4 18.1-7.2 8.5-9.8 8.4-28.5.1-37.8-4.1-4.6-9.9-7-17.4-7h-23.9v52z\"}})]):(doc.name.endsWith('.xls') || doc.name.endsWith('.xlsx'))?_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 384 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm212-240h-28.8c-4.4 0-8.4 2.4-10.5 6.3-18 33.1-22.2 42.4-28.6 57.7-13.9-29.1-6.9-17.3-28.6-57.7-2.1-3.9-6.2-6.3-10.6-6.3H124c-9.3 0-15 10-10.4 18l46.3 78-46.3 78c-4.7 8 1.1 18 10.4 18h28.9c4.4 0 8.4-2.4 10.5-6.3 21.7-40 23-45 28.6-57.7 14.9 30.2 5.9 15.9 28.6 57.7 2.1 3.9 6.2 6.3 10.6 6.3H260c9.3 0 15-10 10.4-18L224 320c.7-1.1 30.3-50.5 46.3-78 4.7-8-1.1-18-10.3-18z\"}})]):(doc.name.endsWith('.jpg') || doc.name.endsWith('.jpeg'))?_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 384 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z\"}})]):_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 384 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z\"}})])]),(doc.name.endsWith('.pdf'))?_c('b-link',{staticClass:\"files-name\",attrs:{\"href\":(\"/api/folders/\" + (_vm.$route.params.id) + \"/\" + (doc.id)),\"target\":\"_blank\"}},[_vm._v(_vm._s(doc.name))]):_c('b-link',{staticClass:\"files-name\",attrs:{\"href\":(\"/api/folders/\" + (_vm.$route.params.id) + \"/\" + (doc.id)),\"download\":\"\"}},[_vm._v(_vm._s(doc.name))])],1)}),(_vm.folder.canEdit)?_c('div',{staticClass:\"mt-3\"},[_c('b-btn',{attrs:{\"size\":\"sm\",\"variant\":\"primary\"},on:{\"click\":_vm.onAddFolder}},[_vm._v(\"Add Folder\")]),_c('b-btn',{staticClass:\"ml-2\",attrs:{\"size\":\"sm\",\"variant\":\"primary\"},on:{\"click\":_vm.onAddDocument}},[_vm._v(\"Add File\")])],1):_vm._e(),_c('b-modal',{attrs:{\"id\":\"files-edit-folder\",\"title\":_vm.editFolder ? 'Edit Folder' : 'Add Folder'},on:{\"shown\":_vm.onEditFolderShown,\"ok\":_vm.onEditFolderOK},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\nvar ok = ref.ok;\nvar cancel = ref.cancel;\nvar hide = ref.hide;\nreturn [(_vm.editFolder)?_c('b-btn',{staticClass:\"mr-5\",attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.onDeleteFolder(_vm.editFolder, hide)}}},[_vm._v(\"Delete\")]):_vm._e(),_c('b-btn',{on:{\"click\":function($event){return cancel()}}},[_vm._v(\"Cancel\")]),_c('b-btn',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return ok()}}},[_vm._v(\"OK\")])]}}])},[_c('form',{on:{\"select\":function($event){$event.preventDefault();return _vm.doEditFolder($event)}}},[_c('b-form-group',{attrs:{\"label\":\"Name\",\"label-for\":\"files-edit-folder-name\",\"state\":_vm.editFolderNameError ? false : null,\"invalid-feedback\":_vm.editFolderNameError}},[_c('b-input',{ref:\"editFolderName\",attrs:{\"id\":\"files-edit-folder-name\",\"state\":_vm.editFolderNameError ? false : null,\"trim\":\"\"},model:{value:(_vm.editFolderName),callback:function ($$v) {_vm.editFolderName=$$v},expression:\"editFolderName\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Group\",\"label-for\":\"files-edit-folder-group\"}},[_c('b-select',{attrs:{\"id\":\"files-edit-folder-group\",\"options\":_vm.folder.allowedGroups,\"text-field\":\"name\",\"value-field\":\"id\"},model:{value:(_vm.editFolderGroup),callback:function ($$v) {_vm.editFolderGroup=$$v},expression:\"editFolderGroup\"}})],1),(_vm.editFolder)?_c('b-form-group',{attrs:{\"label\":\"Parent Folder\",\"label-for\":\"files-edit-folder-parent\"}},[_c('b-select',{attrs:{\"id\":\"files-edit-folder-parent\",\"options\":_vm.allowedParents,\"text-field\":\"name\",\"value-field\":\"id\"},model:{value:(_vm.editFolderParent),callback:function ($$v) {_vm.editFolderParent=$$v},expression:\"editFolderParent\"}})],1):_vm._e()],1)]),_c('b-modal',{attrs:{\"id\":\"files-edit-doc\",\"title\":_vm.editDocument ? 'Edit File' : 'Add File'},on:{\"shown\":_vm.onEditDocumentShown,\"ok\":_vm.onEditDocumentOK},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\nvar ok = ref.ok;\nvar cancel = ref.cancel;\nvar hide = ref.hide;\nreturn [(_vm.editDocument)?_c('b-btn',{staticClass:\"mr-5\",attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.onDeleteDocument(_vm.editDocument, hide)}}},[_vm._v(\"Delete\")]):_vm._e(),_c('b-btn',{on:{\"click\":function($event){return cancel()}}},[_vm._v(\"Cancel\")]),_c('b-btn',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return ok()}}},[_vm._v(\"OK\")])]}}])},[_c('form',{on:{\"select\":function($event){$event.preventDefault();return _vm.doEditDocument($event)}}},[(_vm.editDocument)?_c('b-form-group',{attrs:{\"label\":\"Name\",\"label-for\":\"files-edit-doc-name\",\"state\":_vm.editDocumentNameError ? false : null,\"invalid-feedback\":_vm.editDocumentNameError}},[_c('b-input',{ref:\"editDocumentName\",attrs:{\"id\":\"files-edit-doc-name\",\"state\":_vm.editDocumentNameError ? false : null,\"trim\":\"\"},model:{value:(_vm.editDocumentName),callback:function ($$v) {_vm.editDocumentName=$$v},expression:\"editDocumentName\"}})],1):_c('b-form-group',{attrs:{\"state\":_vm.editDocumentFilesError ? false : null,\"invalid-feedback\":_vm.editDocumentFilesError}},[_c('b-form-file',{attrs:{\"id\":\"files-edit-doc-files\",\"multiple\":\"\",\"state\":_vm.editDocumentFilesError ? false : null},model:{value:(_vm.editDocumentFiles),callback:function ($$v) {_vm.editDocumentFiles=$$v},expression:\"editDocumentFiles\"}})],1),(_vm.editDocument)?_c('b-form-group',{attrs:{\"label\":\"In Folder\",\"label-for\":\"files-edit-doc-folder\"}},[_c('b-select',{attrs:{\"id\":\"files-edit-doc-folder\",\"options\":_vm.folder.allowedParents,\"text-field\":\"name\",\"value-field\":\"id\"},model:{value:(_vm.editDocumentFolder),callback:function ($$v) {_vm.editDocumentFolder=$$v},expression:\"editDocumentFolder\"}})],1):_vm._e()],1)])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nFiles displays the Files browser.\n-->\n\n<template lang=\"pug\">\ndiv(v-if=\"!folder\")\n  b-spinner(small)\n#files(v-else @drop=\"onDrop\" @dragover=\"onDragOver\")\n  .files-line(v-if=\"folder.id\")\n    .files-icon\n      svg(xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\")\n        path(fill=\"currentColor\" d=\"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z\")\n    b-link.files-name(:to=\"`/files/${folder.parent ? folder.parent.id : 0}`\") {{folder.parent ? folder.parent.name : 'Files'}}\n  .files-line(v-for=\"child in folder.children\" :key=\"`f${child.id}`\" @mouseover=\"onHoverFolder(child.id)\" @mouseout=\"onHoverFolder(0)\")\n    .files-icon(@click=\"onEditFolder(child)\")\n      svg(v-if=\"folder.canEdit && hoverFolder === child.id\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 576 512\")\n        path(fill=\"currentColor\" d=\"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z\")\n      svg(v-else xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\")\n        path(fill=\"currentColor\" d=\"M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z\")\n    b-link.files-name(:to=\"`/files/${child.id}`\") {{child.name}}\n  .files-line(v-for=\"doc in folder.documents\" :key=\"`d${doc.id}`\" @mouseover=\"onHoverDocument(doc.id)\" @mouseout=\"onHoverDocument(0)\")\n    .files-icon(@click=\"onEditDocument(doc)\")\n      svg(v-if=\"folder.canEdit && hoverDocument === doc.id\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 576 512\")\n        path(fill=\"currentColor\" d=\"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z\")\n      svg(v-else-if=\"doc.name.endsWith('.docx') || doc.name.endsWith('.doc')\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\")\n        path(fill=\"currentColor\" d=\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm220.1-208c-5.7 0-10.6 4-11.7 9.5-20.6 97.7-20.4 95.4-21 103.5-.2-1.2-.4-2.6-.7-4.3-.8-5.1.3.2-23.6-99.5-1.3-5.4-6.1-9.2-11.7-9.2h-13.3c-5.5 0-10.3 3.8-11.7 9.1-24.4 99-24 96.2-24.8 103.7-.1-1.1-.2-2.5-.5-4.2-.7-5.2-14.1-73.3-19.1-99-1.1-5.6-6-9.7-11.8-9.7h-16.8c-7.8 0-13.5 7.3-11.7 14.8 8 32.6 26.7 109.5 33.2 136 1.3 5.4 6.1 9.1 11.7 9.1h25.2c5.5 0 10.3-3.7 11.6-9.1l17.9-71.4c1.5-6.2 2.5-12 3-17.3l2.9 17.3c.1.4 12.6 50.5 17.9 71.4 1.3 5.3 6.1 9.1 11.6 9.1h24.7c5.5 0 10.3-3.7 11.6-9.1 20.8-81.9 30.2-119 34.5-136 1.9-7.6-3.8-14.9-11.6-14.9h-15.8z\")\n      svg(v-else-if=\"doc.name.endsWith('.pdf')\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\")\n        path(fill=\"currentColor\" d=\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm250.2-143.7c-12.2-12-47-8.7-64.4-6.5-17.2-10.5-28.7-25-36.8-46.3 3.9-16.1 10.1-40.6 5.4-56-4.2-26.2-37.8-23.6-42.6-5.9-4.4 16.1-.4 38.5 7 67.1-10 23.9-24.9 56-35.4 74.4-20 10.3-47 26.2-51 46.2-3.3 15.8 26 55.2 76.1-31.2 22.4-7.4 46.8-16.5 68.4-20.1 18.9 10.2 41 17 55.8 17 25.5 0 28-28.2 17.5-38.7zm-198.1 77.8c5.1-13.7 24.5-29.5 30.4-35-19 30.3-30.4 35.7-30.4 35zm81.6-190.6c7.4 0 6.7 32.1 1.8 40.8-4.4-13.9-4.3-40.8-1.8-40.8zm-24.4 136.6c9.7-16.9 18-37 24.7-54.7 8.3 15.1 18.9 27.2 30.1 35.5-20.8 4.3-38.9 13.1-54.8 19.2zm131.6-5s-5 6-37.3-7.8c35.1-2.6 40.9 5.4 37.3 7.8z\")\n      svg(v-else-if=\"doc.name.endsWith('.ppt') || doc.name.endsWith('.pptx')\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\")\n        path(fill=\"currentColor\" d=\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm72-60V236c0-6.6 5.4-12 12-12h69.2c36.7 0 62.8 27 62.8 66.3 0 74.3-68.7 66.5-95.5 66.5V404c0 6.6-5.4 12-12 12H132c-6.6 0-12-5.4-12-12zm48.5-87.4h23c7.9 0 13.9-2.4 18.1-7.2 8.5-9.8 8.4-28.5.1-37.8-4.1-4.6-9.9-7-17.4-7h-23.9v52z\")\n      svg(v-else-if=\"doc.name.endsWith('.xls') || doc.name.endsWith('.xlsx')\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\")\n        path(fill=\"currentColor\" d=\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm212-240h-28.8c-4.4 0-8.4 2.4-10.5 6.3-18 33.1-22.2 42.4-28.6 57.7-13.9-29.1-6.9-17.3-28.6-57.7-2.1-3.9-6.2-6.3-10.6-6.3H124c-9.3 0-15 10-10.4 18l46.3 78-46.3 78c-4.7 8 1.1 18 10.4 18h28.9c4.4 0 8.4-2.4 10.5-6.3 21.7-40 23-45 28.6-57.7 14.9 30.2 5.9 15.9 28.6 57.7 2.1 3.9 6.2 6.3 10.6 6.3H260c9.3 0 15-10 10.4-18L224 320c.7-1.1 30.3-50.5 46.3-78 4.7-8-1.1-18-10.3-18z\")\n      svg(v-else-if=\"doc.name.endsWith('.jpg') || doc.name.endsWith('.jpeg')\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\")\n        path(fill=\"currentColor\" d=\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z\")\n      svg(v-else xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\")\n        path(fill=\"currentColor\" d=\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z\")\n    b-link.files-name(v-if=\"doc.name.endsWith('.pdf')\" :href=\"`/api/folders/${$route.params.id}/${doc.id}`\" target=\"_blank\") {{doc.name}}\n    b-link.files-name(v-else :href=\"`/api/folders/${$route.params.id}/${doc.id}`\" download) {{doc.name}}\n  div.mt-3(v-if=\"folder.canEdit\")\n    b-btn(size=\"sm\" variant=\"primary\" @click=\"onAddFolder\") Add Folder\n    b-btn.ml-2(size=\"sm\" variant=\"primary\" @click=\"onAddDocument\") Add File\n  b-modal#files-edit-folder(:title=\"editFolder ? 'Edit Folder' : 'Add Folder'\" @shown=\"onEditFolderShown\" @ok=\"onEditFolderOK\")\n    form(@select.prevent=\"doEditFolder\")\n      b-form-group(label=\"Name\" label-for=\"files-edit-folder-name\" :state=\"editFolderNameError ? false : null\" :invalid-feedback=\"editFolderNameError\")\n        b-input#files-edit-folder-name(ref=\"editFolderName\" :state=\"editFolderNameError ? false : null\" trim v-model=\"editFolderName\")\n      b-form-group(label=\"Group\" label-for=\"files-edit-folder-group\")\n        b-select#files-edit-folder-group(:options=\"folder.allowedGroups\" v-model=\"editFolderGroup\" text-field=\"name\" value-field=\"id\")\n      b-form-group(v-if=\"editFolder\" label=\"Parent Folder\" label-for=\"files-edit-folder-parent\")\n        b-select#files-edit-folder-parent(:options=\"allowedParents\" v-model=\"editFolderParent\" text-field=\"name\" value-field=\"id\")\n    template(v-slot:modal-footer=\"{ok, cancel, hide}\")\n      b-btn.mr-5(v-if=\"editFolder\" variant=\"danger\" @click=\"onDeleteFolder(editFolder, hide)\") Delete\n      b-btn(@click=\"cancel()\") Cancel\n      b-btn(variant=\"primary\" @click=\"ok()\") OK\n  b-modal#files-edit-doc(:title=\"editDocument ? 'Edit File' : 'Add File'\" @shown=\"onEditDocumentShown\" @ok=\"onEditDocumentOK\")\n    form(@select.prevent=\"doEditDocument\")\n      b-form-group(v-if=\"editDocument\" label=\"Name\" label-for=\"files-edit-doc-name\" :state=\"editDocumentNameError ? false : null\" :invalid-feedback=\"editDocumentNameError\")\n        b-input#files-edit-doc-name(ref=\"editDocumentName\" :state=\"editDocumentNameError ? false : null\" trim v-model=\"editDocumentName\")\n      b-form-group(v-else :state=\"editDocumentFilesError ? false : null\" :invalid-feedback=\"editDocumentFilesError\")\n        b-form-file#files-edit-doc-files(multiple :state=\"editDocumentFilesError ? false : null\" v-model=\"editDocumentFiles\")\n      b-form-group(v-if=\"editDocument\" label=\"In Folder\" label-for=\"files-edit-doc-folder\")\n        b-select#files-edit-doc-folder(:options=\"folder.allowedParents\" v-model=\"editDocumentFolder\" text-field=\"name\" value-field=\"id\")\n    template(v-slot:modal-footer=\"{ok, cancel, hide}\")\n      b-btn.mr-5(v-if=\"editDocument\" variant=\"danger\" @click=\"onDeleteDocument(editDocument, hide)\") Delete\n      b-btn(@click=\"cancel()\") Cancel\n      b-btn(variant=\"primary\" @click=\"ok()\") OK\n</template>\n\n<script>\nfunction extension(path) {\n  const dot = path.lastIndexOf('.')\n  return dot < 0 ? '' : path.substr(dot)\n}\n\nexport default {\n  data: () => ({\n    folder: null,\n    editDocument: null,\n    editDocumentName: null,\n    editDocumentNameError: null,\n    editDocumentFiles: null,\n    editDocumentFilesError: null,\n    editDocumentFolder: null,\n    editFolder: null,\n    editFolderName: null,\n    editFolderNameError: null,\n    editFolderGroup: null,\n    editFolderParent: null,\n    hoverDocument: null,\n    hoverFolder: null,\n  }),\n  computed: {\n    allowedParents() {\n      let ignoreAbove = null\n      return this.folder.allowedParents.filter(p => {\n        if (p.id === this.editFolder.id) {\n          ignoreAbove = p.indent\n          return false\n        }\n        if (ignoreAbove !== null && p.indent > ignoreAbove) {\n          return false\n        }\n        ignoreAbove = null\n        return true\n      })\n    }\n  },\n  created() {\n    this.loadFolder()\n  },\n  watch: {\n    $route: 'loadFolder',\n  },\n  methods: {\n    async doEditDocument() {\n      const body = new FormData\n      const docID = this.editDocument ? this.editDocument.id : 'NEW'\n      if (this.editDocument) {\n        if (!this.editDocumentName) {\n          this.editDocumentNameError = 'The file name is required.'\n          return false\n        }\n        if (!extension(this.editDocumentName)) {\n          this.editDoumentNameError = 'The file must have an extension indicating its type.'\n          return false\n        }\n        if (extension(this.editDocumentName) !== extension(this.editDocument.name)) {\n          this.editDocumentNameError = `The new file name must end with \"${extension(this.editDocument.name)}\".`\n          return false\n        }\n        if (this.folder.documents.find(f => f !== this.editDocument && f.name === this.editDocumentName)) {\n          this.editDocumentNameError = 'This file name is already in use.'\n          return false\n        }\n        body.append('name', this.editDocumentName)\n        if (this.editDocument) body.append('folder', this.editDocumentFolder)\n      } else {\n        if (!this.editDocumentFiles || !this.editDocumentFiles.length) {\n          this.editDocumentFilesError = 'Select the file(s) to be added.'\n          return false\n        }\n        const replace = []\n        this.editDocumentFiles.forEach(nf => {\n          if (this.folder.documents.find(d => d.name === nf.name))\n            replace.push(nf.name)\n        })\n        if (replace.length === 1) {\n          if (!await this.$bvModal.msgBoxConfirm(\n            `This will replace the existing file named \"${replace[0]}\".  Are you sure?`,\n            {\n              title: 'Replace File', headerBgVariant: 'warning', headerTextVariant: 'white',\n              okTitle: 'Replace', okVariant: 'warning', cancelTitle: 'Keep',\n            })) return false\n        } else if (replace.length > 1) {\n          if (!await this.$bvModal.msgBoxConfirm(\n            `This will replace ${replace.length} existing files with the same names.  Are you sure?`,\n            {\n              title: 'Replace Files', headerBgVariant: 'warning', headerTextVariant: 'white',\n              okTitle: 'Replace', okVariant: 'warning', cancelTitle: 'Keep',\n            })) return false\n        }\n        this.editDocumentFiles.forEach(nf => { body.append('file', nf) })\n      }\n      this.folder = (await this.$axios.post(`/api/folders/${this.$route.params.id}/${docID}`, body)).data\n      return true\n    },\n    doEditFolder() {\n      if (!this.editFolderName) {\n        this.editFolderNameError = 'The folder name is required.'\n        return false\n      }\n      if (this.folder.children.find(f => f !== this.editFolder && f.name === this.editFolderName)) {\n        this.editFolderNameError = 'This folder name is already in use.'\n        return false\n      }\n      const body = new FormData\n      body.append('name', this.editFolderName)\n      body.append('group', this.editFolderGroup)\n      if (this.editFolder) body.append('parent', this.editFolderParent)\n      if (this.editFolder)\n        this.$axios.put(`/api/folders/${this.editFolder.id}`, body).then(r => { this.folder = r.data })\n      else\n        this.$axios.post(`/api/folders/${this.$route.params.id}`, body).then(r => { this.folder = r.data })\n      return true\n    },\n    async loadFolder() {\n      this.folder = (await this.$axios.get(`/api/folders/${this.$route.params.id}`)).data\n      this.$store.commit('setPage', { title: this.folder.name || 'Files' })\n    },\n    onAddDocument() {\n      this.editDocument = null\n      this.editDocumentName = null\n      this.editDocumentNameError = null\n      this.editDocumentFilesError = null\n      this.editDocumentFolder = this.folder.id\n      this.$bvModal.show('files-edit-doc')\n    },\n    onAddFolder() {\n      this.editFolder = null\n      this.editFolderName = null\n      this.editFolderNameError = null\n      this.editFolderGroup = this.folder.group\n      this.$bvModal.show('files-edit-folder')\n    },\n    onDragOver(evt) { evt.preventDefault() },\n    async onDrop(evt) {\n      if (!this.folder.canEdit) return\n      evt.preventDefault()\n      const body = new FormData\n      const replace = []\n      for (let i = 0; i < evt.dataTransfer.files.length; i++) {\n        const nf = evt.dataTransfer.files[i]\n        if (this.folder.documents.find(d => d.name === nf.name))\n          replace.push(nf.name)\n      }\n      if (replace.length === 1) {\n        if (!await this.$bvModal.msgBoxConfirm(\n          `This will replace the existing file named \"${replace[0]}\".  Are you sure?`,\n          {\n            title: 'Replace File', headerBgVariant: 'warning', headerTextVariant: 'white',\n            okTitle: 'Replace', okVariant: 'warning', cancelTitle: 'Keep',\n          })) return false\n      } else if (replace.length > 1) {\n        if (!await this.$bvModal.msgBoxConfirm(\n          `This will replace ${replace.length} existing files with the same names.  Are you sure?`,\n          {\n            title: 'Replace Files', headerBgVariant: 'warning', headerTextVariant: 'white',\n            okTitle: 'Replace', okVariant: 'warning', cancelTitle: 'Keep',\n          })) return false\n      }\n      for (let i = 0; i < evt.dataTransfer.files.length; i++) {\n        body.append('file', evt.dataTransfer.files[i])\n      }\n      this.folder = (await this.$axios.post(`/api/folders/${this.$route.params.id}/NEW`, body)).data\n    },\n    onEditDocument(doc) {\n      if (!this.folder.canEdit) return\n      this.editDocument = doc\n      this.editDocumentName = doc.name\n      this.editDocumentNameError = null\n      this.editDocumentFolder = this.folder.id || 0\n      this.$bvModal.show('files-edit-doc')\n    },\n    onEditFolder(folder) {\n      if (!this.folder.canEdit) return\n      this.editFolder = folder\n      this.editFolderName = folder.name\n      this.editFolderNameError = null\n      this.editFolderGroup = folder.group\n      this.editFolderParent = this.folder.id || 0\n      this.$bvModal.show('files-edit-folder')\n    },\n    onEditDocumentShown() {\n      if (this.$refs.editDocumentName) this.$refs.editDocumentName.focus()\n    },\n    onEditFolderShown() {\n      this.$refs.editFolderName.focus()\n    },\n    async onEditDocumentOK(evt) {\n      evt.preventDefault()\n      if (await this.doEditDocument())\n        this.$bvModal.hide('files-edit-doc')\n    },\n    onEditFolderOK(evt) {\n      if (!this.doEditFolder())\n        evt.preventDefault()\n    },\n    async onDeleteDocument(doc, hide) {\n      hide()\n      if (!await this.$bvModal.msgBoxConfirm(\n        `Are you sure you want to delete the file \"${doc.name}\"?  It cannot be restored.`,\n        {\n          title: 'Delete File', headerBgVariant: 'danger', headerTextVariant: 'white',\n          okTitle: 'Delete', okVariant: 'danger', cancelTitle: 'Keep',\n        }))\n        return\n      this.folder = (await this.$axios.delete(`/api/folders/${this.$route.params.id}/${doc.id}`)).data\n    },\n    async onDeleteFolder(child, hide) {\n      hide()\n      if (!await this.$bvModal.msgBoxConfirm(\n        `Are you sure you want to delete the folder \"${child.name}\", along with all of its files and sub-folders?  It cannot be restored.`,\n        {\n          title: 'Delete Folder', headerBgVariant: 'danger', headerTextVariant: 'white',\n          okTitle: 'Delete', okVariant: 'danger', cancelTitle: 'Keep',\n        }))\n        return\n      this.folder = (await this.$axios.delete(`/api/folders/${child.id}`)).data\n    },\n    onHoverDocument(id) { this.hoverDocument = id },\n    onHoverFolder(id) { this.hoverFolder = id },\n  },\n}\n</script>\n\n<style lang=\"stylus\">\n#files\n  min-height calc(100vh - 40px)\n  .mouse &\n    margin 1.5rem 0.75rem\n.files-line\n  display flex\n  align-items center\n  .touch &\n    padding 0.25rem 0.5rem\n    min-height 40px\n    border-bottom 1px solid #ccc\n.files-icon\n  display flex\n  flex none\n  justify-content center\n  align-items center\n  margin-right 0.5rem\n  padding 0\n  width 1rem\n  height 1rem\n  border none\n  background-color white\n  color black\n  &:hover, &:active, &:focus\n    background-color white !important\n    color black !important\n  .touch &\n    width 1.5rem\n    height 1.5rem\n  svg\n    width 100%\n    height 100%\n.files-name\n  flex 1 1 auto\n  overflow hidden\n  min-width 0\n  text-overflow ellipsis\n  white-space nowrap\n  .touch &\n    white-space normal\n    line-height 1.2\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Files.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Files.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Files.vue?vue&type=template&id=69e4a062&lang=pug&\"\nimport script from \"./Files.vue?vue&type=script&lang=js&\"\nexport * from \"./Files.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Files.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Files.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Files.vue?vue&type=style&index=0&lang=stylus&\""],"sourceRoot":""}