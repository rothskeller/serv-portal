{"version":3,"sources":["webpack:///./client/pages/emails/EmailsList.vue?e34a","webpack:///client/pages/emails/EmailsList.vue","webpack:///./client/pages/emails/EmailsList.vue?74fe","webpack:///./client/pages/emails/EmailsList.vue","webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./client/pages/emails/EmailsList.vue?ecf1"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_e","_l","email","key","id","staticClass","_v","domProps","_s","from","subject","to","length","group","timestamp","substr","error","type","on","$event","onAccept","staticRenderFns","data","methods","component","module","exports"],"mappings":"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","file":"js/EmailsList.e5fed83b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"emails-list\"}},[(_vm.loading)?_c('div',{attrs:{\"id\":\"emails-list-spinner\"}},[_c('b-spinner',{attrs:{\"small\":\"\"}})],1):_vm._e(),_vm._l((_vm.emails),function(email){return _c('div',{key:email.id,staticClass:\"emails-list-email\"},[(email.from)?[_c('div',{staticClass:\"emails-list-heading\"},[_vm._v(\"From:\")]),_c('div',{domProps:{\"textContent\":_vm._s(email.from)}})]:_vm._e(),(email.subject)?[_c('div',{staticClass:\"emails-list-heading\"},[_vm._v(\"Subj:\")]),_c('div',{domProps:{\"textContent\":_vm._s(email.subject)}})]:_vm._e(),(email.to && email.to.length)?[_c('div',{staticClass:\"emails-list-heading\"},[_vm._v(\"To:\")]),_c('div',{staticClass:\"emails-list-to\"},_vm._l((email.to),function(group){return _c('div',{domProps:{\"textContent\":_vm._s(group)}})}),0)]:_vm._e(),(email.timestamp)?[_c('div',{staticClass:\"emails-list-heading\"},[_vm._v(\"Date:\")]),_c('div',{domProps:{\"textContent\":_vm._s(email.timestamp.substr(0, 10) + ' ' + email.timestamp.substr(11, 8))}})]:_vm._e(),(email.error)?[_c('div',{staticClass:\"emails-list-heading\"},[_vm._v(\"Error:\")]),_c('div',{staticClass:\"emails-list-error\",domProps:{\"textContent\":_vm._s(email.error)}})]:(email.type === 'bounce')?[_c('div',{staticClass:\"emails-list-heading\"},[_vm._v(\"Error:\")]),_c('div',{staticClass:\"emails-list-error\"},[_vm._v(\"Bounce message\")])]:(email.type === 'send_failed')?[_c('div',{staticClass:\"emails-list-heading\"},[_vm._v(\"Error:\")]),_c('div',{staticClass:\"emails-list-error\"},[_vm._v(\"Send failed\")])]:(email.type === 'moderated')?[_c('div',{staticClass:\"emails-list-heading\"},[_vm._v(\"Error:\")]),_c('div',{staticClass:\"emails-list-error\"},[_vm._v(\"Message requires moderation\")])]:(email.type === 'unrecognized')?[_c('div',{staticClass:\"emails-list-heading\"},[_vm._v(\"Error:\")]),_c('div',{staticClass:\"emails-list-error\"},[_vm._v(\"Message not recognized\")])]:_vm._e(),_c('div',{staticClass:\"emails-list-buttons\"},[_c('b-btn',{attrs:{\"size\":\"sm\",\"variant\":\"primary\"}},[_vm._v(\"View\")]),(email.type === 'moderated')?_c('b-btn',{staticClass:\"ml-2\",attrs:{\"size\":\"sm\",\"variant\":\"success\"},on:{\"click\":function($event){return _vm.onAccept(email)}}},[_vm._v(\"Accept\")]):_vm._e(),(email.type === 'moderated')?_c('b-btn',{staticClass:\"ml-2\",attrs:{\"size\":\"sm\",\"variant\":\"warning\"}},[_vm._v(\"Reject\")]):_vm._e(),(email.type !== 'sent')?_c('b-btn',{staticClass:\"ml-2\",attrs:{\"size\":\"sm\",\"variant\":\"danger\"}},[_vm._v(\"Discard\")]):_vm._e(),_c('b-btn',{staticClass:\"ml-2\",attrs:{\"size\":\"sm\",\"variant\":\"info\"}},[_vm._v(\"Forward\")])],1)],2)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nEmailsList displays the list of emails.\n-->\n\n<template lang=\"pug\">\n#emails-list\n  #emails-list-spinner(v-if=\"loading\")\n    b-spinner(small)\n  .emails-list-email(v-for=\"email in emails\" :key=\"email.id\")\n    template(v-if=\"email.from\")\n      .emails-list-heading From:\n      div(v-text=\"email.from\")\n    template(v-if=\"email.subject\")\n      .emails-list-heading Subj:\n      div(v-text=\"email.subject\")\n    template(v-if=\"email.to && email.to.length\")\n      div.emails-list-heading To:\n      .emails-list-to\n        div(v-for=\"group in email.to\" v-text=\"group\")\n    template(v-if=\"email.timestamp\")\n      .emails-list-heading Date:\n      div(v-text=\"email.timestamp.substr(0, 10) + ' ' + email.timestamp.substr(11, 8)\")\n    template(v-if=\"email.error\")\n      .emails-list-heading Error:\n      .emails-list-error(v-text=\"email.error\")\n    template(v-else-if=\"email.type === 'bounce'\")\n      .emails-list-heading Error:\n      .emails-list-error Bounce message\n    template(v-else-if=\"email.type === 'send_failed'\")\n      .emails-list-heading Error:\n      .emails-list-error Send failed\n    template(v-else-if=\"email.type === 'moderated'\")\n      .emails-list-heading Error:\n      .emails-list-error Message requires moderation\n    template(v-else-if=\"email.type === 'unrecognized'\")\n      .emails-list-heading Error:\n      .emails-list-error Message not recognized\n    .emails-list-buttons\n      b-btn(size=\"sm\" variant=\"primary\") View\n      b-btn.ml-2(v-if=\"email.type === 'moderated'\" size=\"sm\" variant=\"success\" @click=\"onAccept(email)\") Accept\n      b-btn.ml-2(v-if=\"email.type === 'moderated'\" size=\"sm\" variant=\"warning\") Reject\n      b-btn.ml-2(v-if=\"email.type !== 'sent'\" size=\"sm\" variant=\"danger\") Discard\n      b-btn.ml-2(size=\"sm\" variant=\"info\") Forward\n</template>\n\n<script>\nexport default {\n  data: () => ({\n    emails: null,\n    loading: true,\n  }),\n  async created() {\n    this.loading = true\n    this.emails = (await this.$axios.get(`/api/emails`)).data\n    this.loading = false\n  },\n  methods: {\n    async onAccept(email) {\n      await this.$axios.post(`/api/emails/${email.id}?action=accept`)\n      this.emails = (await this.$axios.get(`/api/emails`)).data\n    },\n    async onForward(email) {\n      await this.$axios.post(`/api/emails/${email.id}?action=forward`)\n    },\n  },\n}\n</script>\n\n<style lang=\"stylus\">\n#emails-list\n  padding 1.5rem 0.75rem\n#emails-list-spinner\n  margin-top 1.5rem\n.emails-list-email\n  display grid\n  margin-top 0.5rem\n  padding-top 0.5rem\n  border-top 1px solid #ccc\n  grid auto / min-content 1fr\n  &:first-child\n    margin-top 0\n    padding-top 0\n    border-top none\n.emails-list-heading\n  padding-right 0.5rem\n  color #888\n.emails-list-to\n  padding-top 0.15rem // compensate for line-height 1.5 on heading\n  line-height 1.2\n.emails-list-error\n  color red\n.emails-list-buttons\n  margin-top 0.25rem\n  grid-column 1 / 3\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmailsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmailsList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EmailsList.vue?vue&type=template&id=5cc6776d&lang=pug&\"\nimport script from \"./EmailsList.vue?vue&type=script&lang=js&\"\nexport * from \"./EmailsList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EmailsList.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = require(\"regenerator-runtime\");\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmailsList.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmailsList.vue?vue&type=style&index=0&lang=stylus&\""],"sourceRoot":""}