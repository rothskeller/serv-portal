{"version":3,"sources":["webpack:///./client/pages/person/PersonHours.vue?f72c","webpack:///client/pages/person/PersonHours.vue","webpack:///./client/pages/person/PersonHours.vue?521f","webpack:///./client/pages/person/PersonHours.vue","webpack:///./client/pages/person/PersonHours.vue?92b7","webpack:///./node_modules/@babel/runtime/regenerator/index.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","_v","attrs","months","on","$event","preventDefault","onSubmit","_l","month","domProps","_s","event","eventText","eventTime","setEventTime","totalHours","onCancel","staticRenderFns","props","onLoadPerson","Function","data","methods","e","placeholder","name","minutes","Math","floor","evt","target","value","component","module","exports"],"mappings":"sHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAgB,aAAEI,EAAG,MAAM,CAACE,YAAY,YAAYC,YAAY,CAAC,YAAY,UAAU,CAACP,EAAIQ,GAAG,sMAAsMJ,EAAG,IAAI,CAACK,MAAM,CAAC,KAAO,2DAA2D,OAAS,WAAW,CAACT,EAAIQ,GAAG,eAAeR,EAAIQ,GAAG,kEAAkEJ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACN,EAAIQ,GAAG,mDAAmDR,EAAIQ,GAAG,kRAAoRR,EAAIU,OAAqFN,EAAG,OAAO,CAACK,MAAM,CAAC,GAAK,gBAAgBE,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBb,EAAIc,SAASF,MAAW,CAACZ,EAAIe,GAAIf,EAAU,QAAE,SAASgB,GAAO,OAAOZ,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,uBAAuBW,SAAS,CAAC,YAAcjB,EAAIkB,GAAI,uBAA0BF,EAAW,UAAOZ,EAAG,QAAQ,CAACE,YAAY,sBAAsB,CAACN,EAAIe,GAAIC,EAAY,QAAE,SAASG,GAAO,OAAOf,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,qBAAqBW,SAAS,CAAC,YAAcjB,EAAIkB,GAAGlB,EAAIoB,UAAUD,OAAWf,EAAG,KAAK,CAACA,EAAG,QAAQ,CAACE,YAAY,oBAAoBG,MAAM,CAAC,KAAO,SAAS,IAAM,IAAI,KAAO,OAAOQ,SAAS,CAAC,MAAQjB,EAAIqB,UAAUF,IAAQR,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOZ,EAAIsB,aAAaH,EAAOP,cAAkBR,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,4BAA4B,CAACN,EAAIQ,GAAG,WAAWJ,EAAG,KAAK,CAACA,EAAG,MAAM,CAACE,YAAY,0BAA0BW,SAAS,CAAC,YAAcjB,EAAIkB,GAAGlB,EAAIuB,WAAWP,YAAgB,QAAOZ,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,QAAQ,CAACK,MAAM,CAAC,KAAO,SAAS,QAAU,YAAY,CAACT,EAAIQ,GAAG,gBAAgBJ,EAAG,QAAQ,CAACE,YAAY,OAAOK,GAAG,CAAC,MAAQX,EAAIwB,WAAW,CAACxB,EAAIQ,GAAG,aAAa,IAAI,GAArsCJ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,YAAY,CAACK,MAAM,CAAC,MAAQ,OAAO,IACthCgB,EAAkB,G,iVCsCtB,OACEC,MAAO,CACLC,aAAcC,UAEhBC,KAAM,WAAR,qCACE,QALF,kIAMA,uEANA,OAMA,EANA,OAMA,KACA,EACA,cAEA,qBAVA,wGAYEC,QAAS,CACPV,UADJ,SACA,GACM,OAAIW,EAAEC,YAAoBD,EAAEE,KACrB,GAAb,mCAEIZ,UALJ,SAKA,GACM,OAAkB,IAAdU,EAAEG,QAAsB,GACrBC,KAAKC,MAAML,EAAEG,QAAU,IAAM,GAEtCV,SATJ,WASA,qBACI,SAVJ,yHAWA,eACA,iCACA,8BACA,2CAdA,SAiBA,0EAjBA,OAkBA,4DAlBA,wGAoBIF,aApBJ,SAoBA,KACMS,EAAEG,QAA6B,GAAnBG,EAAIC,OAAOC,OAEzBhB,WAvBJ,SAuBA,GACM,IAAN,yDACM,OAAOY,KAAKC,MAAMF,EAAU,IAAM,KC5E4T,I,wBCQhWM,EAAY,eACd,EACAzC,EACA0B,GACA,EACA,KACA,KACA,MAIa,aAAAe,E,sECnBf,yBAAuiB,EAAG,G,qBCA1iBC,EAAOC,QAAU,EAAQ","file":"js/PersonHours.98cec7c2.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.unregistered)?_c('div',{staticClass:\"mt-3 ml-2\",staticStyle:{\"max-width\":\"600px\"}},[_vm._v(\"You are not currently registered as a City of Sunnyvale volunteer.  We\\nappreciate your volunteer efforts, but we cannot record your hours until you\\nare registered.  To do so, please fill out\\n\"),_c('a',{attrs:{\"href\":\"https://www.volgistics.com/ex/portal.dll/ap?AP=929478828\",\"target\":\"_blank\"}},[_vm._v(\"this form\")]),_vm._v(\".  In the “City employee status or referral” box, please enter\"),_c('pre',{staticClass:\"ml-4 mt-3\"},[_vm._v(\"Rebecca Elizondo\\nDepartment of Public Safety\")]),_vm._v(\"and the names of the organizations you're volunteering for (CERT, LISTOS,\\nSNAP, and/or SARES).  Come back a week or so later and we should have your\\nregistration on file.  If you have any difficulties with this, please\\ncontact Rebecca at RElizondo@sunnyvale.ca.gov.\")]):(!_vm.months)?_c('div',{staticClass:\"mt-3 ml-2\"},[_c('b-spinner',{attrs:{\"small\":\"\"}})],1):_c('form',{attrs:{\"id\":\"person-hours\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[_vm._l((_vm.months),function(month){return _c('div',{staticClass:\"person-hours\"},[_c('div',{staticClass:\"person-hours-heading\",domProps:{\"textContent\":_vm._s((\"Volunteer Hours for \" + (month.month)))}}),_c('table',{staticClass:\"person-hours-table\"},[_vm._l((month.events),function(event){return _c('tr',[_c('td',{staticClass:\"person-hours-event\",domProps:{\"textContent\":_vm._s(_vm.eventText(event))}}),_c('td',[_c('input',{staticClass:\"person-hours-time\",attrs:{\"type\":\"number\",\"min\":\"0\",\"step\":\"0.5\"},domProps:{\"value\":_vm.eventTime(event)},on:{\"change\":function($event){return _vm.setEventTime(event, $event)}}})])])}),_c('tr',[_c('td',{staticClass:\"person-hours-total-label\"},[_vm._v(\"TOTAL\")]),_c('td',[_c('div',{staticClass:\"person-hours-total-time\",domProps:{\"textContent\":_vm._s(_vm.totalHours(month))}})])])],2)])}),_c('div',{staticClass:\"mt-3\"},[_c('b-btn',{attrs:{\"type\":\"submit\",\"variant\":\"primary\"}},[_vm._v(\"Save Hours\")]),_c('b-btn',{staticClass:\"ml-2\",on:{\"click\":_vm.onCancel}},[_vm._v(\"Cancel\")])],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nPersonHours allows editing the hours a person has spent on SERV activities.\n-->\n\n<template lang=\"pug\">\ndiv.mt-3.ml-2(v-if=\"unregistered\" style=\"max-width:600px\")\n  | You are not currently registered as a City of Sunnyvale volunteer.  We\n  | appreciate your volunteer efforts, but we cannot record your hours until you\n  | are registered.  To do so, please fill out\n  |\n  a(href=\"https://www.volgistics.com/ex/portal.dll/ap?AP=929478828\" target=\"_blank\") this form\n  | .  In the “City employee status or referral” box, please enter\n  pre.ml-4.mt-3\n    | Rebecca Elizondo\n    | Department of Public Safety\n  | and the names of the organizations you're volunteering for (CERT, LISTOS,\n  | SNAP, and/or SARES).  Come back a week or so later and we should have your\n  | registration on file.  If you have any difficulties with this, please\n  | contact Rebecca at RElizondo@sunnyvale.ca.gov.\ndiv.mt-3.ml-2(v-else-if=\"!months\")\n  b-spinner(small)\nform#person-hours(v-else @submit.prevent=\"onSubmit\")\n  .person-hours(v-for=\"month in months\")\n    .person-hours-heading(v-text=\"`Volunteer Hours for ${month.month}`\")\n    table.person-hours-table\n      tr(v-for=\"event in month.events\")\n        td.person-hours-event(v-text=\"eventText(event)\")\n        td\n          input.person-hours-time(type=\"number\" min=\"0\" step=\"0.5\" :value=\"eventTime(event)\" @change=\"setEventTime(event, $event)\")\n      tr\n        td.person-hours-total-label TOTAL\n        td\n          div.person-hours-total-time(v-text=\"totalHours(month)\")\n  div.mt-3\n    b-btn(type=\"submit\" variant=\"primary\") Save Hours\n    b-btn.ml-2(@click=\"onCancel\") Cancel\n</template>\n\n<script>\nexport default {\n  props: {\n    onLoadPerson: Function, // not used\n  },\n  data: () => ({ months: null, unregistered: false }),\n  async created() {\n    const data = (await this.$axios.get(`/api/people/${this.$route.params.id}/hours`)).data\n    if (data)\n      this.months = data\n    else\n      this.unregistered = true\n  },\n  methods: {\n    eventText(e) {\n      if (e.placeholder) return e.name\n      return `${e.date} ${e.name}`\n    },\n    eventTime(e) {\n      if (e.minutes === 0) return ''\n      return Math.floor(e.minutes / 30) / 2\n    },\n    onCancel() { this.$router.go(-1) },\n    async onSubmit() {\n      const body = new FormData\n      this.months.forEach(m => {\n        m.events.forEach(e => {\n          body.append(`e${e.id}`, e.minutes)\n        })\n      })\n      await this.$axios.post(`/api/people/${this.$route.params.id}/hours`, body)\n      this.$router.push(`/people/${this.$route.params.id}`)\n    },\n    setEventTime(e, evt) {\n      e.minutes = evt.target.value * 60\n    },\n    totalHours(month) {\n      const minutes = month.events.reduce((sum, e) => sum + e.minutes, 0)\n      return Math.floor(minutes / 30) / 2\n    },\n  },\n}\n</script>\n\n<style lang=\"stylus\">\n#person-hours\n  margin 1.5rem 0.75rem\n.person-hours-heading\n  font-weight bold\n  font-size 1.5rem\n.person-hours-event\n  padding-right 1rem\n  padding-left 0.5rem\n  text-indent -0.5rem\n.person-hours-time\n  width 4rem\n  text-align right\n.person-hours-total-label\n  padding-right 1rem\n  text-align right\n  font-weight bold\n.person-hours-total-time\n  width 3rem\n  text-align right\n  font-weight bold\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonHours.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonHours.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PersonHours.vue?vue&type=template&id=6df0c7f0&lang=pug&\"\nimport script from \"./PersonHours.vue?vue&type=script&lang=js&\"\nexport * from \"./PersonHours.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PersonHours.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonHours.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonHours.vue?vue&type=style&index=0&lang=stylus&\"","module.exports = require(\"regenerator-runtime\");\n"],"sourceRoot":""}