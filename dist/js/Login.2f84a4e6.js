(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Login"],{"0117":function(t,e,a){"use strict";var r=a("752f"),s=a.n(r);s.a},"17b0":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.$store.state.touch?"touch":"mouse",attrs:{id:"page-top"}},[a("div",{attrs:{id:"page-heading"}},[a("div",{attrs:{id:"page-menu-spacer"}}),a("div",{attrs:{id:"page-titlebox"}},[a("div",{attrs:{id:"page-title"},domProps:{textContent:t._s(t.title)}})]),a("div",{attrs:{id:"page-menu-spacer"}})]),a("div",{staticClass:"page-no-menu",attrs:{id:"page-content"}},[t._t("default")],2)])},s=[],n={props:{title:String}},i=n,o=a("2877"),l=Object(o["a"])(i,r,s,!1,null,null,null);e["a"]=l.exports},"752f":function(t,e,a){},a34a:function(t,e,a){t.exports=a("96cf")},a7fb:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PublicPage",{attrs:{title:"SERV Portal"}},[a("div",{attrs:{id:"login-top"}},[a("div",{attrs:{id:"login-banner"}},[t._v("Please log in.")]),a("div",{attrs:{id:"login-forserv"}},[t._v("This web site is for SERV volunteers only.\nIf you are interested in joining one of the SERV volunteer organizations,\nplease visit Sunnyvale’s "),a("a",{attrs:{href:"https://sunnyvale.ca.gov/government/safety/emergency.htm"}},[t._v("emergency response page")]),t._v(".")]),a("form",{attrs:{id:"login-form"},on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("b-form-group",{attrs:{label:"Email address","label-for":"login-email","label-cols-sm":"4"}},[a("b-input",{attrs:{id:"login-email",autocorrect:"off",autocapitalize:"none",autofocus:"",required:"",trim:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("b-form-group",{attrs:{label:"Password","label-for":"login-password","label-cols-sm":"4"}},[a("b-input",{ref:"password",attrs:{id:"login-password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("div",{attrs:{id:"login-submit-row"}},[a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Log in")])],1),t.failed?a("div",{attrs:{id:"login-failed"}},[t._v("Login incorrect. Please try again.")]):t._e()],1),a("div",{attrs:{id:"login-reset"}},[a("b-btn",{attrs:{to:"/password-reset"}},[t._v("Reset my password")])],1)])])},s=[],n=a("a34a"),i=a.n(n),o=a("17b0");function l(t,e,a,r,s,n,i){try{var o=t[n](i),l=o.value}catch(u){return void a(u)}o.done?e(l):Promise.resolve(l).then(r,s)}function u(t){return function(){var e=this,a=arguments;return new Promise((function(r,s){var n=t.apply(e,a);function i(t){l(n,r,s,i,o,"next",t)}function o(t){l(n,r,s,i,o,"throw",t)}i(void 0)}))}}var c={components:{PublicPage:o["a"]},data:function(){return{email:"",password:"",failed:!1}},methods:{onSubmit:function(){var t=u(i.a.mark((function t(){var e,a;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.email&&this.password){t.next=2;break}return t.abrupt("return");case 2:return e=new FormData,e.append("username",this.email),e.append("password",this.password),t.prev=5,t.next=8,this.$axios.post("/api/login",e);case 8:a=t.sent.data,this.$store.commit("login",a),this.$router.replace(this.$route.query.redirect||"/events"),t.next=19;break;case 13:t.prev=13,t.t0=t["catch"](5),console.error(t.t0),this.failed=!0,this.password="",this.$refs.password.focus();case 19:case"end":return t.stop()}}),t,this,[[5,13]])})));function e(){return t.apply(this,arguments)}return e}()}},d=c,p=(a("0117"),a("2877")),f=Object(p["a"])(d,r,s,!1,null,"4533994e",null);e["default"]=f.exports}}]);
//# sourceMappingURL=Login.2f84a4e6.js.map