{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/regenerator/index.js","webpack:///./client/pages/Files.vue?b541","webpack:///client/pages/Files.vue","webpack:///./client/pages/Files.vue?0108","webpack:///./client/pages/Files.vue","webpack:///./client/pages/Files.vue?eb26"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","folder","class","dragging","attrs","on","onDrop","onDragOver","onDragLeave","uploadProgress","_e","staticClass","parent","id","_v","_s","name","_l","child","key","$event","onHoverFolder","onEditFolder","canEdit","hoverFolder","doc","onHoverDocument","onEditDocument","hoverDocument","endsWith","$route","params","onAddFolder","onAddDocument","editFolder","onEditFolderShown","onEditFolderOK","scopedSlots","_u","fn","ref","ok","cancel","hide","onDeleteFolder","preventDefault","doEditFolder","editFolderNameError","model","value","callback","$$v","editFolderName","expression","allowedGroups","editFolderGroup","allowedParents","editFolderParent","editDocument","onEditDocumentShown","onEditDocumentOK","onDeleteDocument","doEditDocument","editDocumentNameError","editDocumentName","editDocumentFilesError","editDocumentFiles","editDocumentFolder","staticRenderFns","extension","path","dot","substr","data","computed","filter","p","ignoreAbove","indent","created","loadFolder","watch","methods","children","find","body","append","$bvModal","show","group","evt","$refs","focus","onUploadProgress","lengthComputable","total","loaded","component"],"mappings":"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","file":"js/Files.2f0c4d2a.js","sourcesContent":["module.exports = require(\"regenerator-runtime\");\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.folder)?_c('div',[_c('b-spinner',{attrs:{\"small\":\"\"}})],1):_c('div',{class:_vm.dragging ? 'dragging' : null,attrs:{\"id\":\"files\"},on:{\"drop\":_vm.onDrop,\"dragover\":_vm.onDragOver,\"dragleave\":_vm.onDragLeave}},[(_vm.uploadProgress !== null)?_c('b-progress',{attrs:{\"id\":\"files-progress\",\"value\":_vm.uploadProgress,\"max\":1}}):_vm._e(),(_vm.folder.id)?_c('div',{staticClass:\"files-line\"},[_c('div',{staticClass:\"files-icon\"},[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z\"}})])]),_c('b-link',{staticClass:\"files-name\",attrs:{\"to\":(\"/files/\" + (_vm.folder.parent ? _vm.folder.parent.id : 0))}},[_vm._v(_vm._s(_vm.folder.parent ? _vm.folder.parent.name : 'Files'))])],1):_vm._e(),_vm._l((_vm.folder.children),function(child){return _c('div',{key:(\"f\" + (child.id)),staticClass:\"files-line\",on:{\"mouseover\":function($event){return _vm.onHoverFolder(child.id)},\"mouseout\":function($event){return _vm.onHoverFolder(0)}}},[_c('div',{staticClass:\"files-icon\",on:{\"click\":function($event){return _vm.onEditFolder(child)}}},[(_vm.folder.canEdit && _vm.hoverFolder === child.id)?_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 576 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z\"}})]):_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z\"}})])]),_c('b-link',{staticClass:\"files-name\",attrs:{\"to\":(\"/files/\" + (child.id))}},[_vm._v(_vm._s(child.name))])],1)}),_vm._l((_vm.folder.documents),function(doc){return _c('div',{key:(\"d\" + (doc.id)),staticClass:\"files-line\",on:{\"mouseover\":function($event){return _vm.onHoverDocument(doc.id)},\"mouseout\":function($event){return _vm.onHoverDocument(0)}}},[_c('div',{staticClass:\"files-icon\",on:{\"click\":function($event){return _vm.onEditDocument(doc)}}},[(_vm.folder.canEdit && _vm.hoverDocument === doc.id)?_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 576 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z\"}})]):(doc.name.endsWith('.docx') || doc.name.endsWith('.doc'))?_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 384 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm220.1-208c-5.7 0-10.6 4-11.7 9.5-20.6 97.7-20.4 95.4-21 103.5-.2-1.2-.4-2.6-.7-4.3-.8-5.1.3.2-23.6-99.5-1.3-5.4-6.1-9.2-11.7-9.2h-13.3c-5.5 0-10.3 3.8-11.7 9.1-24.4 99-24 96.2-24.8 103.7-.1-1.1-.2-2.5-.5-4.2-.7-5.2-14.1-73.3-19.1-99-1.1-5.6-6-9.7-11.8-9.7h-16.8c-7.8 0-13.5 7.3-11.7 14.8 8 32.6 26.7 109.5 33.2 136 1.3 5.4 6.1 9.1 11.7 9.1h25.2c5.5 0 10.3-3.7 11.6-9.1l17.9-71.4c1.5-6.2 2.5-12 3-17.3l2.9 17.3c.1.4 12.6 50.5 17.9 71.4 1.3 5.3 6.1 9.1 11.6 9.1h24.7c5.5 0 10.3-3.7 11.6-9.1 20.8-81.9 30.2-119 34.5-136 1.9-7.6-3.8-14.9-11.6-14.9h-15.8z\"}})]):(doc.name.endsWith('.pdf'))?_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 384 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm250.2-143.7c-12.2-12-47-8.7-64.4-6.5-17.2-10.5-28.7-25-36.8-46.3 3.9-16.1 10.1-40.6 5.4-56-4.2-26.2-37.8-23.6-42.6-5.9-4.4 16.1-.4 38.5 7 67.1-10 23.9-24.9 56-35.4 74.4-20 10.3-47 26.2-51 46.2-3.3 15.8 26 55.2 76.1-31.2 22.4-7.4 46.8-16.5 68.4-20.1 18.9 10.2 41 17 55.8 17 25.5 0 28-28.2 17.5-38.7zm-198.1 77.8c5.1-13.7 24.5-29.5 30.4-35-19 30.3-30.4 35.7-30.4 35zm81.6-190.6c7.4 0 6.7 32.1 1.8 40.8-4.4-13.9-4.3-40.8-1.8-40.8zm-24.4 136.6c9.7-16.9 18-37 24.7-54.7 8.3 15.1 18.9 27.2 30.1 35.5-20.8 4.3-38.9 13.1-54.8 19.2zm131.6-5s-5 6-37.3-7.8c35.1-2.6 40.9 5.4 37.3 7.8z\"}})]):(doc.name.endsWith('.ppt') || doc.name.endsWith('.pptx'))?_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 384 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm72-60V236c0-6.6 5.4-12 12-12h69.2c36.7 0 62.8 27 62.8 66.3 0 74.3-68.7 66.5-95.5 66.5V404c0 6.6-5.4 12-12 12H132c-6.6 0-12-5.4-12-12zm48.5-87.4h23c7.9 0 13.9-2.4 18.1-7.2 8.5-9.8 8.4-28.5.1-37.8-4.1-4.6-9.9-7-17.4-7h-23.9v52z\"}})]):(doc.name.endsWith('.xls') || doc.name.endsWith('.xlsx'))?_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 384 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm212-240h-28.8c-4.4 0-8.4 2.4-10.5 6.3-18 33.1-22.2 42.4-28.6 57.7-13.9-29.1-6.9-17.3-28.6-57.7-2.1-3.9-6.2-6.3-10.6-6.3H124c-9.3 0-15 10-10.4 18l46.3 78-46.3 78c-4.7 8 1.1 18 10.4 18h28.9c4.4 0 8.4-2.4 10.5-6.3 21.7-40 23-45 28.6-57.7 14.9 30.2 5.9 15.9 28.6 57.7 2.1 3.9 6.2 6.3 10.6 6.3H260c9.3 0 15-10 10.4-18L224 320c.7-1.1 30.3-50.5 46.3-78 4.7-8-1.1-18-10.3-18z\"}})]):(doc.name.endsWith('.jpg') || doc.name.endsWith('.jpeg'))?_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 384 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z\"}})]):_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 384 512\"}},[_c('path',{attrs:{\"fill\":\"currentColor\",\"d\":\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z\"}})])]),(doc.name.endsWith('.pdf'))?_c('b-link',{staticClass:\"files-name\",attrs:{\"href\":(\"/api/folders/\" + (_vm.$route.params.id) + \"/\" + (doc.id)),\"target\":\"_blank\"}},[_vm._v(_vm._s(doc.name))]):_c('b-link',{staticClass:\"files-name\",attrs:{\"href\":(\"/api/folders/\" + (_vm.$route.params.id) + \"/\" + (doc.id)),\"download\":\"\"}},[_vm._v(_vm._s(doc.name))])],1)}),(_vm.folder.canEdit)?_c('div',{staticClass:\"mt-3\"},[_c('b-btn',{attrs:{\"size\":\"sm\",\"variant\":\"primary\"},on:{\"click\":_vm.onAddFolder}},[_vm._v(\"Add Folder\")]),_c('b-btn',{staticClass:\"ml-2\",attrs:{\"size\":\"sm\",\"variant\":\"primary\"},on:{\"click\":_vm.onAddDocument}},[_vm._v(\"Add File\")])],1):_vm._e(),_c('b-modal',{attrs:{\"id\":\"files-edit-folder\",\"title\":_vm.editFolder ? 'Edit Folder' : 'Add Folder'},on:{\"shown\":_vm.onEditFolderShown,\"ok\":_vm.onEditFolderOK},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\nvar ok = ref.ok;\nvar cancel = ref.cancel;\nvar hide = ref.hide;\nreturn [(_vm.editFolder)?_c('b-btn',{staticClass:\"mr-5\",attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.onDeleteFolder(_vm.editFolder, hide)}}},[_vm._v(\"Delete\")]):_vm._e(),_c('b-btn',{on:{\"click\":function($event){return cancel()}}},[_vm._v(\"Cancel\")]),_c('b-btn',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return ok()}}},[_vm._v(\"OK\")])]}}])},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.doEditFolder($event)}}},[_c('b-form-group',{attrs:{\"label\":\"Name\",\"label-for\":\"files-edit-folder-name\",\"state\":_vm.editFolderNameError ? false : null,\"invalid-feedback\":_vm.editFolderNameError}},[_c('b-input',{ref:\"editFolderName\",attrs:{\"id\":\"files-edit-folder-name\",\"state\":_vm.editFolderNameError ? false : null,\"trim\":\"\"},model:{value:(_vm.editFolderName),callback:function ($$v) {_vm.editFolderName=$$v},expression:\"editFolderName\"}})],1),_c('b-form-group',{attrs:{\"label\":\"Group\",\"label-for\":\"files-edit-folder-group\"}},[_c('b-select',{attrs:{\"id\":\"files-edit-folder-group\",\"options\":_vm.folder.allowedGroups,\"text-field\":\"name\",\"value-field\":\"id\"},model:{value:(_vm.editFolderGroup),callback:function ($$v) {_vm.editFolderGroup=$$v},expression:\"editFolderGroup\"}})],1),(_vm.editFolder)?_c('b-form-group',{attrs:{\"label\":\"Parent Folder\",\"label-for\":\"files-edit-folder-parent\"}},[_c('b-select',{attrs:{\"id\":\"files-edit-folder-parent\",\"options\":_vm.allowedParents,\"text-field\":\"name\",\"value-field\":\"id\"},model:{value:(_vm.editFolderParent),callback:function ($$v) {_vm.editFolderParent=$$v},expression:\"editFolderParent\"}})],1):_vm._e()],1)]),_c('b-modal',{attrs:{\"id\":\"files-edit-doc\",\"title\":_vm.editDocument ? 'Edit File' : 'Add File'},on:{\"shown\":_vm.onEditDocumentShown,\"ok\":_vm.onEditDocumentOK},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\nvar ok = ref.ok;\nvar cancel = ref.cancel;\nvar hide = ref.hide;\nreturn [(_vm.editDocument)?_c('b-btn',{staticClass:\"mr-5\",attrs:{\"variant\":\"danger\"},on:{\"click\":function($event){return _vm.onDeleteDocument(_vm.editDocument, hide)}}},[_vm._v(\"Delete\")]):_vm._e(),_c('b-btn',{on:{\"click\":function($event){return cancel()}}},[_vm._v(\"Cancel\")]),_c('b-btn',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return ok()}}},[_vm._v(\"OK\")])]}}])},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.doEditDocument($event)}}},[(_vm.editDocument)?_c('b-form-group',{attrs:{\"label\":\"Name\",\"label-for\":\"files-edit-doc-name\",\"state\":_vm.editDocumentNameError ? false : null,\"invalid-feedback\":_vm.editDocumentNameError}},[_c('b-input',{ref:\"editDocumentName\",attrs:{\"id\":\"files-edit-doc-name\",\"state\":_vm.editDocumentNameError ? false : null,\"trim\":\"\"},model:{value:(_vm.editDocumentName),callback:function ($$v) {_vm.editDocumentName=$$v},expression:\"editDocumentName\"}})],1):_c('b-form-group',{attrs:{\"state\":_vm.editDocumentFilesError ? false : null,\"invalid-feedback\":_vm.editDocumentFilesError}},[_c('b-form-file',{attrs:{\"id\":\"files-edit-doc-files\",\"multiple\":\"\",\"state\":_vm.editDocumentFilesError ? false : null},model:{value:(_vm.editDocumentFiles),callback:function ($$v) {_vm.editDocumentFiles=$$v},expression:\"editDocumentFiles\"}})],1),(_vm.editDocument)?_c('b-form-group',{attrs:{\"label\":\"In Folder\",\"label-for\":\"files-edit-doc-folder\"}},[_c('b-select',{attrs:{\"id\":\"files-edit-doc-folder\",\"options\":_vm.folder.allowedParents,\"text-field\":\"name\",\"value-field\":\"id\"},model:{value:(_vm.editDocumentFolder),callback:function ($$v) {_vm.editDocumentFolder=$$v},expression:\"editDocumentFolder\"}})],1):_vm._e()],1),(_vm.uploadProgress !== null)?_c('b-progress',{attrs:{\"value\":_vm.uploadProgress,\"max\":1}}):_vm._e()],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\nFiles displays the Files browser.\n-->\n\n<template lang=\"pug\">\ndiv(v-if=\"!folder\")\n  b-spinner(small)\n#files(v-else :class=\"dragging ? 'dragging' : null\" @drop=\"onDrop\" @dragover=\"onDragOver\" @dragleave=\"onDragLeave\")\n  b-progress#files-progress(v-if=\"uploadProgress !== null\" :value=\"uploadProgress\" :max=\"1\")\n  .files-line(v-if=\"folder.id\")\n    .files-icon\n      svg(xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\")\n        path(fill=\"currentColor\" d=\"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z\")\n    b-link.files-name(:to=\"`/files/${folder.parent ? folder.parent.id : 0}`\") {{folder.parent ? folder.parent.name : 'Files'}}\n  .files-line(v-for=\"child in folder.children\" :key=\"`f${child.id}`\" @mouseover=\"onHoverFolder(child.id)\" @mouseout=\"onHoverFolder(0)\")\n    .files-icon(@click=\"onEditFolder(child)\")\n      svg(v-if=\"folder.canEdit && hoverFolder === child.id\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 576 512\")\n        path(fill=\"currentColor\" d=\"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z\")\n      svg(v-else xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\")\n        path(fill=\"currentColor\" d=\"M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z\")\n    b-link.files-name(:to=\"`/files/${child.id}`\") {{child.name}}\n  .files-line(v-for=\"doc in folder.documents\" :key=\"`d${doc.id}`\" @mouseover=\"onHoverDocument(doc.id)\" @mouseout=\"onHoverDocument(0)\")\n    .files-icon(@click=\"onEditDocument(doc)\")\n      svg(v-if=\"folder.canEdit && hoverDocument === doc.id\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 576 512\")\n        path(fill=\"currentColor\" d=\"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z\")\n      svg(v-else-if=\"doc.name.endsWith('.docx') || doc.name.endsWith('.doc')\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\")\n        path(fill=\"currentColor\" d=\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm220.1-208c-5.7 0-10.6 4-11.7 9.5-20.6 97.7-20.4 95.4-21 103.5-.2-1.2-.4-2.6-.7-4.3-.8-5.1.3.2-23.6-99.5-1.3-5.4-6.1-9.2-11.7-9.2h-13.3c-5.5 0-10.3 3.8-11.7 9.1-24.4 99-24 96.2-24.8 103.7-.1-1.1-.2-2.5-.5-4.2-.7-5.2-14.1-73.3-19.1-99-1.1-5.6-6-9.7-11.8-9.7h-16.8c-7.8 0-13.5 7.3-11.7 14.8 8 32.6 26.7 109.5 33.2 136 1.3 5.4 6.1 9.1 11.7 9.1h25.2c5.5 0 10.3-3.7 11.6-9.1l17.9-71.4c1.5-6.2 2.5-12 3-17.3l2.9 17.3c.1.4 12.6 50.5 17.9 71.4 1.3 5.3 6.1 9.1 11.6 9.1h24.7c5.5 0 10.3-3.7 11.6-9.1 20.8-81.9 30.2-119 34.5-136 1.9-7.6-3.8-14.9-11.6-14.9h-15.8z\")\n      svg(v-else-if=\"doc.name.endsWith('.pdf')\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\")\n        path(fill=\"currentColor\" d=\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm250.2-143.7c-12.2-12-47-8.7-64.4-6.5-17.2-10.5-28.7-25-36.8-46.3 3.9-16.1 10.1-40.6 5.4-56-4.2-26.2-37.8-23.6-42.6-5.9-4.4 16.1-.4 38.5 7 67.1-10 23.9-24.9 56-35.4 74.4-20 10.3-47 26.2-51 46.2-3.3 15.8 26 55.2 76.1-31.2 22.4-7.4 46.8-16.5 68.4-20.1 18.9 10.2 41 17 55.8 17 25.5 0 28-28.2 17.5-38.7zm-198.1 77.8c5.1-13.7 24.5-29.5 30.4-35-19 30.3-30.4 35.7-30.4 35zm81.6-190.6c7.4 0 6.7 32.1 1.8 40.8-4.4-13.9-4.3-40.8-1.8-40.8zm-24.4 136.6c9.7-16.9 18-37 24.7-54.7 8.3 15.1 18.9 27.2 30.1 35.5-20.8 4.3-38.9 13.1-54.8 19.2zm131.6-5s-5 6-37.3-7.8c35.1-2.6 40.9 5.4 37.3 7.8z\")\n      svg(v-else-if=\"doc.name.endsWith('.ppt') || doc.name.endsWith('.pptx')\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\")\n        path(fill=\"currentColor\" d=\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm72-60V236c0-6.6 5.4-12 12-12h69.2c36.7 0 62.8 27 62.8 66.3 0 74.3-68.7 66.5-95.5 66.5V404c0 6.6-5.4 12-12 12H132c-6.6 0-12-5.4-12-12zm48.5-87.4h23c7.9 0 13.9-2.4 18.1-7.2 8.5-9.8 8.4-28.5.1-37.8-4.1-4.6-9.9-7-17.4-7h-23.9v52z\")\n      svg(v-else-if=\"doc.name.endsWith('.xls') || doc.name.endsWith('.xlsx')\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\")\n        path(fill=\"currentColor\" d=\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm212-240h-28.8c-4.4 0-8.4 2.4-10.5 6.3-18 33.1-22.2 42.4-28.6 57.7-13.9-29.1-6.9-17.3-28.6-57.7-2.1-3.9-6.2-6.3-10.6-6.3H124c-9.3 0-15 10-10.4 18l46.3 78-46.3 78c-4.7 8 1.1 18 10.4 18h28.9c4.4 0 8.4-2.4 10.5-6.3 21.7-40 23-45 28.6-57.7 14.9 30.2 5.9 15.9 28.6 57.7 2.1 3.9 6.2 6.3 10.6 6.3H260c9.3 0 15-10 10.4-18L224 320c.7-1.1 30.3-50.5 46.3-78 4.7-8-1.1-18-10.3-18z\")\n      svg(v-else-if=\"doc.name.endsWith('.jpg') || doc.name.endsWith('.jpeg')\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\")\n        path(fill=\"currentColor\" d=\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z\")\n      svg(v-else xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 384 512\")\n        path(fill=\"currentColor\" d=\"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z\")\n    b-link.files-name(v-if=\"doc.name.endsWith('.pdf')\" :href=\"`/api/folders/${$route.params.id}/${doc.id}`\" target=\"_blank\") {{doc.name}}\n    b-link.files-name(v-else :href=\"`/api/folders/${$route.params.id}/${doc.id}`\" download) {{doc.name}}\n  div.mt-3(v-if=\"folder.canEdit\")\n    b-btn(size=\"sm\" variant=\"primary\" @click=\"onAddFolder\") Add Folder\n    b-btn.ml-2(size=\"sm\" variant=\"primary\" @click=\"onAddDocument\") Add File\n  b-modal#files-edit-folder(:title=\"editFolder ? 'Edit Folder' : 'Add Folder'\" @shown=\"onEditFolderShown\" @ok=\"onEditFolderOK\")\n    form(@submit.prevent=\"doEditFolder\")\n      b-form-group(label=\"Name\" label-for=\"files-edit-folder-name\" :state=\"editFolderNameError ? false : null\" :invalid-feedback=\"editFolderNameError\")\n        b-input#files-edit-folder-name(ref=\"editFolderName\" :state=\"editFolderNameError ? false : null\" trim v-model=\"editFolderName\")\n      b-form-group(label=\"Group\" label-for=\"files-edit-folder-group\")\n        b-select#files-edit-folder-group(:options=\"folder.allowedGroups\" v-model=\"editFolderGroup\" text-field=\"name\" value-field=\"id\")\n      b-form-group(v-if=\"editFolder\" label=\"Parent Folder\" label-for=\"files-edit-folder-parent\")\n        b-select#files-edit-folder-parent(:options=\"allowedParents\" v-model=\"editFolderParent\" text-field=\"name\" value-field=\"id\")\n    template(v-slot:modal-footer=\"{ok, cancel, hide}\")\n      b-btn.mr-5(v-if=\"editFolder\" variant=\"danger\" @click=\"onDeleteFolder(editFolder, hide)\") Delete\n      b-btn(@click=\"cancel()\") Cancel\n      b-btn(variant=\"primary\" @click=\"ok()\") OK\n  b-modal#files-edit-doc(:title=\"editDocument ? 'Edit File' : 'Add File'\" @shown=\"onEditDocumentShown\" @ok=\"onEditDocumentOK\")\n    form(@submit.prevent=\"doEditDocument\")\n      b-form-group(v-if=\"editDocument\" label=\"Name\" label-for=\"files-edit-doc-name\" :state=\"editDocumentNameError ? false : null\" :invalid-feedback=\"editDocumentNameError\")\n        b-input#files-edit-doc-name(ref=\"editDocumentName\" :state=\"editDocumentNameError ? false : null\" trim v-model=\"editDocumentName\")\n      b-form-group(v-else :state=\"editDocumentFilesError ? false : null\" :invalid-feedback=\"editDocumentFilesError\")\n        b-form-file#files-edit-doc-files(multiple :state=\"editDocumentFilesError ? false : null\" v-model=\"editDocumentFiles\")\n      b-form-group(v-if=\"editDocument\" label=\"In Folder\" label-for=\"files-edit-doc-folder\")\n        b-select#files-edit-doc-folder(:options=\"folder.allowedParents\" v-model=\"editDocumentFolder\" text-field=\"name\" value-field=\"id\")\n    b-progress(v-if=\"uploadProgress !== null\" :value=\"uploadProgress\" :max=\"1\")\n    template(v-slot:modal-footer=\"{ok, cancel, hide}\")\n      b-btn.mr-5(v-if=\"editDocument\" variant=\"danger\" @click=\"onDeleteDocument(editDocument, hide)\") Delete\n      b-btn(@click=\"cancel()\") Cancel\n      b-btn(variant=\"primary\" @click=\"ok()\") OK\n</template>\n\n<script>\nfunction extension(path) {\n  const dot = path.lastIndexOf('.')\n  return dot < 0 ? '' : path.substr(dot)\n}\n\nexport default {\n  data: () => ({\n    folder: null,\n    editDocument: null,\n    editDocumentName: null,\n    editDocumentNameError: null,\n    editDocumentFiles: null,\n    editDocumentFilesError: null,\n    editDocumentFolder: null,\n    editFolder: null,\n    editFolderName: null,\n    editFolderNameError: null,\n    editFolderGroup: null,\n    editFolderParent: null,\n    hoverDocument: null,\n    hoverFolder: null,\n    dragging: false,\n    uploadProgress: null,\n  }),\n  computed: {\n    allowedParents() {\n      let ignoreAbove = null\n      return this.folder.allowedParents.filter(p => {\n        if (p.id === this.editFolder.id) {\n          ignoreAbove = p.indent\n          return false\n        }\n        if (ignoreAbove !== null && p.indent > ignoreAbove) {\n          return false\n        }\n        ignoreAbove = null\n        return true\n      })\n    }\n  },\n  created() {\n    this.loadFolder()\n  },\n  watch: {\n    $route: 'loadFolder',\n  },\n  methods: {\n    async doEditDocument() {\n      const body = new FormData\n      const docID = this.editDocument ? this.editDocument.id : 'NEW'\n      if (this.editDocument) {\n        if (!this.editDocumentName) {\n          this.editDocumentNameError = 'The file name is required.'\n          return false\n        }\n        if (!extension(this.editDocumentName)) {\n          this.editDoumentNameError = 'The file must have an extension indicating its type.'\n          return false\n        }\n        if (extension(this.editDocumentName) !== extension(this.editDocument.name)) {\n          this.editDocumentNameError = `The new file name must end with \"${extension(this.editDocument.name)}\".`\n          return false\n        }\n        if (this.folder.documents.find(f => f !== this.editDocument && f.name === this.editDocumentName)) {\n          this.editDocumentNameError = 'This file name is already in use.'\n          return false\n        }\n        body.append('name', this.editDocumentName)\n        if (this.editDocument) body.append('folder', this.editDocumentFolder)\n      } else {\n        if (!this.editDocumentFiles || !this.editDocumentFiles.length) {\n          this.editDocumentFilesError = 'Select the file(s) to be added.'\n          return false\n        }\n        const replace = []\n        this.editDocumentFiles.forEach(nf => {\n          if (this.folder.documents.find(d => d.name === nf.name))\n            replace.push(nf.name)\n        })\n        if (replace.length === 1) {\n          if (!await this.$bvModal.msgBoxConfirm(\n            `This will replace the existing file named \"${replace[0]}\".  Are you sure?`,\n            {\n              title: 'Replace File', headerBgVariant: 'warning', headerTextVariant: 'white',\n              okTitle: 'Replace', okVariant: 'warning', cancelTitle: 'Keep',\n            })) return false\n        } else if (replace.length > 1) {\n          if (!await this.$bvModal.msgBoxConfirm(\n            `This will replace ${replace.length} existing files with the same names.  Are you sure?`,\n            {\n              title: 'Replace Files', headerBgVariant: 'warning', headerTextVariant: 'white',\n              okTitle: 'Replace', okVariant: 'warning', cancelTitle: 'Keep',\n            })) return false\n        }\n        this.editDocumentFiles.forEach(nf => { body.append('file', nf) })\n      }\n      this.folder = (await this.$axios.post(`/api/folders/${this.$route.params.id}/${docID}`, body, {\n        onUploadProgress: this.onUploadProgress,\n      })).data\n      this.uploadProgress = null\n      this.$bvModal.hide('files-edit-doc')\n      return true\n    },\n    doEditFolder() {\n      if (!this.editFolderName) {\n        this.editFolderNameError = 'The folder name is required.'\n        return false\n      }\n      if (this.folder.children.find(f => f !== this.editFolder && f.name === this.editFolderName)) {\n        this.editFolderNameError = 'This folder name is already in use.'\n        return false\n      }\n      const body = new FormData\n      body.append('name', this.editFolderName)\n      body.append('group', this.editFolderGroup)\n      if (this.editFolder) body.append('parent', this.editFolderParent)\n      if (this.editFolder)\n        this.$axios.put(`/api/folders/${this.editFolder.id}`, body).then(r => { this.folder = r.data })\n      else\n        this.$axios.post(`/api/folders/${this.$route.params.id}`, body).then(r => { this.folder = r.data })\n      this.$bvModal.hide('files-edit-folder')\n      return true\n    },\n    async loadFolder() {\n      this.folder = (await this.$axios.get(`/api/folders/${this.$route.params.id}`)).data\n      if (!this.folder.children) this.folder.children = []\n      if (!this.folder.documents) this.folder.documents = []\n      this.$store.commit('setPage', { title: this.folder.name || 'Files' })\n    },\n    onAddDocument() {\n      this.editDocument = null\n      this.editDocumentName = null\n      this.editDocumentNameError = null\n      this.editDocumentFilesError = null\n      this.editDocumentFolder = this.folder.id\n      this.$bvModal.show('files-edit-doc')\n    },\n    onAddFolder() {\n      this.editFolder = null\n      this.editFolderName = null\n      this.editFolderNameError = null\n      this.editFolderGroup = this.folder.group\n      this.$bvModal.show('files-edit-folder')\n    },\n    onDragLeave(evt) { this.dragging = false },\n    onDragOver(evt) {\n      evt.preventDefault()\n      this.dragging = true\n    },\n    async onDrop(evt) {\n      if (!this.folder.canEdit) return\n      evt.preventDefault()\n      this.dragging = false\n      const body = new FormData\n      const replace = []\n      for (let i = 0; i < evt.dataTransfer.files.length; i++) {\n        const nf = evt.dataTransfer.files[i]\n        if (this.folder.documents.find(d => d.name === nf.name))\n          replace.push(nf.name)\n      }\n      if (replace.length === 1) {\n        if (!await this.$bvModal.msgBoxConfirm(\n          `This will replace the existing file named \"${replace[0]}\".  Are you sure?`,\n          {\n            title: 'Replace File', headerBgVariant: 'warning', headerTextVariant: 'white',\n            okTitle: 'Replace', okVariant: 'warning', cancelTitle: 'Keep',\n          })) return false\n      } else if (replace.length > 1) {\n        if (!await this.$bvModal.msgBoxConfirm(\n          `This will replace ${replace.length} existing files with the same names.  Are you sure?`,\n          {\n            title: 'Replace Files', headerBgVariant: 'warning', headerTextVariant: 'white',\n            okTitle: 'Replace', okVariant: 'warning', cancelTitle: 'Keep',\n          })) return false\n      }\n      for (let i = 0; i < evt.dataTransfer.files.length; i++) {\n        body.append('file', evt.dataTransfer.files[i])\n      }\n      this.folder = (await this.$axios.post(`/api/folders/${this.$route.params.id}/NEW`, body, {\n        onUploadProgress: this.onUploadProgress,\n      })).data\n      this.uploadProgress = null\n    },\n    onEditDocument(doc) {\n      if (!this.folder.canEdit) return\n      this.editDocument = doc\n      this.editDocumentName = doc.name\n      this.editDocumentNameError = null\n      this.editDocumentFolder = this.folder.id || 0\n      this.$bvModal.show('files-edit-doc')\n    },\n    onEditFolder(folder) {\n      if (!this.folder.canEdit) return\n      this.editFolder = folder\n      this.editFolderName = folder.name\n      this.editFolderNameError = null\n      this.editFolderGroup = folder.group\n      this.editFolderParent = this.folder.id || 0\n      this.$bvModal.show('files-edit-folder')\n    },\n    onEditDocumentShown() {\n      if (this.$refs.editDocumentName) this.$refs.editDocumentName.focus()\n    },\n    onEditFolderShown() {\n      this.$refs.editFolderName.focus()\n    },\n    async onEditDocumentOK(evt) {\n      evt.preventDefault()\n      if (await this.doEditDocument())\n        this.$bvModal.hide('files-edit-doc')\n    },\n    onEditFolderOK(evt) {\n      if (!this.doEditFolder())\n        evt.preventDefault()\n    },\n    async onDeleteDocument(doc, hide) {\n      hide()\n      if (!await this.$bvModal.msgBoxConfirm(\n        `Are you sure you want to delete the file \"${doc.name}\"?  It cannot be restored.`,\n        {\n          title: 'Delete File', headerBgVariant: 'danger', headerTextVariant: 'white',\n          okTitle: 'Delete', okVariant: 'danger', cancelTitle: 'Keep',\n        }))\n        return\n      this.folder = (await this.$axios.delete(`/api/folders/${this.$route.params.id}/${doc.id}`)).data\n    },\n    async onDeleteFolder(child, hide) {\n      hide()\n      if (!await this.$bvModal.msgBoxConfirm(\n        `Are you sure you want to delete the folder \"${child.name}\", along with all of its files and sub-folders?  It cannot be restored.`,\n        {\n          title: 'Delete Folder', headerBgVariant: 'danger', headerTextVariant: 'white',\n          okTitle: 'Delete', okVariant: 'danger', cancelTitle: 'Keep',\n        }))\n        return\n      this.folder = (await this.$axios.delete(`/api/folders/${child.id}`)).data\n    },\n    onHoverDocument(id) { this.hoverDocument = id },\n    onHoverFolder(id) { this.hoverFolder = id },\n    onUploadProgress(evt) {\n      if (evt.lengthComputable && evt.total) this.uploadProgress = evt.loaded / evt.total\n    },\n  },\n}\n</script>\n\n<style lang=\"stylus\">\n#files\n  position relative\n  height 100%\n  .mouse &\n    padding 1.5rem 0.75rem\n  &.dragging\n    box-shadow inset 0 0 0 0.25rem #006600\n#files-progress\n  position absolute\n  top 0\n  right 0\n  left 0\n.files-line\n  display flex\n  align-items center\n  .touch &\n    padding 0.25rem 0.5rem\n    min-height 40px\n    border-bottom 1px solid #ccc\n.files-icon\n  display flex\n  flex none\n  justify-content center\n  align-items center\n  margin-right 0.5rem\n  padding 0\n  width 1rem\n  height 1rem\n  border none\n  background-color white\n  color black\n  &:hover, &:active, &:focus\n    background-color white !important\n    color black !important\n  .touch &\n    width 1.5rem\n    height 1.5rem\n  svg\n    width 100%\n    height 100%\n.files-name\n  flex 1 1 auto\n  overflow hidden\n  min-width 0\n  text-overflow ellipsis\n  white-space nowrap\n  .touch &\n    white-space normal\n    line-height 1.2\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Files.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Files.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Files.vue?vue&type=template&id=524bd03f&lang=pug&\"\nimport script from \"./Files.vue?vue&type=script&lang=js&\"\nexport * from \"./Files.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Files.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Files.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Files.vue?vue&type=style&index=0&lang=stylus&\""],"sourceRoot":""}