(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Unsubscribe"],{"0331":function(t,n,a){"use strict";a.r(n);var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("PublicPage",{attrs:{title:"Sunnyvale SERV"}},[t.loading?a("div",{staticClass:"mt-3 ml-2"},[a("b-spinner",{attrs:{small:""}})],1):t.submitted?a("div",{staticClass:"mt-3 mx-2"},[a("div",{attrs:{id:"unsub-head"}},[t._v("Unsubscribe")]),t.noEmail?a("div",{attrs:{id:"unsub-intro"}},[t._v("You have been removed from all of our email lists.")]):a("div",{attrs:{id:"unsub-intro"}},[t._v("You have been removed from the selected email lists.")]),a("div",{attrs:{id:"unsub-warn"}},[t._v("We would appreciate it if youâ€™d drop us a note at\n"),a("a",{attrs:{href:"mailto:admin@sunnyvaleserv.org"}},[t._v("admin@sunnyvaleserv.org")]),t._v("\nand let us know why you unsubscribed.")]),a("div",{attrs:{id:"unsub-warn"}},[t._v("If you ever want to get back on the email lists, come back to this page\nand let us know.")])]):a("div",{staticClass:"mt-3 mx-2"},[a("div",{attrs:{id:"unsub-head"}},[t._v("Unsubscribe")]),a("div",{attrs:{id:"unsub-intro"}},[t._v("Which email list(s) do you want to unsubscribe from?")]),t._l(t.groups,(function(n){return a("b-checkbox",{key:n.id,model:{value:n.unsub,callback:function(a){t.$set(n,"unsub",a)},expression:"g.unsub"}},[t._v(t._s(n.email)+"@SunnyvaleSERV.org")])})),a("b-checkbox",{staticClass:"mt-1",model:{value:t.noEmail,callback:function(n){t.noEmail=n},expression:"noEmail"}},[t._v("All Sunnyvale SERV email lists")]),a("div",{attrs:{id:"unsub-warn"}},[t._v("Please note that, if you unsubscribe from a critical mailing list for one\nof our volunteer groups, you may no longer be able to participate in that\ngroup.")]),a("div",{attrs:{id:"unsub-buttons"}},[a("b-btn",{attrs:{variant:"primary"},on:{click:t.onSubmit}},[t._v("Unsubscribe")])],1)],2)])},i=[],s=a("a34a"),r=a.n(s),u=a("17b0");function o(t,n,a,e,i,s,r){try{var u=t[s](r),o=u.value}catch(c){return void a(c)}u.done?n(o):Promise.resolve(o).then(e,i)}function c(t){return function(){var n=this,a=arguments;return new Promise((function(e,i){var s=t.apply(n,a);function r(t){o(s,e,i,r,u,"next",t)}function u(t){o(s,e,i,r,u,"throw",t)}r(void 0)}))}}var l={components:{PublicPage:u["a"]},data:function(){return{loading:!1,noEmail:!1,groups:null,submitted:!1}},created:function(){var t=c(r.a.mark((function t(){var n,a=this;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,this.$axios.get("/api/unsubscribe/".concat(this.$route.params.token));case 3:n=t.sent.data,this.noEmail=n.noEmail,this.groups=n.groups,this.loading=!1,this.$route.params.email&&this.groups.forEach((function(t){t.email===a.$route.params.email&&(t.unsub=!0)}));case 8:case"end":return t.stop()}}),t,this)})));function n(){return t.apply(this,arguments)}return n}(),methods:{onSubmit:function(){var t=c(r.a.mark((function t(){var n;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=new FormData,n.append("noEmail",this.noEmail),this.groups.forEach((function(t){n.append("unsub:".concat(t.id),t.unsub)})),t.next=5,this.$axios.post("/api/unsubscribe/".concat(this.$route.params.token),n);case 5:this.submitted=!0;case 6:case"end":return t.stop()}}),t,this)})));function n(){return t.apply(this,arguments)}return n}()}},d=l,v=(a("e97e"),a("2877")),m=Object(v["a"])(d,e,i,!1,null,null,null);n["default"]=m.exports},"17b0":function(t,n,a){"use strict";var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{class:t.$store.state.touch?"touch":"mouse",attrs:{id:"page-top"}},[a("div",{attrs:{id:"page-heading"}},[a("div",{attrs:{id:"page-menu-spacer"}}),a("div",{attrs:{id:"page-titlebox"}},[a("div",{attrs:{id:"page-title"},domProps:{textContent:t._s(t.title)}})]),a("div",{attrs:{id:"page-menu-spacer"}})]),a("div",{staticClass:"page-no-menu",attrs:{id:"page-content"}},[t._t("default")],2)])},i=[],s={props:{title:String}},r=s,u=a("2877"),o=Object(u["a"])(r,e,i,!1,null,null,null);n["a"]=o.exports},a34a:function(t,n,a){t.exports=a("96cf")},da66:function(t,n,a){},e97e:function(t,n,a){"use strict";var e=a("da66"),i=a.n(e);i.a}}]);
//# sourceMappingURL=Unsubscribe.eaceac4b.js.map