let e=document.createElement("style");e.innerHTML=".person-hours-event{padding-right:1rem;padding-left:.5rem;text-indent:-.5rem;line-height:1.2}.person-hours-event-includes{font-style:italic;font-size:.75rem}.person-hours-time{width:4rem;text-align:right}#person-hours-unregistered{margin:1.5rem .75rem;max-width:600px}#person-hours-unregistered pre{margin-left:1.5rem}#person-hours{margin:1.5rem .75rem}.person-hours-heading{font-weight:700;font-size:1.5rem}.person-hours-total-label{padding-right:1rem;text-align:right;font-weight:700}.person-hours-total-time{width:3rem;text-align:right;font-weight:700}#person-hours-buttons{margin-top:1rem}#person-hours-buttons .sbtn{margin-right:.5rem}#person-hours-guide{margin-top:1.5rem;max-width:800px}#person-hours-guide tr:nth-child(1){background-color:#5b9bd5}#person-hours-guide tr:nth-child(1) td{color:#fff;text-align:center;font-weight:700}#person-hours-guide tr:nth-child(2){font-weight:700}#person-hours-guide tr:nth-child(even){background-color:#deeaf6}#person-hours-guide td{padding:.25rem;width:50%;border:1px solid #eee;vertical-align:top;line-height:1.2}",document.head.appendChild(e);import{d as t,u as n,c as r,a as o,b as s,t as a,z as i,o as u,s as l,e as d,f as h,_ as p,v as c,x as m,i as g,r as v,w as f,F as y,g as b,D as S,a5 as E}from"./index.0c6bec11.js";import{s as w}from"./page.a9595226.js";var x=t({props:{event:{type:Object,required:!0}},setup(e){const t=n((()=>{if(!e.event.placeholder)return null;switch(e.event.name){case"Other CERT Hours":return"Includes contact tracing";case"Other LISTOS Hours":return"Includes PEP and Outreach";default:return null}}));return{eventText:n((()=>e.event.placeholder?e.event.name:`${e.event.date} ${e.event.name}`)),eventIncludes:t,eventTime:n((()=>0===e.event.minutes?"":Math.floor(e.event.minutes/30)/2)),setEventTime:function(t){e.event.minutes=60*parseFloat(t.target.value)}}}});const C={class:"person-hours-event"};x.render=function(e,t,n,l,d,h){return u(),r("tr",null,[o("td",C,[s(a(e.eventText),1),e.eventIncludes?(u(),r("div",{key:0,class:"person-hours-event-includes",textContent:a(e.eventIncludes)},null,8,["textContent"])):i("",!0)]),o("td",null,[o("input",{class:"person-hours-time",type:"number",min:"0",step:"0.5",value:e.eventTime,onChange:t[1]||(t[1]=(...t)=>e.setEventTime(...t))},null,40,["value"])])])};var R=t({components:{PersonHoursEvent:x,SButton:l,SSpinner:d},props:{onLoadPerson:Function},setup(){const e=c(),t=m(),r=g("me");w({title:"Volunteer Hours"});const o=h(null),s=h(!1),a=h(!1);p.get(`/api/people/${e.params.id}/hours`).catch((e=>{if(e.response&&404===e.response.status)return null;throw e})).then((e=>{e?e.data?o.value=e.data.months:s.value=!0:a.value=!0}));const i=h(!1),u=n((()=>e.params.id.length<=5));return{months:o,notFound:a,onCancel:function(){t.go(-1)},onSubmit:async function(){const n=new FormData;o.value.forEach((e=>{e.events.forEach((e=>{n.append("e"+e.id,e.minutes.toString())}))})),await p.post(`/api/people/${e.params.id}/hours`,n),e.params.id.length<=5?t.push("/people/"+e.params.id):r.value?t.push("/people/"+r.value.id):i.value=!0},saved:i,showCancel:u,totalHours:function(e){const t=e.events.reduce(((e,t)=>e+t.minutes),0);return Math.floor(t/30)/2},unregistered:s}}});const T={key:0,id:"person-hours-unregistered"},k=s("You are not currently registered as a City of Sunnyvale volunteer. We appreciate your volunteer efforts, but we cannot record your hours until you are registered. To do so, please fill out "),P=o("a",{href:"https://www.volgistics.com/ex/portal.dll/ap?AP=929478828",target:"_blank"},"this form",-1),H=s(". In the “City employee status or referral” box, please enter"),I=o("pre",null,"Rebecca Elizondo\nDepartment of Public Safety",-1),A=o("div",null,[s("and the names of the organizations you're volunteering for (CERT, Listos, SNAP, and/or SARES). Come back a week or so later and we should have your registration on file. If you have any difficulties with this, please contact Rebecca at "),o("a",{href:"mailto:RElizondo@sunnyvale.ca.gov"},"RElizondo@sunnyvale.ca.gov"),s(".")],-1),L={key:1,id:"person-hours"},V=o("div",null,"The link you used is not valid or has expired.",-1),z={style:{"margin-top":"1.5rem"}},F=s("Go to Login Page"),O={key:2,id:"person-hours"},_={key:3,id:"person-hours"},B=o("div",null,"Your volunteer hours have been saved. Thank you for volunteering!",-1),$={style:{"margin-top":"1.5rem"}},j=s("Go to Login Page"),D={class:"person-hours"},M={class:"person-hours-table"},N=o("td",{class:"person-hours-total-label"},"TOTAL",-1),G={id:"person-hours-buttons"},Y=s("Save Hours"),q=s("Cancel"),W=E('<table id="person-hours-guide"><tr><td>Volunteer Hours</td><td>Not Volunteer Hours</td></tr><tr><td>In general, time you spend helping or preparing to help the community as part of SERV. For example:</td><td>In general, time you spend preparing yourself or your household; or time you spend becoming a SERV volunteer. For example:</td></tr><tr><td>Organizing or teaching CERT Basic, Listos, PEP, or SNAP events</td><td>Attending CERT Basic, Listos, PEP, or ham cram classes</td></tr><tr><td>Preparing and maintaining a CERT or SARES “go kit” for deployment</td><td>Preparing and maintaining a personal or household evacuation kit</td></tr><tr><td>SERV team meetings, radio nets, and drills; CERT continuing education seminars; SARES or county ARES training classes</td><td>SERV team social gatherings</td></tr><tr><td>Responding in an emergency when activated by the city</td><td>Responding in an emergency when not activated by the city</td></tr><tr><td>Travel to and from the above</td><td></td></tr><tr><td>SERV administration activities</td><td></td></tr></table>',1);R.render=function(e,t,n,s,l,d){const h=v("SButton"),p=v("SSpinner"),c=v("PersonHoursEvent");return e.unregistered?(u(),r("div",T,[k,P,H,I,A])):e.notFound?(u(),r("div",L,[V,o("div",z,[o(h,{to:"/login",variant:"primary"},{default:f((()=>[F])),_:1})])])):e.months?e.saved?(u(),r("div",_,[B,o("div",$,[o(h,{to:"/login",variant:"primary"},{default:f((()=>[j])),_:1})])])):(u(),r("form",{key:4,id:"person-hours",onSubmit:t[1]||(t[1]=S(((...t)=>e.onSubmit(...t)),["prevent"]))},[(u(!0),r(y,null,b(e.months,(t=>(u(),r("div",D,[o("div",{class:"person-hours-heading",textContent:a("Volunteer Hours for "+t.month)},null,8,["textContent"]),o("table",M,[(u(!0),r(y,null,b(t.events,(e=>(u(),r(c,{event:e,key:e.id},null,8,["event"])))),128)),o("tr",null,[N,o("td",null,[o("div",{class:"person-hours-total-time",textContent:a(e.totalHours(t))},null,8,["textContent"])])])])])))),256)),o("div",G,[o(h,{type:"submit",variant:"primary"},{default:f((()=>[Y])),_:1}),e.showCancel?(u(),r(h,{key:0,onClick:e.onCancel},{default:f((()=>[q])),_:1},8,["onClick"])):i("",!0)]),W],32)):(u(),r("div",O,[o(p)]))};export default R;
