let e=document.createElement("style");e.innerHTML="#people-list{padding:1.5rem .75rem .75rem}#people-list-spinner{margin-top:1.5rem}#people-table{display:flex;flex-direction:column;margin-top:.75rem}@media (min-width:576px){#people-table{display:grid;grid:auto/10rem 1fr}}@media (min-width:800px){#people-table{grid:auto/10rem 1fr 1fr}}@media (min-width:960px){#people-table{grid:auto/10rem 21rem 1fr}}.people-heading{display:none}.people-person{overflow:hidden;margin-top:.25rem;padding-left:1.5rem;text-indent:-1.5rem;text-overflow:ellipsis;white-space:nowrap;line-height:1.2}@media (min-width:576px){.people-heading{display:block;font-weight:700}.people-person{margin-top:.75rem;text-overflow:clip;white-space:normal}}.people-badge{display:inline-block;margin-left:1.5rem;padding:0 .25rem;border-radius:4px;color:#fff;text-indent:0;font-size:.75rem}.people-badge-no{background-color:red}.people-badge-yes{background-color:green}.people-contact{margin-left:6rem}.people-contact div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media (min-width:576px){.people-contact{margin-top:.75rem;margin-left:.25rem}}.people-phone{font-variant:tabular-nums}.people-roles{display:none}@media (min-width:800px){.people-roles{display:block;margin-top:.75rem;margin-left:.25rem}.people-roles div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}",document.head.appendChild(e);import{d as l,e as o,f as t,G as n,z as p,n as a,_ as i,r,o as s,c as d,H as m,I as h,F as c,g,h as v,a as u,t as f,b as x}from"./index.2fd13a4d.js";import{s as w}from"./page.3484299e.js";var y=l({components:{SSpinner:o},setup(){const e=a();w({title:"People"});const l=t(parseInt(e.query.role||n.get("serv-people-role")||"0")),o=t([]),r=t(!0),s=t([]);return p(l,(async()=>{n.set("serv-people-role",l.value.toString(),{expires:3650}),r.value=!0;const e=(await i.get("/api/people",{params:{role:l.value}})).data;s.value=e.people,s.value.forEach((e=>{e.roles&&e.roles.sort()})),e.viewableRoles.length>1&&(e.viewableRoles.sort(((e,l)=>e.name.localeCompare(l.name))),e.viewableRoles.unshift({id:0,name:"(all)"}),o.value=e.viewableRoles),r.value=!1}),{immediate:!0}),{role:l,roles:o,loading:r,people:s}}});const b={id:"people-list"},C={key:1,id:"people-list-spinner"},k={id:"people-table"},P=u("div",{class:"people-person people-heading"},"Person",-1),$=u("div",{class:"people-contact people-heading"},"Contact Info",-1),S=u("div",{class:"people-roles people-heading"},"Roles",-1),R={class:"people-person"},H={class:"people-contact"},I={key:0},N={key:1},j={key:2,class:"people-phone"},z=x(" (Cell)"),E={key:3,class:"people-phone"},W=x(" (Home)"),q={key:4,class:"people-phone"},F=x(" (Work)"),G={class:"people-roles"},L={key:0},M={key:0};y.render=function(e,l,o,t,n,p){const a=r("SSpinner"),i=r("router-link");return s(),d("div",b,[e.roles&&e.roles.length>1?m((s(),d("select",{key:0,id:"people-role","onUpdate:modelValue":l[1]||(l[1]=l=>e.role=l)},[(s(!0),d(c,null,g(e.roles,(e=>(s(),d("option",{key:e.id,value:e.id,textContent:f(e.name)},null,8,["value","textContent"])))),128))],512)),[[h,e.role]]):v("",!0),e.loading?(s(),d("div",C,[u(a)])):(s(),d(c,{key:2},[u("div",k,[P,$,S,(s(!0),d(c,null,g(e.people,(e=>(s(),d(c,null,[u("div",R,[u(i,{to:`/people/${e.id}`,textContent:f(e.callSign?`${e.sortName} (${e.callSign})`:e.sortName)},null,8,["to","textContent"]),(s(!0),d(c,null,g(e.badges,(e=>(s(),d("div",{class:["people-badge",e.startsWith("No")?"people-badge-no":"people-badge-yes"],textContent:f(e)},null,10,["textContent"])))),256))]),u("div",H,[e.email?(s(),d("div",I,[u("a",{href:`mailto:${e.email}`,textContent:f(e.email)},null,8,["href","textContent"])])):v("",!0),e.email2?(s(),d("div",N,[u("a",{href:`mailto:${e.email2}`,textContent:f(e.email2)},null,8,["href","textContent"])])):v("",!0),e.cellPhone?(s(),d("div",j,[u("a",{href:`tel:${e.cellPhone}`,textContent:f(e.cellPhone)},null,8,["href","textContent"]),z])):v("",!0),e.homePhone?(s(),d("div",E,[u("a",{href:`tel:${e.homePhone}`,textContent:f(e.homePhone)},null,8,["href","textContent"]),W])):v("",!0),e.workPhone?(s(),d("div",q,[u("a",{href:`tel:${e.workPhone}`,textContent:f(e.workPhone)},null,8,["href","textContent"]),F])):v("",!0)]),u("div",G,[(s(!0),d(c,null,g(e.roles,((e,l)=>(s(),d("div",{key:l,textContent:f(e)},null,8,["textContent"])))),128)),e.roles.length?v("",!0):(s(),d("div",L,"â€”"))])],64)))),256))]),1===e.people.length?(s(),d("div",M,"1 person listed.")):(s(),d("div",{key:1,textContent:f(`${e.people.length} people listed.`)},null,8,["textContent"]))],64))])};export default y;
