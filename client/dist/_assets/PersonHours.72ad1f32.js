let e=document.createElement("style");e.innerHTML=".person-hours-event{padding-right:1rem;padding-left:.5rem;text-indent:-.5rem;line-height:1.2}.person-hours-event-includes{font-style:italic;font-size:.75rem}.person-hours-time{width:4rem;text-align:right}#person-hours-unregistered{margin:1.5rem .75rem;max-width:600px}#person-hours-unregistered pre{margin-left:1.5rem}#person-hours{margin:1.5rem .75rem}.person-hours-heading{font-weight:700;font-size:1.5rem}.person-hours-total-label{padding-right:1rem;text-align:right;font-weight:700}.person-hours-total-time{width:3rem;text-align:right;font-weight:700}#person-hours-buttons{margin-top:1rem}#person-hours-buttons .sbtn{margin-right:.5rem}#person-hours-guide{margin-top:1.5rem;max-width:800px}#person-hours-guide tr:nth-child(1){background-color:#5b9bd5}#person-hours-guide tr:nth-child(1) td{color:#fff;text-align:center;font-weight:700}#person-hours-guide tr:nth-child(2){font-weight:700}#person-hours-guide tr:nth-child(even){background-color:#deeaf6}#person-hours-guide td{padding:.25rem;width:50%;border:1px solid #eee;vertical-align:top;line-height:1.2}",document.head.appendChild(e);import{d as t,u as n,c as r,a as o,e as s,Q as a,b as i,o as u,z as l,p as d,g as p,_ as h,x as c,H as m,r as g,F as v,k as f,w as y,M as b,a1 as E}from"./index.ab3702d8.js";var S=t({props:{event:{type:Object,required:!0}},setup(e){const t=n(()=>{if(!e.event.placeholder)return null;switch(e.event.name){case"Other CERT Hours":return"Includes contact tracing";case"Other LISTOS Hours":return"Includes PEP and Outreach";default:return null}});return{eventText:n(()=>e.event.placeholder?e.event.name:`${e.event.date} ${e.event.name}`),eventIncludes:t,eventTime:n(()=>0===e.event.minutes?"":Math.floor(e.event.minutes/30)/2),setEventTime:function(t){e.event.minutes=60*parseFloat(t.target.value)}}}});const x={class:"person-hours-event"};S.render=function(e,t,n,l,d,p){return u(),r("tr",null,[o("td",x,[s(a(e.eventText),1),e.eventIncludes?(u(),r("div",{key:0,class:"person-hours-event-includes",textContent:e.eventIncludes},null,8,["textContent"])):i("v-if",!0)]),o("td",null,[o("input",{class:"person-hours-time",type:"number",min:"0",step:"0.5",value:e.eventTime,onChange:t[1]||(t[1]=(...t)=>e.setEventTime(...t))},null,40,["value"])])])},S.__file="client/src/pages/people/PersonHoursEvent.vue";var w=t({components:{PersonHoursEvent:S,SButton:l,SSpinner:d},props:{onLoadPerson:Function},setup(){const e=c(),t=m(),n=p(null),r=p(!1);return h.get(`/api/people/${e.params.id}/hours`).then(e=>{e.data?n.value=e.data.months:r.value=!0}),{months:n,onCancel:function(){t.go(-1)},onSubmit:async function(){const r=new FormData;n.value.forEach(e=>{e.events.forEach(e=>{r.append("e"+e.id,e.minutes.toString())})}),await h.post(`/api/people/${e.params.id}/hours`,r),t.push("/people/"+e.params.id)},totalHours:function(e){const t=e.events.reduce((e,t)=>e+t.minutes,0);return Math.floor(t/30)/2},unregistered:r}}});const C={key:0,id:"person-hours-unregistered"},R=s("You are not currently registered as a City of Sunnyvale volunteer. We appreciate your volunteer efforts, but we cannot record your hours until you are registered. To do so, please fill out "),T=o("a",{href:"https://www.volgistics.com/ex/portal.dll/ap?AP=929478828",target:"_blank"},"this form",-1),P=s(". In the “City employee status or referral” box, please enter"),k=o("pre",null,"Rebecca Elizondo\nDepartment of Public Safety",-1),H=o("div",null,[s("and the names of the organizations you're volunteering for (CERT, Listos, SNAP, and/or SARES). Come back a week or so later and we should have your registration on file. If you have any difficulties with this, please contact Rebecca at "),o("a",{href:"mailto:RElizondo@sunnyvale.ca.gov"},"RElizondo@sunnyvale.ca.gov"),s(".")],-1),I={key:1,id:"person-hours"},A={class:"person-hours"},z={class:"person-hours-table"},V=o("td",{class:"person-hours-total-label"},"TOTAL",-1),_={id:"person-hours-buttons"},L=s("Save Hours"),O=s("Cancel"),F=E('<table id="person-hours-guide"><tr><td>Volunteer Hours</td><td>Not Volunteer Hours</td></tr><tr><td>In general, time you spend helping or preparing to help the community as part of SERV. For example:</td><td>In general, time you spend preparing yourself or your household; or time you spend becoming a SERV volunteer. For example:</td></tr><tr><td>Organizing or teaching CERT Basic, Listos, PEP, or SNAP events</td><td>Attending CERT Basic, Listos, PEP, or ham cram classes</td></tr><tr><td>Preparing and maintaining a CERT or SARES “go kit” for deployment</td><td>Preparing and maintaining a personal or household evacuation kit</td></tr><tr><td>SERV team meetings, radio nets, and drills; CERT continuing education seminars; SARES or county ARES training classes</td><td>SERV team social gatherings</td></tr><tr><td>Responding in an emergency when activated by the city</td><td>Responding in an emergency when not activated by the city</td></tr><tr><td>Travel to and from the above</td><td></td></tr><tr><td>SERV administration activities</td><td></td></tr></table>',1);w.render=function(e,t,n,s,a,i){const l=g("SSpinner"),d=g("PersonHoursEvent"),p=g("SButton");return e.unregistered?(u(),r("div",C,[R,T,P,k,H])):e.months?(u(),r("form",{key:2,id:"person-hours",onSubmit:t[1]||(t[1]=b((...t)=>e.onSubmit(...t),["prevent"]))},[(u(!0),r(v,null,f(e.months,t=>(u(),r("div",A,[o("div",{class:"person-hours-heading",textContent:"Volunteer Hours for "+t.month},null,8,["textContent"]),o("table",z,[(u(!0),r(v,null,f(t.events,e=>(u(),r(d,{event:e,key:e.id},null,8,["event"]))),128)),o("tr",null,[V,o("td",null,[o("div",{class:"person-hours-total-time",textContent:e.totalHours(t)},null,8,["textContent"])])])])]))),256)),o("div",_,[o(p,{type:"submit",variant:"primary"},{default:y(()=>[L]),_:1}),o(p,{onClick:e.onCancel},{default:y(()=>[O]),_:1},8,["onClick"])]),F],32)):(u(),r("div",I,[o(l)]))},w.__file="client/src/pages/people/PersonHours.vue";export default w;
