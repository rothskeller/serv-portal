let e=document.createElement("style");e.innerHTML="#clearrep{margin:1.5rem .75rem}#clearrep-params{display:grid;grid:auto/-webkit-max-content -webkit-max-content;grid:auto/max-content max-content;align-items:baseline;gap:.5rem}#clearrep-tbody{display:grid;grid:auto/repeat(6,-webkit-max-content);grid:auto/repeat(6,max-content);-moz-column-gap:1.5rem;column-gap:1.5rem;margin-top:1.5rem}#clearrep-thead{display:flex}.clearrep-thead{font-weight:700}.clearrep-boxes{display:grid;grid:auto/auto-flow;align-items:center;-moz-column-gap:2px;column-gap:2px}.clearrep-bgCheck,.clearrep-bgCheckDOJ-,.clearrep-bgCheckDOJ-assumed,.clearrep-bgCheckDOJ-recorded,.clearrep-bgCheckFBI-,.clearrep-bgCheckFBI-assumed,.clearrep-bgCheckFBI-recorded,.clearrep-bgCheckPHS-,.clearrep-bgCheckPHS-assumed,.clearrep-bgCheckPHS-recorded,.clearrep-cardKey,.clearrep-certShirtLS,.clearrep-certShirtSS,.clearrep-dswCERT,.clearrep-dswComm,.clearrep-idPhoto,.clearrep-org-admin-leader,.clearrep-org-placeholder,.clearrep-servShirt,.clearrep-volgistics,.clearrep-volgistics:not(:empty){width:calc(1rem + 2px)}.clearrep-org-admin-leader,.clearrep-volgistics:not(:empty){font-size:1rem;font-weight:700;border-radius:2px;text-align:center;line-height:1;color:#fff;align-self:center;background-color:#888;border:1px solid #888}.clearrep-org-cert-t-student,.clearrep-org-listos-student{border-radius:.25rem;color:transparent;background-color:#888;border:2px solid #888;width:8px;height:8px;margin:calc(.5rem - 3px)}.clearrep-org-admin-member{width:calc(1rem + 2px);font-size:1rem;font-weight:700;border-radius:2px;text-align:center;line-height:1;border-width:1px;border-style:solid;align-self:center;color:#888;border-color:1px solid #888}.clearrep-org-cert-d-member{width:calc(1rem + 2px);font-size:1rem;font-weight:700;border-radius:2px;text-align:center;line-height:1;border-width:1px;border-style:solid;align-self:center;color:#060;border-color:1px solid #060}.clearrep-org-cert-t-member{width:calc(1rem + 2px);font-size:1rem;font-weight:700;border-radius:2px;text-align:center;line-height:1;align-self:center;color:#060;border:1px solid #060}.clearrep-org-listos-member{width:calc(1rem + 2px);font-size:1rem;font-weight:700;border-radius:2px;text-align:center;line-height:1;align-self:center;color:#f60;border:1px solid #f60}.clearrep-org-sares-member{width:calc(1rem + 2px);font-size:1rem;font-weight:700;border-radius:2px;text-align:center;line-height:1;align-self:center;color:#fc0;border:1px solid #fc0}.clearrep-org-snap-member{width:calc(1rem + 2px);font-size:1rem;font-weight:700;border-radius:2px;text-align:center;line-height:1;align-self:center;color:#00f;border:1px solid #00f}.clearrep-certShirtLS:not(:empty),.clearrep-dswCERT:not(:empty),.clearrep-org-cert-d-leader{width:calc(1rem + 2px);font-size:1rem;font-weight:700;border-radius:2px;text-align:center;line-height:1;color:#fff;align-self:center;background-color:#060;border:1px solid #060}.clearrep-org-cert-t-leader{width:calc(1rem + 2px);font-size:1rem;font-weight:700;border-radius:2px;text-align:center;line-height:1;color:#fff;align-self:center;background-color:#060;border:1px solid #060}.clearrep-org-listos-leader{width:calc(1rem + 2px);font-size:1rem;font-weight:700;border-radius:2px;text-align:center;line-height:1;color:#fff;align-self:center;background-color:#f60;border:1px solid #f60}.clearrep-dswComm:not(:empty),.clearrep-org-sares-leader{width:calc(1rem + 2px);font-size:1rem;font-weight:700;border-radius:2px;text-align:center;line-height:1;color:#fff;align-self:center;background-color:#fc0;border:1px solid #fc0}.clearrep-org-snap-leader{width:calc(1rem + 2px);font-size:1rem;font-weight:700;border-radius:2px;text-align:center;line-height:1;color:#fff;align-self:center;background-color:#00f;border:1px solid #00f}.clearrep-bgCheck:not(:empty),.clearrep-bgCheckDOJ-recorded,.clearrep-bgCheckFBI-recorded,.clearrep-bgCheckPHS-recorded{width:calc(1rem + 2px);font-size:1rem;font-weight:700;border-radius:2px;text-align:center;line-height:1;color:#fff;align-self:center;background-color:#0c0;border:1px solid #0c0}.clearrep-bgCheckDOJ-assumed,.clearrep-bgCheckFBI-assumed,.clearrep-bgCheckPHS-assumed{width:calc(1rem + 2px);font-size:1rem;font-weight:700;border-radius:2px;text-align:center;line-height:1;align-self:center;color:#0c0;border:1px solid #0c0}.clearrep-idPhoto:not(:empty){width:calc(1rem + 2px);font-size:1rem;font-weight:700;border-radius:2px;text-align:center;line-height:1;color:#fff;align-self:center;background-color:#00f;border:1px solid #00f}.clearrep-cardKey:not(:empty){width:calc(1rem + 2px);font-size:1rem;font-weight:700;border-radius:2px;text-align:center;line-height:1;color:#fff;align-self:center;background-color:#f0f;border:1px solid #f0f}.clearrep-certShirtSS:not(:empty){width:calc(1rem + 2px);font-size:1rem;font-weight:700;border-radius:2px;text-align:center;line-height:1;color:#fff;align-self:center;background-image:linear-gradient(to bottom,#060,#cfc);border:1px solid #060}.clearrep-servShirt:not(:empty){width:calc(1rem + 2px);font-size:1rem;font-weight:700;border-radius:2px;text-align:center;line-height:1;color:#fff;align-self:center;background-color:#c93;border:1px solid #c93}#clearrep-buttons{margin-top:1.5rem}",document.head.appendChild(e);import{d as r,f as t,O as a,z as l,n as o,u as c,P as i,e as n,N as s,F as d,a0 as p,S as g,_ as h}from"./index.899383f3.js";import{s as m}from"./page.c7ab6217.js";const u=r({name:"Clearance",props:{},emits:[],setup(){const e=o(),r=c();m({title:"Clearance Report",browserTitle:"Clearance"});const d=t({});return a((async()=>{d.value=(await h.get("/api/reports/clearance",{params:e.query})).data,d.value.justLoaded=!0})),l(d,(()=>{if(!d.value)return;if(d.value.justLoaded)return void(d.value.justLoaded=!1);const e={};e.role=d.value.parameters.role,e.with=d.value.parameters.with,e.without=d.value.parameters.without,r.replace({path:"/reports/clearance",query:e})}),{deep:!0}),function(){if(!d.value.parameters)return i("div",{id:"clearrep"},i(n));const e=0!=d.value.rows.length&&void 0===d.value.rows[0].bgCheck,r=new Set;return d.value.rows.forEach((e=>{Object.keys(e.orgs).forEach((e=>{r.add(e)}))})),i("div",{id:"clearrep"},[(t=d.value.parameters,i("div",{id:"clearrep-params"},[i("div","Show"),i(s,{modelValue:t.role,options:[{id:0,name:"Everyone"},...t.allowedRoles],valueKey:"id",labelKey:"name","onUpdate:modelValue":e=>t.role=e}),i("div","with"),i(s,{modelValue:t.with,options:[{value:"",label:"—"},...t.allowedRestrictions],"onUpdate:modelValue":e=>t.with=e}),i("div","and without"),i(s,{modelValue:t.without,options:[{value:"",label:"—"},...t.allowedRestrictions],"onUpdate:modelValue":e=>t.without=e})])),f(d.value.rows,Array.from(r.keys()).sort(),e),P(d.value)]);var t}}});function f(e,r,t){return e.length?i("div",{id:"clearrep-tbody"},[b(t),...e.map((e=>function(e,r,t){return i(d,[w(e,r),v(e),S(e),C(e),t?y(e):k(e),z(e)])}(e,r,t)))]):i("div",{style:"margin-top:1.5rem;font-weight:bold"},"No one matches these report criteria.")}function b(e){return i(d,[i("div",{class:"clearrep-thead"},"Orgs"),i("div",{class:"clearrep-thead"},"Name"),i("div",{class:"clearrep-thead"},"V"),i("div",{class:"clearrep-thead"},"DSW"),i("div",{class:"clearrep-thead"},e?"BG":"B"),i("div",{class:"clearrep-thead"},"Identification")])}const x={admin:"A","cert-d":"D","cert-t":"T",listos:"L",sares:"S",snap:"S"};function w(e,r){return i("div",{class:"clearrep-boxes"},r.map((r=>e.orgs[r]?i("div",{class:`clearrep-org-${r}-${e.orgs[r].privLevel}`,title:e.orgs[r].title},x[r]):i("div",{class:"clearrep-org-placeholder"}))))}function v(e){return i(p,{to:`/people/${e.id}`},(()=>e.sortName))}function S(e){return i("div",{class:"clearrep-volgistics",title:e.volgistics?"City Volunteer":null},e.volgistics?"V":"")}function C(e){return i("div",{class:"clearrep-boxes"},[i("div",{class:"clearrep-dswCERT",title:e.dswCERT?"DSW for CERT":null},e.dswCERT?"C":""),i("div",{class:"clearrep-dswComm",title:e.dswComm?"DSW for Communications":null},e.dswComm?"S":"")])}function k(e){return i("div",{class:"clearrep-bgCheck",title:e.bgCheck?"Background Check":null},e.bgCheck?"B":"")}function y(e){return i("div",{class:"clearrep-boxes"},[i("div",{class:`clearrep-bgCheckDOJ-${e.bgCheckDOJ}`,title:"recorded"==e.bgCheckDOJ?"LiveScan/DOJ":"assumed"===e.bgCheckDOJ?"LiveScan/DOJ (assumed)":null},e.bgCheckDOJ?"D":""),i("div",{class:`clearrep-bgCheckFBI-${e.bgCheckFBI}`,title:"recorded"==e.bgCheckFBI?"LiveScan/FBI":"assumed"===e.bgCheckFBI?"LiveScan/FBI (assumed)":null},e.bgCheckFBI?"F":""),i("div",{class:`clearrep-bgCheckPHS-${e.bgCheckPHS}`,title:"recorded"==e.bgCheckPHS?"Personal History":"assumed"===e.bgCheckPHS?"Personal History (assumed)":null},e.bgCheckPHS?"P":"")])}function z(e){return i("div",{class:"clearrep-boxes"},[i("div",{class:"clearrep-idPhoto",title:e.idPhoto?"Photo ID":null},e.idPhoto?"P":""),i("div",{class:"clearrep-cardKey",title:e.cardKey?"Card Key":null},e.cardKey?"C":""),i("div",{class:"clearrep-certShirtLS",title:e.certShirtLS?"Green CERT Shirt (LS)":null},e.certShirtLS?"S":""),i("div",{class:"clearrep-certShirtSS",title:e.certShirtSS?"Green CERT Shirt (SS)":null},e.certShirtSS?"S":""),i("div",{class:"clearrep-servShirt",title:e.servShirt?"Tan SERV Shirt":null},e.servShirt?"S":"")])}function P(e){if(!e.rows.length)return null;return i("div",{id:"clearrep-buttons"},i(g,{variant:"primary",onClick:function(){window.location.href=`/api/reports/clearance?role=${e.parameters.role}&with=${e.parameters.with}&without=${e.parameters.without}&format=csv`}},(()=>"Export")))}export default u;
