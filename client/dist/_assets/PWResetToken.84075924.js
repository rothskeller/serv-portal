let e=document.createElement("style");e.innerHTML="#pwreset-token-top{margin:0 auto;padding:0 .75rem;max-width:calc(.75rem + 10rem + 20rem + .75rem + 1.5rem)}#pwreset-token-banner{margin-top:1rem;text-align:center;font-weight:700;font-size:1.5rem}#pwreset-token-intro{margin-top:.5rem;text-align:center;font-size:.9rem;line-height:1.2}#pwreset-token-form{margin-top:1.5rem;justify-content:center}#pwreset-token-submit-row{margin:1.5rem 0 2rem;text-align:center}#pwreset-token-reset{margin-top:1rem;text-align:center}",document.head.appendChild(e);import{d as t,k as r,s,W as a,e as n,f as o,_ as i,p as d,X as p,u as m,r as w,c as l,F as u,a as c,w as k,o as v,b as g}from"./index.8d79920c.js";import{s as f}from"./page.37dd190a.js";var S=t({components:{SForm:r,SButton:s,SFPassword:a,SSpinner:n},setup(){f({title:"",browserTitle:"Password Reset"});const e=d(),t=m(),r=o(!1),s=o(null);i.get(`/api/password-reset/${e.params.token}`).then((e=>{s.value=e.data})).catch((()=>{r.value=!0}));const a=o("");return{password:a,hints:s,invalid:r,onSubmit:async function(){const r=Array.isArray(e.params.token)?e.params.token[0]:e.params.token;await p(r,a.value)&&t.replace("/")}}}});const h={id:"pwreset-token-top"},b=c("div",{id:"pwreset-token-banner"},"Password Reset",-1),y=c("div",{id:"pwreset-token-intro"},"This password reset link is invalid or has expired.",-1),x={id:"pwreset-token-reset"},P=g("Try Again"),F={key:1,id:"pwreset-token-intro"},T=c("div",{id:"pwreset-token-intro"},"Please provide a new password. Enter it twice.",-1),_={id:"pwreset-token-submit-row"},j=g("Reset Password");S.render=function(e,t,r,s,a,n){const o=w("SButton"),i=w("SSpinner"),d=w("SFPassword"),p=w("SForm");return v(),l("div",h,[b,e.invalid?(v(),l(u,{key:0},[y,c("div",x,[c(o,{to:"/password-reset",variant:"primary"},{default:k((()=>[P])),_:1})])],64)):e.hints?(v(),l(u,{key:2},[T,c(p,{id:"pwreset-token-form",onSubmit:e.onSubmit},{buttons:k((()=>[c("div",_,[c(o,{type:"submit",variant:"primary"},{default:k((()=>[j])),_:1})])])),default:k((()=>[c(d,{id:"pwreset-password",allowBadPassword:!1,passwordHints:e.hints,required:"",modelValue:e.password,"onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t)},null,8,["passwordHints","modelValue"])])),_:1},8,["onSubmit"])],64)):(v(),l("div",F,[c(i)]))])};export default S;
